/*! Omnis Studio 10.22 31896. JS: 31896 */
"use strict";(self.webpackChunkomnis_webpack=self.webpackChunkomnis_webpack||[]).push([[597],{9447:function(e,t){function i(e){this.mCtrl=e,e.form.disableAutomaticUpdates=!0,this.saveRow=e.rowCtrl.getData("#L",null,null,null,null,null,!0),e.rowCtrl.setData(e.rowNumber,"#L"),e.form.disableAutomaticUpdates=!1}i.prototype.restoreOldRow=function(){this.mCtrl.form.disableAutomaticUpdates=!0,this.mCtrl.rowCtrl.setData(this.saveRow,"#L",null,null,null,null,!1,!0),this.mCtrl.form.disableAutomaticUpdates=!1},t.Z=i},6353:function(e,t,i){i.d(t,{Mr:function(){return A},U2:function(){return F},CK:function(){return P},Aj:function(){return L},b:function(){return x},n4:function(){return ee},Bg:function(){return p},W9:function(){return g},GP:function(){return _},a0:function(){return y},w5:function(){return b},EF:function(){return v},g:function(){return O},NE:function(){return S},rP:function(){return E},rn:function(){return C},i8:function(){return D},hq:function(){return w},$8:function(){return T},Bu:function(){return I},Qj:function(){return j}});i(2526),i(1817),i(2165),i(2222),i(7327),i(2772),i(6992),i(4986),i(7042),i(2707),i(561),i(9653),i(7941),i(1539),i(9714),i(8783),i(3123),i(3948);var n,r=i(9447),s=i(5304),o=i(9180),a=i.n(o);function l(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var u=0;function c(e){return"__private_"+u+++"_"+e}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var f=0,p={evNone:0,evBefore:-3,evAfter:-4,evClick:-5,evDoubleClick:-6,evDrag:-13,evDrop:-18,evTabSelected:-43,evWillDrop:-50,evCanDrop:-51,evCellChanged:-53,evOpenContextMenu:-58,evHeaderClick:-68,evExecuteContextMenu:-90,evHeadedListDisplayOrderChanged:-91,evUserChangedPage:-94,evFormToTop:-77,evDragFinished:-83,evScreenOrientationChanged:-89,evSubFormToTop:-92,evAnimationsComplete:-93,evDragBorder:-95,evLayoutChanged:-106},g={name:-1,ident:-25,count:-53,iconid:-250,tooltip:-262,hiliteline:-278,errortext:-363,title:-400,top:-401,left:-402,height:-403,width:-404,horzscroll:-409,vertscroll:-410,backcolor:-416,backpattern:-417,dragborder:-438,order:-440,dataname:-443,text:-444,visible:-446,uppercase:-453,negallowed:-454,zeroempty:-455,multipleselect:-463,forecolor:-464,font:-465,fontsize:-466,fontstyle:-467,align:-468,linestyle:-469,edgefloat:-470,container:-473,effect:-494,hscroll:-498,vscroll:-499,enabled:-506,dragmode:-508,dropmode:-509,active:-514,checked:-571,fontname:-690,bordercolor:-720,textcolor:-721,inputmask:-725,contextmenu:-760,fieldstyle:-887,vscrolltips:-905,events:-956,okkeyobject:-980,cancelkeyobject:-985,userinfo:-1091,disabledefaultcontextmenu:-1117,disablesystemfocus:-1130,alpha:-1200,screensize:-1201,commandid:-1204,remotemenu:-1205,backalpha:-1227,beginanimations:-1232,commitanimations:-1233,vertcentertext:-1243,jsdateformat:-1250,jsdateformatcustom:-1251,borderradius:-1252,autoscroll:-1253,resizemode:-1255,jsnumberformat:-1256,cssclassname:-1257,sqlobject:-1265,errorline:-1303,errortextpos:-1305,textishtml:"$textishtml",pagesize:-1307,visibleinbreakpoint:-1324,autocomplete:"$autocomplete",autocapitalize:"$autocapitalize",autocorrect:"$autocorrect",preventlayoutanimation:-1341,arialabel:-1361,arialabelledby:-1362,ariadescribedby:-1363,isCheckable:-1365,keyboardchangesline:"$keyboardchangesline",defaultDisabledAppearance:-1369,pagerpage:-1377,hasshadow:-1431,nexttabobject:-1440,horzPadding:"$horzpadding",vertPadding:"$vertpadding"},_={eNone:0,eClient:1,eWithin:2,eCustom:4},y={None:0,Plain:1,Inset:2,Embossed:3,SingleInset:9,SingleEmbossed:10,Default:100},b={Black:0,White:16777215,Default:2147483697,Gray:12632256},v={Solid1:1,Solid2:2,Solid3:3,Solid4:4,Solid5:5,Solid6:6,Solid7:7,Dashed:11,Dotted:14,None:16},O={bold:1,italic:2,underline:4,linethrough:128},S={left:0,right:1,center:2},E={none:0,plain:1,inset:2,embossed:3,singleinset:9,singleembossed:10,Default:100},C={Sunday:12,Monday:13,Tuesday:14,Wednesday:15,Thursday:16,Friday:17,Saturday:18},D={none:0,time:1,shortdate:2,shortdatetime:3,mediumdate:4,mediumdatetime:5,longdate:6,longdatetime:7,fulldate:8,fulldatetime:9,custom:10},w={under:0,right:1,hidden:2},T={files:65536,control:262144,filesClient:2,controlClient:1},I={off:"off",polite:"polite",assertive:"assertive"},j={additions:1,removals:2,text:4,all:8};function F(){this.init_class_inst()}F.prototype.AUTO_CAPITALIZE_VALUES=["sentences","words","none"];var A={BACKGROUND:"background",TEXT:"text",BORDER:"border",SYSTEM_FOCUS:"SYSTEM_FOCUS"};F.prototype.DefaultColors=(d(n={},A.BACKGROUND,s.l1.background),d(n,A.TEXT,s.l1.backgroundText),d(n,A.BORDER,s.l1.border),d(n,A.SYSTEM_FOCUS,s.l1.focusIndicator),n),F.prototype.baseClassName="",F.prototype.animateLayoutTransitions=!0,F.prototype.animateLayoutTime=500,F.prototype.allowDefaultDropHandling=!1,F.prototype.mAcceptsReturn=!1,F.prototype.mAcceptsEscape=!1,F.prototype.defaultAriaElem=!0,F.prototype.mAlwaysUseFocusBorder=!1,F.prototype.mUsesFocusBorder=!0,F.prototype.okKeyEventName="click",F.prototype.init_class_inst=function(){this.uniqueID=++f,this.objNumber=0,this.objLink=0,this.objName="",this.dataName="",this.mDisabledStyleFlags=0,this.usesTouchScroll=!0,this.mFocusStyle=_.eClient,this.eventParams=[],this.eventsToSend=[]},F.prototype.delete_class_inst=function(){this.mFocusStyle==_.eWithin&&(this.elem.removeEventListener("focusin",this.mEventFunction),this.elem.removeEventListener("focusout",this.mEventFunction)),this.cancelKeySearch(),this.tabOutHandler&&this.tabOutHandler.canDestroy()&&(this.tabOutHandler=null);var e=this.mChildren;if(e){for(var t=0;t<e.length;++t)e[t].delete_class_inst();this.mChildren=[]}if(this.objNumber>0&&this.form.mTabOrder){var i=this.form.mTabOrder.indexOf(this);-1!=i&&this.form.mTabOrder.splice(i,1),this.objNumber==this.form.maxObjNumber&&--this.form.maxObjNumber}return!0},F.prototype.init_ctrl_inst=function(e,t,i,n){this.form=e,e.rowUnique&&(this.rowUnique=e.rowUnique);var r,o=new Function("event","jOmnis.handleEvent(event,this,"+e.ident+","+this.uniqueID+")");this.mEventFunction=o;var a=t.getAttribute("data-ord");a?"*"!=a?((r=parseInt(a.substr(1),16))>32768&&(r-=32768,this.mHasClientEvent=!0),this.inhLevel=parseInt(a.substr(0,1),16)):r=this.objNumber:(r=parseInt(t.getAttribute("data-order"),10),this.inhLevel=0),r>e.maxObjNumber&&(e.maxObjNumber=r),this.objNumber=r,this.objIdent=Number(t.getAttribute("data-ident")),this.objLink=Number(t.getAttribute("data-objlink")),this.objName=t.getAttribute("name"),this.dataName=t.getAttribute("data-dataname"),this.dataIndex=-1,this.baseClassName&&jOmnis.addClass(t,this.baseClassName.split(" ")[0]+"-frame"),this.elem=t,t.omnisObject=this,this.rowCtrl=i,this.rowNumber=n,this.eventsToSend=jOmnis.getAttributeList(t,"data-events"),this.disableDefaultContextMenu=t.getAttribute("data-disabledefaultcontextmenu"),this.parentVisible=!0,this.cachedPositionInfo||this.initLayoutInfo();var l=t.getAttribute("data-float");if(l){var m=l.split(","),u=m.length;if(1==u)this.edgeFloat=parseInt(m[0]);else{for(var c=0;c<u;++c)m[c]=parseInt(m[c]);this.edgeFloat=m}}if(this.mHasDisplayFormat){var h=t.getAttribute("data-jsdf");null!=h&&(this.mDateFormatType=Number(h),this.mDateFormatCustom=t.getAttribute("data-jscf")),this.mNumberFormat=t.getAttribute("data-jsnf")}var d=t.getAttribute("data-ui");null!=d&&(this.userInfo=d);var f=this.getClientElem(),p=this.getTheme();this.themeableData=p.getThemeableObj(f),this.hasShadow=!1,f.hasAttribute("data-shadow")&&(this.hasShadow=!0,jOmnis.addClass(t,"om_shadow")),this.getCanAssign(g.horzPadding)&&(this.mHorizontalPadding=+f.getAttribute("data-hpadding")),this.getCanAssign(g.vertPadding)&&(this.mVerticalPadding=+f.getAttribute("data-vpadding")),f.style.boxSizing="border-box",this.mDisableSystemFocus="none"==f.style.outlineStyle,f.style.outline="",this.horzscroll="scroll"===f.style.overflowX,this.vertscroll="scroll"===f.style.overflowY,this.autoscroll="auto"===f.style.overflow,jOmnis.getObjectVisible(t)||this.visibilityChanged(),this.setBorderFromOmnisDefinition(f),r>0&&!i&&e.mTabOrder.push(this),f.onfocus=o,t.oncontextmenu=o,this.mFocusStyle==_.eWithin?(this.elem.addEventListener("focusin",this.mEventFunction),this.elem.addEventListener("focusout",this.mEventFunction)):this.mFocusStyle==_.eClient?(y=this.mDisableSystemFocus?"noFocus":"autoFocus",this.baseClassName=this.baseClassName?this.baseClassName+(y?" "+y:""):y||""):(y="noFocus",this.baseClassName=this.baseClassName?this.baseClassName+(y?" "+y:""):y||"");var y=t.getAttribute("data-css");f.className=this.baseClassName?this.baseClassName+(y?" "+y:""):y||"",this.mHasDefaultDisableAppearanceProperty&&(this.mDefaultDisabledAppearance=!t.getAttribute("data-preventdisabledapp")),this.activeProperty="0"!==t.getAttribute("data-active"),this.enabledProperty=this.activeReplacesEnabled?this.activeProperty:"0"!==t.getAttribute("data-enabled"),this.applyActiveAndEnabledStates(!1),this.applyActiveCss(),this.applyEnabledCss(),"1"==f.getAttribute("data-dragmode")&&(this.mDragEnabled=!0);var b=t.getAttribute("data-dropmode");if(b&&(this.mDropMode=1*b),this.themeableData){this.noBackColor||(f.style.backgroundColor=p.getColorString(this.themeableData.backgroundColor,this.DefaultColors.background,this.themeableData.backgroundAlpha/255));var v=p.getTextColorString(this.themeableData.color,this.resolveDefaultColor(this.themeableData.backgroundColor,A.BACKGROUND),this.DefaultColors.text);f.style.color=v,this.setFillColor&&s.Q2.SetThemedIconColor(f,v)}else jOmnis.setBackgroundFromOmnisDefinition(f);var O=t.getAttribute("data-alpha");null!=O&&(O*=1,this.alpha=O,jOmnis.setOpacity(t,O));var S=f.getAttribute("data-fieldstyle");null==S&&(S=t.getAttribute("data-fieldstyle")),this.fieldStyleName=S,this.animateLayoutTransitions=!jOmnis.mDesign&&!t.getAttribute("data-pla")||jOmnis.mDesignAnimate;var E=+t.getAttribute("data-pagesize");if(E>0){this.setPagerPageSize(E,!0);var C=+t.getAttribute("data-pagerpage");C>1&&this.setPagerPage(C,!0)}return this.mAriaLabel=t.getAttribute("data-arial"),this.mAriaLabelledby=t.getAttribute("data-arialb"),this.mAriaDescribedby=t.getAttribute("data-ariadb"),this.defaultAriaElem&&(this.ariaElem=f),this.needAriaAttribs=!!(this.mAriaLabel||this.mAriaLabelledby||this.mAriaDescribedby),this.needAriaAttribs&&this.form.registerForFormBuilt(this),this.setAriaDisabled(!0),jOmnis.mDesign&&this.showDesignName&&!this.form.isSubform&&(this.elem.style.overflow="hidden",this.designNameDiv=this.appendDesignName(this.elem),this.copyFont(f.style,this.designNameDiv.style,this.showDesignNameBackground)),!1},F.prototype.post_init_ctrl_inst=function(){this.fieldStyleName&&("*"===this.elem.getAttribute("data-ord")||this.rowCtrl?this.form.applyOmnisStyleNow(this,this.fieldStyleName):this.form.applyOmnisStyle(this,this.fieldStyleName))},F.prototype.fieldStyleChanged=function(e){e&eStyleChangedFlag.fontChanged&&this.fontChanged(),e&eStyleChangedFlag.fillChanged&&this.fillChanged()},F.prototype.formBuilt=function(){this.formIsBuilt=!0,this.needAriaAttribs&&(this.setAriaAttributes(null,!0),this.needAriaAttribs=!1)},F.prototype.initLayoutInfo=function(e){if(this.isResponsive=this.form&&this.form.isResponsive,this.layoutRef=null,e)var t=e;else if(this.isResponsive){var i=[];for(var n in t=JSON.parse(this.elem.getAttribute("data-pi")))i.push(n.toString());i.sort((function(e,t){return+e>+t?1:-1}))}else t=this.elem.hasAttribute("data-ssz")?jOmnis.getAttributeList(this.elem,"data-ssz","~"):jOmnis.getAttributeList(this.elem,"data-screensizes","~");this.cachedPositionInfo=new P(this,t)},F.prototype.getData=function(e,t,i,n,s,o,a){var l;if(-1==this.dataIndex&&(this.dataIndex=this.form.getDataIndex(this.dataName,this),this.newDataIndex()),this.pager&&this.pager.isAttached&&!a&&(t=this.pager.pagedRowToAbsoluteRow(t)),this.rowCtrl){var m=new r.Z(this);l=this.form.getData(null==n?this.dataIndex:n,e,t,i,s,o),m.restoreOldRow()}else l=this.form.getData(null==n?this.dataIndex:n,e,t,i,s,o);return this.pager&&this.pager.isAttached&&!a&&(l=this.pager.getCurrentPageData(l,e)),l},F.prototype.setData=function(e,t,i,n,r,s,o,a){if(!this.dataName)return!1;if(-1==this.dataIndex&&(this.dataIndex=this.form.getDataIndex(this.dataName,this),this.newDataIndex()),(this.pager||this.rowCtrl&&this.rowCtrl.pager)&&!a)if(i&&(i=this.pager.pagedRowToAbsoluteRow(i)),"#L"===t)e=this.pager.pagedRowToAbsoluteRow(e,this.pager.displayedPage),this.pager.setCurrentLine(e);else if("#LSEL_ALL"===t){for(var l=new Array(this.getData("#LCNT",null,null,null,null,null,!0)),m=(this.pager.displayedPage-1)*this.pager.entriesPerPage,u=m+this.pager.entriesPerPage-1,c=0;c<l.length;c++)l[c]=c>=m&&c<=u?e[c-m]:0;e=l}this.rowCtrl&&this.rowCtrl.setData(this.rowNumber,"#L"),this.mDisableUpdate=!o;var h=this.form.setData(this.dataIndex,e,t,i,n,!this.form.disableAutomaticUpdates,r,s,this);return this.mDisableUpdate=!1,h},F.prototype.setDataName=function(e){var t=!1,i=this.form.getDataIndex(e,this);return i>0&&(this.dataName=e,this.dataIndex=i,this.newDataIndex(),t=!0),t},F.prototype.deleteChangeRecords=function(){-1==this.dataIndex&&(this.dataIndex=this.form.getDataIndex(this.dataName,this),this.newDataIndex()),this.rowCtrl&&this.rowCtrl.setData(this.rowNumber,"#L"),this.form.deleteChangeRecords(this.dataIndex)},F.prototype.getCtrlElem=function(e){var t=this.elem.id,i=t.lastIndexOf("_frame");if(i>0){t=t.substr(0,i)+e;var n=document.getElementById(t);if(n)return n;for(var r=this.elem.getElementsByTagName("*"),s=0;s<r.length;++s)if(r[s].id===t)return r[s]}return null},F.prototype.getClientElem=function(){if(this.clientElem)return this.clientElem;var e=this.getCtrlElem("_client");return null==e&&(e=this.elem),e.omnisObject=this,this.clientElem=e,e},F.prototype.makeChildIdBase=function(e){var t=e.id,i=t.lastIndexOf("client");this.childIdBase=t.substr(0,i)},F.prototype.getTheme=function(){return this.form.inst.theme},F.prototype.setPerLayoutVariable=function(e,t,i){i||(i=this.form.mPositionInfo.getLayoutRef()),this.cachedPositionInfo.updateLayoutInfo(i,"_var_"+e,t)},F.prototype.getPerLayoutVariable=function(e,t){return t||(t=this.form.mPositionInfo.getLayoutRef()),this.cachedPositionInfo.getLayoutInfo(t)["_var_"+e]},F.prototype.setScreenSize=function(e,t,i,n,r){var s=0;this.currentLayout=e;var o=this.cachedPositionInfo.getLayoutInfo(e);if(r){var a=this.layoutVisibility;this.layoutVisibility=!o.hiddenInBreakpoint||jOmnis.mDesign,this.elem.style.display=this.layoutVisibility?"":"none",this.layoutVisibility!=a&&void 0!==a&&this.visibilityChanged(),this.isResponsive&&this.mHasAlign&&this.setProperty(g.align,o.align)}jOmnis.mDesign&&this.form.isResponsive&&this.setFilterForVisibleInBreakpoint(o.hiddenInBreakpoint);var l=[o.left,o.top,o.width,o.height];null==o.edgeFloat||n||!t&&!i||jOmnis.mDesign&&!this.form.isSubform||(s=jOmnis.floatRect(o.edgeFloat,l,t,i));var m=l.join();if(m!=this.lastSizeInfo||jOmnis.mDesign&&!this.form.isSubform){if(this.lastSizeInfo=m,this.form.animateLayoutTransitions&&this.animateLayoutTransitions&&!this.form.mInstallingChildren&&(r||this.breakpointTransitionAnimationFrame)){jOmnis.clearAnimations(this.elem,this.breakpointTransitionAnimationFrame);var u=this;this.breakpointTransitionAnimationFrame=jOmnis.animate(this.elem,{left:l[0]+"px",top:l[1]+"px",width:l[2]+"px",height:l[3]+"px"},this.animateLayoutTime,(function(){jOmnis.clearAnimations(u.elem,u.breakpointTransitionAnimationFrame),u.breakpointTransitionAnimationFrame=null,u.onLayoutTransitionFinished&&u.onLayoutTransitionFinished.call(u)}))}else jOmnis.setOmnisRect(this.elem,l[0],l[1],l[2],l[3]);var c=this.clientElem;if(this.elem!=c&&!this.mDisableSetClientSize){var h=!0,d=!0;if(this instanceof ctrl_subform){var f=this.form.getSubform(this.subformIndex);f&&!f.isResponsive&&(this.horzscroll&&(h=!1),this.vertscroll&&(d=!1))}var p=this.pager&&this.pager.isAttached?l[3]-this.pager.pagerHeight:l[3];if(this.form.animateLayoutTransitions&&this.animateLayoutTransitions&&!this.form.mInstallingChildren&&(r||this.breakpointTransitionAnimationClient)){jOmnis.clearAnimations(c,this.breakpointTransitionAnimationClient),u=this;var _={};h&&(_.width=l[2]+"px"),d&&(_.height=l[3]+"px"),(_.width||_.height)&&(this.breakpointTransitionAnimationClient=jOmnis.animate(c,_,this.animateLayoutTime,(function(){jOmnis.clearAnimations(c,u.breakpointTransitionAnimationClient),u.breakpointTransitionAnimationClient=null,u.sizeChanged()})))}else{var y="DIV"==c.tagName;y&&jStyles.setElem(c),h&&jOmnis.setOmnisWidth(c,l[2],y),d&&jOmnis.setOmnisHeight(c,p,y),y&&jStyles.done()}}var b=!0}return this.cachedPositionInfo.updateLayoutDimensions(e,l),b&&this.sizeChanged(),0==s&&n&&null!=o.edgeFloat&&(s=this.getEdgeFloat(e,!0)),s},F.prototype.onLayoutTransitionFinished=function(){this.pager&&this.pager.isAttached&&this.pager.reposition()},F.prototype.setErrorDivPosition=function(e){var t=this.getErrorTextPos(e),i=this.mErrorDiv.style;t==w.under?(i.removeProperty("left"),i.removeProperty("padding-left"),i.top=jOmnis.getOmnisHeight(this.elem)+"px",i.paddingTop="4px",i.visibility="visible"):t==w.hidden?i.visibility="hidden":(i.removeProperty("top"),i.removeProperty("padding-top"),i.left=jOmnis.getOmnisWidth(this.elem)+"px",i.paddingLeft="4px",i.visibility="visible")},F.prototype.getEdgeFloat=function(e,t){var i=this.cachedPositionInfo.getLayoutInfo(e).edgeFloat;if(null==i)return 0;if(t)switch(i){case WND_WC_MENUBAR:case WND_WC_TOOLBAR_TOP:case WND_WC_STATUSBAR:case WND_WC_TOOLBAR_BOTTOM:case WND_WC_MAIN_HEADER:case WND_WC_HORZ_HEADER:case WND_WC_HORZ_FOOTER:case WND_WC_TOOLBAR_LEFT:case WND_WC_TOOLBAR_RIGHT:case WND_WC_VERT_HEADER:case WND_WC_CLIENT:case WND_WC_HEADER_BUTTON:return WND_FLOAT_BOTTOM+WND_FLOAT_RIGHT}return i},F.prototype.getDragBorder=function(e){return this.cachedPositionInfo.getLayoutInfo(e).dragBorder},F.prototype.getErrorTextPos=function(e){return this.cachedPositionInfo.getLayoutInfo(e).errorTextPos||w.under},F.prototype.getNodeListItemByType=function(e,t){if(!e||!t)return null;for(var i=0;i<e.length;i++){var n=e.item(i);if(n.nodeType==t)return n}return null},F.prototype.getPixels=function(e){return parseFloat(e.substr(0,e.indexOf("px")))},F.prototype.updateCtrl=function(e,t,i,n){},F.prototype.update=function(e,t,i,n){if(!this.mDisableUpdate)if(!this.form.inst.recordUpdates||this instanceof ctrl_cgrid||n)null==e&&(e=""),!this.pager||e&&"#L"!=e||this.pager.dataChanged(),this.updateCtrl(e,t,i,n);else{for(var r=this.form.inst.updatesRequired,s=0;s<r.length;++s){var o=r[s];if(o.ctrl.uniqueID==this.uniqueID&&o.what==e&&o.row==t&&o.col==i)return}r.push({ctrl:this,what:e,row:t,col:i})}},F.prototype.resolveDefaultColor=function(e,t){return e!==s.JT?e:this.DefaultColors[t]||console.log('No default color for "'.concat(t,'" found for ').concat(h(this)))&&0},F.prototype.setBorderColor=function(e){this.setBorderFromOmnisDefinition(e)},F.prototype.getBorderColor=function(e){var t=e.getAttribute("data-bordercolor");if(null!=t)return null!=t?this.getTheme().getColorString(+t,this.DefaultColors[A.BORDER]):""},F.prototype.setFocusBorderElem=function(e){if(this.mFocusBorderElem&&(this.mFocusBorderElem.remove(),this.mFocusBorderElem=null),!this.mDisableSystemFocus||this.mAlwaysUseFocusBorder){var t=document.createElement("div");t.className="omnis-focus-border",t.style.borderColor=this.getFocusBorderColor(),e&&(t.style.borderSize=e),this.getFocusBorderElemParent().appendChild(t),this.mFocusBorderElem=t}},F.prototype.getFocusBorderColor=function(){return this.getTheme().getColorString(this.DefaultColors.SYSTEM_FOCUS)},F.prototype.getFocusBorderElemParent=function(){return this.elem},F.prototype.setBorderFromOmnisDefinition=function(e,t,i,n){if(null==e)return!1;null==i&&(i=e),this.mUsesFocusBorder&&this.setFocusBorderElem();var r=i.getAttribute("data-effect");if(null==r){if(!this.mCanHaveDesignBorder||this.form.isSubform||e!=this.clientElem)return!1;r=E.none}r*=1;var o=i.getAttribute("data-borderradius")||"0";this.setBorderRadius(e,o),this.mFocusBorderElem&&this.setBorderRadius(this.mFocusBorderElem,o);var a="border"+(t=jOmnis.defaultParameter(t,"")),l=this.borderWidth,m=!0,u="";(jOmnis.inMS()||jOmnis.inFirefox())&&(u=" #CCCCCC");var c,h=e.style;switch(r){case E.none:n||(h[a]="0px none",this.borderWidth=0),c=this.mCanHaveDesignBorder&&!this.form.isSubform;break;case E.plain:var d=this.getBorderColor(i),f=i.getAttribute("data-borderwidth");if(null!=f)return this.mBorderWidth=f,h[a]="".concat(f,"px solid ").concat(d),m;var p=i.getAttribute("data-linestyle");switch(p*=1){case v.Solid1:case v.Solid2:case v.Solid3:case v.Solid4:case v.Solid5:case v.Solid6:case v.Solid7:h[a]=p+"px solid "+d,this.borderWidth=p;break;case v.Dashed:h[a]="1px dashed "+d,this.borderWidth=1;break;case v.Dotted:h[a]="1px dotted "+d,this.borderWidth=1;break;case v.None:h[a]="0px none "+d,this.borderWidth=0,c=this.mCanHaveDesignBorder&&!this.form.isSubform}break;case E.inset:h[a]="2px inset"+u,this.borderWidth=2;break;case E.embossed:h[a]="2px outset"+u,this.borderWidth=2;break;case E.singleinset:h[a]="1px inset"+u,this.borderWidth=1;break;case E.singleembossed:h[a]="1px outset"+u,this.borderWidth=1;break;case E.Default:if(this.mUsesInputBorderStyle){h[a]="",this.borderWidth=0;var g=this.getBorderColor(i);this.clientElem.style.borderColor=g;break}"DIV"==e.tagName?(h[a]="1px solid "+this.getTheme().getColorString(s.JT,this.DefaultColors[A.BORDER]),this.borderWidth=1):(h[a]="",this.borderWidth=jOmnis.defaultBorderWidth);break;default:m=!1}if(m&&null!=l&&l!=this.borderWidth&&this.deferSizeChanged(0),!this.form.isSubform&&jOmnis.mDesign)if(c){if(!this.designBorderDiv){var _=document.createElement("DIV");jOmnis.addClass(_,"omnis-design-border-none"),this.elem.appendChild(_),this.designBorderDiv=_}}else this.designBorderDiv&&(this.designBorderDiv.parentNode&&this.designBorderDiv.parentNode.removeChild(this.designBorderDiv),this.designBorderDiv=null);return m},F.prototype.setBorderRadius=function(e,t){jOmnis.setBorderRadius(e,t)},F.prototype.setPropertyBorder=function(e,t,i){return t==y.Default&&(t=jOmnis.defaultParameter(i,y.Default)),e.setAttribute("data-effect",t),this.setBorderFromOmnisDefinition(e),!0},F.prototype.setPropertyFillColor=function(e,t,i){return i=jOmnis.defaultParameter(i,b.White),t==b.Default&&(t=i),e.setAttribute("data-backgroundcolor",t),jOmnis.setBackgroundFromOmnisDefinition(e),!0},F.prototype.setPropertyLineStyle=function(e,t,i){return e.setAttribute("data-linestyle",t),this.setBorderFromOmnisDefinition(e,i),!0},F.prototype.getPropertyBorder=function(e){var t=e?e.getAttribute("data-effect"):null;return t?1*t:y.None},F.prototype.getPropertyLineStyle=function(e){var t=e?e.getAttribute("data-linestyle"):null;return t?1*t:v.None},F.prototype.getProperty=function(e){var t;switch(e){case g.ident:return this.objIdent;case g.order:return this.objNumber;case g.nexttabobject:return this.tabOutHandler?this.tabOutHandler.nextTabObj:null;case g.name:return this.objName;case g.tooltip:return this.elem.title;case g.left:return jOmnis.getOmnisLeft(this.elem);case g.top:return jOmnis.getOmnisTop(this.elem);case g.width:return this.getOmnisWidth(this.elem);case g.height:return this.getOmnisHeight(this.elem);case g.visibleinbreakpoint:return!this.cachedPositionInfo.getLayoutInfo(this.form.curScreenSize).hiddenInBreakpoint||jOmnis.mDesign;case g.visible:return jOmnis.getAttributeAsBool(this.elem,"data-visible",!0);case g.horzscroll:return this.horzscroll;case g.vertscroll:return this.vertscroll;case g.autoscroll:return this.autoscroll;case g.enabled:return this.activeReplacesEnabled?this.getProperty(g.active):this.enabledProperty;case g.font:case g.fontname:return(t=this.getClientElem()).style.fontFamily;case g.fontsize:return t=this.getClientElem(),this.parseFontSize(t.style.fontSize);case g.fontstyle:var i=0;return"bold"==(t=this.getClientElem()).style.fontWeight&&(i|=O.bold),"italic"==t.style.fontStyle&&(i|=O.italic),-1!=t.style.textDecoration.indexOf("underline")&&(i|=O.underline),-1!=t.style.textDecoration.indexOf("line-through")&&(i|=O.linethrough),i;case g.align:return"left"==(t=this.getClientElem()).style.textAlign?S.left:"right"==t.style.textAlign?S.right:"center"==t.style.textAlign?S.center:null;case g.textcolor:return this.themeableData.color;case g.alpha:return null!=this.alpha?this.alpha:255;case g.effect:return this.getPropertyBorder(this.getClientElem());case g.linestyle:return this.getPropertyLineStyle(this.getClientElem());case g.bordercolor:return+this.clientElem.getAttribute("data-bordercolor");case g.backcolor:return this.themeableData.backgroundColor;case g.backalpha:return this.themeableData.backgroundAlpha;case g.disablesystemfocus:return this.mDisableSystemFocus;case g.disabledefaultcontextmenu:return!!this.disableDefaultContextMenu;case g.contextmenu:return this.elem.getAttribute("data-contextmenu");case g.dataname:return this.dataName;case g.jsdateformat:return null!=this.mDateFormatType?this.mDateFormatType:0;case g.jsdateformatcustom:return null!=this.mDateFormatCustom?this.mDateFormatCustom:"";case g.jsnumberformat:return null!=this.mNumberFormat?this.mNumberFormat:"";case g.fieldstyle:return this.fieldStyleName?this.fieldStyleName:"";case g.borderradius:var n=this.clientElem.getAttribute("data-borderradius");return null==n?"":n+"";case g.edgefloat:return this.getEdgeFloat(this.form.curScreenSize);case g.dragborder:return this.getDragBorder(this.form.curScreenSize);case g.errortextpos:return this.getErrorTextPos(this.form.curScreenSize);case g.cssclassname:var r=this.elem.getAttribute("data-css");return r||(r=""),r;case g.userinfo:return null==this.userInfo?"":this.userInfo;case g.events:return this.form.getEvents(this,this.mCustomEvents);case g.errortext:return this.getErrorText();case g.pagesize:return this.pager&&null!=this.pager.entriesPerPage?this.pager.entriesPerPage:1*this.elem.getAttribute("data-pagesize");case g.dragmode:return this.mDragEnabled?1:0;case g.dropmode:var s=0;return this.mDropMode&&(this.mDropMode&T.controlClient&&(s|=T.control),this.mDropMode&T.filesClient&&(s|=T.files)),s;case g.hiliteline:return!!this.mHiliteLine;case g.container:return this.parentCtrl;case g.preventlayoutanimation:return!this.animateLayoutTransitions;case g.arialabel:return this.mAriaLabel;case g.arialabelledby:return this.mAriaLabelledby;case g.ariadescribedby:return this.mAriaDescribedby;case g.active:return this.activeProperty;case g.defaultDisabledAppearance:return this.mDefaultDisabledAppearance;case g.pagerpage:return this.pager?this.pager.displayedPage:0;case g.hasshadow:return this.hasShadow;case g.horzPadding:return this.mHorizontalPadding;case g.vertPadding:return this.mVerticalPadding}return null},F.prototype.getCanAssign=function(e){switch(e){case g.name:return 0!=jOmnis.mDesign;case g.ident:case g.order:case g.container:return!1;case g.enabled:if(this.activeReplacesEnabled)return this.getCanAssign(g.active);case g.tooltip:case g.left:case g.top:case g.width:case g.height:case g.visible:case g.visibleinbreakpoint:case g.horzscroll:case g.vertscroll:case g.autoscroll:case g.font:case g.fontname:case g.fontsize:case g.fontstyle:case g.align:case g.textcolor:case g.alpha:case g.effect:case g.linestyle:case g.bordercolor:case g.backcolor:case g.backalpha:case g.disablesystemfocus:case g.disabledefaultcontextmenu:case g.contextmenu:case g.dataname:case g.jsdateformat:case g.jsdateformatcustom:case g.fieldstyle:case g.borderradius:case g.edgefloat:case g.dragborder:case g.jsnumberformat:case g.cssclassname:case g.userinfo:case g.events:case g.errortext:case g.errortextpos:case g.dragmode:case g.dropmode:case g.hiliteline:case g.preventlayoutanimation:case g.arialabel:case g.arialabelledby:case g.ariadescribedby:case g.active:case g.pagerpage:case g.hasshadow:case g.nexttabobject:return!0;case g.defaultDisabledAppearance:return this.mHasDefaultDisableAppearanceProperty}return!1},F.prototype.getIconUrlFromStyleUrl=function(e){var t=e.style.backgroundImage;if(t&&"string"==typeof t){var i=t.indexOf("url(");if(-1!=i){var n=t.lastIndexOf(")");if(-1!=n)return i+=4,t.substr(i,n-i)}}return""},F.prototype.deferPropertyChanges=function(){this.form.inst.registerPropertyObject(this)},F.prototype.setProperty=function(e,t){switch(e){case g.tooltip:return this.elem.title=null!=t?t+"":"",!0;case g.left:if(this.getEdgeFloat(this.form.curScreenSize)<WND_WC_MENUBAR||this.mInLayout){if(!this.saveCoordinateChange(t,"left"))return!0;this.setScreenSize(this.form.curScreenSize,0,0,!0),this.mInLayout||(this.parentCtrl?this.parentCtrl.checkLayout(this):this.form.checkLayout(this))}return!0;case g.top:if(this.getEdgeFloat(this.form.curScreenSize)<WND_WC_MENUBAR||this.mInLayout){if(!this.saveCoordinateChange(t,"top"))return!0;this.setScreenSize(this.form.curScreenSize,0,0,!0),this.mInLayout||(this.parentCtrl?this.parentCtrl.checkLayout(this):this.form.checkLayout(this))}return!0;case g.width:var i=this.getEdgeFloat(this.form.curScreenSize);if(i<WND_WC_MENUBAR||i==WND_WC_TOOLBAR_LEFT||i==WND_WC_TOOLBAR_RIGHT||i==WND_WC_VERT_HEADER||this.mInLayout){var n=+t-this.getCoordinateValue("width");if(!this.saveCoordinateChange(t,"width"))return!0;this.setScreenSize(this.form.curScreenSize,n,0,!0),this.mInLayout||(this.parentCtrl?this.parentCtrl.checkLayout(this):this.form.checkLayout(this))}return this.mChildren&&this.checkLayout&&this.checkLayout(),!0;case g.height:if((i=this.getEdgeFloat(this.form.curScreenSize))<WND_WC_MENUBAR||i!=WND_WC_TOOLBAR_LEFT&&i!=WND_WC_TOOLBAR_RIGHT&&i!=WND_WC_VERT_HEADER&&i!=WND_WC_CLIENT&&i!=WND_WC_HEADER_BUTTON||this.mInLayout){var r=+t-this.getCoordinateValue("height");if(!this.saveCoordinateChange(t,"height"))return!0;this.setScreenSize(this.form.curScreenSize,0,r,!0),this.mInLayout||(this.parentCtrl?this.parentCtrl.checkLayout(this):this.form.checkLayout(this))}return this.mChildren&&this.checkLayout&&this.checkLayout(),!0;case g.visible:return this.elem.setAttribute("data-visible",t?1:0),jOmnis.mDesign||this.visibilityChanged(),!0;case g.visibleinbreakpoint:if(this.form.isResponsive){var s=!t;this.layoutVisibility=t||jOmnis.mDesign,this.cachedPositionInfo.updateLayoutInfo(this.form.curScreenSize,"hiddenInBreakpoint",s),this.elem.style.display=this.layoutVisibility?"":"none",jOmnis.mDesign?this.setFilterForVisibleInBreakpoint(s):this.visibilityChanged()}return!0;case g.horzscroll:return this.horzscroll=!!t,this.clientIScroll?this.updateIScrollOptions(this.clientIScroll,{scrollX:this.horzscroll}):(o=this.getClientElem()).style.overflowX=t?"scroll":"hidden",!0;case g.vertscroll:return this.vertscroll=!!t,this.clientIScroll?this.updateIScrollOptions(this.clientIScroll,{scrollY:this.vertscroll}):(o=this.getClientElem()).style.overflowY=t?"scroll":"hidden",!0;case g.autoscroll:return this.autoscroll=!!t,this.clientIScroll?this.updateIScrollOptions(this.clientIScroll,{scrollX:this.autoscroll,scrollY:this.autoscroll}):(o=this.getClientElem(),t&&!jOmnis.mDesign?(o.style.overflowY="auto",o.style.overflowX="auto"):(o.style.overflowY="hidden",o.style.overflowX="hidden")),!0;case g.enabled:return this.activeReplacesEnabled?this.setProperty(g.active,t):(this.enabledProperty=1*t!=0,this.applyActiveAndEnabledStates(!0,!0),jOmnis.overlayForm==this.form&&this.form.alwaysEnabledObject==this&&(jOmnis.overlayManager.alwaysEnabledState=this.enabledProperty),!0);case g.nexttabobject:return this.tabOutHandler?this.tabOutHandler.setNextTabObj(t):this.tabOutHandler=new G(this,t),!t&&this.tabOutHandler.canDestroy()&&(this.tabOutHandler=null),!0;case g.font:case g.fontname:return(o=this.getClientElem()).style.fontFamily=t,this.fontChanged(),!0;case g.fontsize:var o=this.getClientElem();return jOmnis.setFontSize(o,1*t),this.fontChanged(),!0;case g.fontstyle:o=this.getClientElem();return t&O.bold?o.style.fontWeight="bold":o.style.fontWeight="normal",t&O.italic?o.style.fontStyle="italic":o.style.fontStyle="normal",o.style.textDecoration=jOmnis.fontStyleToTextDecoration(t),this.fontChanged(),!0;case g.align:o=this.getClientElem();return t==S.left?o.style.textAlign="left":t==S.right?o.style.textAlign="right":t==S.center&&(o.style.textAlign="center"),this.isResponsive&&this.cachedPositionInfo.updateLayoutInfo(this.form.curScreenSize,"align",t),jOmnis.mDesign&&this.designNameDiv&&(this.designNameDiv.style.textAlign=o.style.textAlign),this.horzPaddingChanged(),!0;case g.textcolor:return t=+t,this.themeableData.color=t,this.clientElem.style.color=this.getTheme().getTextColorString(this.themeableData.color,this.resolveDefaultColor(this.themeableData.backgroundColor,A.BACKGROUND),this.DefaultColors.text),!0;case g.alpha:var a=1*t;return a<0?a=0:a>255&&(a=255),this.alpha=a,jOmnis.setOpacity(this.elem,a),!0;case g.effect:return this.setPropertyBorder(this.clientElem,t),!0;case g.linestyle:return this.setPropertyLineStyle(this.clientElem,t),!0;case g.bordercolor:return this.clientElem.setAttribute("data-bordercolor",t),this.setBorderColor(this.clientElem),!0;case g.hasshadow:return this.hasShadow=!!t,this.hasShadow?jOmnis.addClass(this.elem,"om_shadow"):jOmnis.removeClass(this.elem,"om_shadow"),!0;case g.backcolor:return t=+t,this.themeableData.backgroundColor=t,this.clientElem.style.backgroundColor=this.getTheme().getColorString(this.themeableData.backgroundColor,this.DefaultColors.background,this.themeableData.backgroundAlpha/255),this.clientElem.style.color=this.getTheme().getTextColorString(this.themeableData.color,this.resolveDefaultColor(this.themeableData.backgroundColor,A.BACKGROUND),this.DefaultColors.text),this.fillChanged(),!0;case g.backalpha:return this.themeableData.backgroundAlpha=+t,this.clientElem.style.backgroundColor=this.getTheme().getColorString(this.themeableData.backgroundColor,this.DefaultColors.background,this.themeableData.backgroundAlpha/255),this.fillChanged(),!0;case g.disablesystemfocus:var l=0!=+t;if(l!=this.mDisableSystemFocus){var m,u;if(this.mDisableSystemFocus=l,this.setFocusBorderElem(),this.mFocusBorderElem&&this.setBorderRadius(this.mFocusBorderElem,this.getProperty(g.borderradius)),this.mFocusStyle==_.eClient)u=l?"autoFocus":"noFocus",m=l?"noFocus":"autoFocus";else if(this.mFocusStyle==_.eWithin){var c="DIV"===this.clientElem.tagName?"showFocusDiv":"showFocus";u=l?c:"noFocus",l?m="noFocus":this.hasFocus()&&(m=c)}else this.mFocusStyle==_.eCustom&&this.disableSystemFocusChanged();u&&(jOmnis.removeClass(this.clientElem,u),this.removeFromBaseClassName(u)),m&&(jOmnis.addClass(this.clientElem,m),this.baseClassName+=" "+m)}return!0;case g.disabledefaultcontextmenu:return this.disableDefaultContextMenu=t,!0;case g.contextmenu:return this.elem.setAttribute("data-contextmenu",t),!0;case g.dataname:return this.setDataName(t)&&this.update(),!0;case g.jsdateformat:return this.mDateFormatType=1*t,this.update(),!0;case g.jsdateformatcustom:return this.mDateFormatCustom=t+"",this.update(),!0;case g.jsnumberformat:return this.mNumberFormat=t+"",this.update(),!0;case g.fieldstyle:o=this.getClientElem();return(t+="").length>0&&(this.fieldStyleName=t,this.form.applyOmnisStyleNow(this,t),!0);case g.borderradius:return this.clientElem.setAttribute("data-borderradius",t),this.setBorderRadius(this.clientElem,t),!0;case g.edgefloat:if((t*=1)>=WND_WC_MENUBAR)for(var h=this.parentCtrl;h;){if(h instanceof ctrl_cgrid)return!0;h=h.parentCtrl}var d=this.getEdgeFloat(this.form.curScreenSize);return d!=t&&(this.cachedPositionInfo.updateLayoutInfo(this.form.curScreenSize,"edgeFloat",t),d>=WND_WC_MENUBAR&&(this.parentCtrl?this.parentCtrl.removeComponent(this,d):this.form.removeComponent(this,d)),t>=WND_WC_MENUBAR&&(this.parentCtrl?this.parentCtrl.newComponent(this):this.form.newComponent(this)),(d>=WND_WC_MENUBAR||t>=WND_WC_MENUBAR)&&(this.parentCtrl?this.parentCtrl.checkLayout(this):this.form.checkLayout(this))),!0;case g.dragborder:var f=+t;return f!=this.getDragBorder(this.form.curScreenSize)&&(this.cachedPositionInfo.updateLayoutInfo(this.form.curScreenSize,"dragBorder",f),this.parentCtrl?this.parentCtrl.checkLayout(this):this.form.checkLayout(this)),!0;case g.errortextpos:if(+t!=this.getErrorTextPos(this.form.curScreenSize)){this.cachedPositionInfo.updateLayoutInfo(this.form.curScreenSize,"errorTextPos",+t);var p=this.getErrorText(!0);p&&p.length&&(this.setErrorText("",!0),this.setErrorText(p,!0))}return!0;case g.cssclassname:var y=this.getClientElem(),b=this.elem.getAttribute("data-css");b&&jOmnis.removeClass(y,b);var v=t+"";return this.elem.setAttribute("data-css",v),jOmnis.addClass(y,v),!0;case g.userinfo:return this.userInfo=t+"",!0;case g.events:return this.form.setEvents(this,t+"",this.mCustomEvents),!0;case g.errortext:return this.setErrorText(t?t+"":""),!0;case g.pagesize:return this.setPagerPageSize(t,!1),!0;case g.dragmode:return this.mDragEnabled=1*t==1,this.update(),!0;case g.dropmode:return this.mDropMode=0,(t*=1)&T.control&&(this.mDropMode|=T.controlClient),t&T.files&&(this.mDropMode|=T.filesClient),!0;case g.hiliteline:var E=this.mHiliteLine;return this.mHiliteLine=1*t!=0,E!=this.mHiliteLine&&this.hiliteLineChanged&&this.hiliteLineChanged(),!0;case g.preventlayoutanimation:return this.animateLayoutTransitions=!t,!0;case g.arialabel:return this.mAriaLabel=t+"",this.setAriaAttributes(e),!0;case g.arialabelledby:return this.mAriaLabelledby=t+"",this.setAriaAttributes(e),!0;case g.ariadescribedby:return this.mAriaDescribedby=t+"",this.setAriaAttributes(e),!0;case g.active:return t=1*t!=0,this.activeProperty=t,this.activeReplacesEnabled&&(this.enabledProperty=t),this.applyActiveAndEnabledStates(!0),jOmnis.overlayForm==this.form&&this.form.alwaysEnabledObject==this&&(jOmnis.overlayManager.alwaysEnabledState=this.activeProperty),!0;case g.defaultDisabledAppearance:return this.mDefaultDisabledAppearance=!!t,this.applyEnabledCss(),!0;case g.pagerpage:return+t>0&&this.setPagerPage(+t,!1),!0;case g.name:if(jOmnis.mDesign&&(this.objName=t+"",this.showDesignName)){var C=this.elem.querySelector(".omnis-design-name");C&&(C.textContent=this.objName)}return!0;case g.horzPadding:return this.mHorizontalPadding=+t,this.horzPaddingChanged(),!0;case g.vertPadding:return this.mVerticalPadding=+t,this.vertPaddingChanged(),!0}return!1},F.prototype.horzPaddingChanged=function(){var e=this.getPaddingElement().style;this.getProperty(g.align)!==S.center?e.paddingLeft=e.paddingRight="".concat(this.mHorizontalPadding,"px"):e.paddingLeft=e.paddingRight=""},F.prototype.vertPaddingChanged=function(){var e=this.getPaddingElement().style;e.paddingTop=e.paddingBottom="".concat(this.mVerticalPadding,"px")},F.prototype.getPaddingElement=function(){return this.clientElem},F.prototype.getCoordProperty=function(e){var t=this.form.curScreenSize,i=this.cachedPositionInfo.getLayoutInfo(t);switch(e){case g.left:return i.left;case g.top:return i.top;case g.width:return i.width;case g.height:return i.height}return null},F.prototype.doSetProperty=function(e,t){if(++this.form.mPropertiesSet,this.form.mInAnimationBlock){var i=this.canAnimateProperty(e);if(i&&!this.form.addAnimation(i,this,e,t))return!0}return this.setProperty(e,t)},F.prototype.canAnimateProperty=function(e){switch(e){case g.left:return{style:"left",elems:[this.elem]};case g.top:return{style:"top",elems:[this.elem]};case g.alpha:return{style:"opacity",elems:[this.elem]};case g.backcolor:case g.backalpha:return{style:"background-color",elems:[this.clientElem]};case g.textcolor:return{style:"color",elems:[this.clientElem]};case g.fontsize:return{style:"font-size",elems:[this.clientElem]};case g.bordercolor:return{style:"border-color",elems:[this.clientElem]};case g.linestyle:return{style:"border-width",elems:[this.clientElem]};case g.width:return{style:"width",elems:[this.elem,this.clientElem],ctrl:this};case g.height:return{style:"height",elems:[this.elem,this.clientElem],ctrl:this};case g.visible:return{style:"",elems:[]}}return null},F.prototype.getDisplayFormat=function(e){return this.isNumber||!0===e?this.mNumberFormat:jOmnis.getDateFormat(this.mDateFormatType,this.mDateFormatCustom)},F.prototype.attachIScroll=function(e,t,i){e.style.overflow="hidden",t.omnisObject=this,t.omnisKeyEvents&&!t.keyBindings&&(t.keyBindings=!0),void 0===t.disableMouse&&(t.disableMouse=!0);var n=new IScroll(e,t);n.addOmnisListener("START"),n.addOmnisListener("END"),i&&n.addOmnisListener("SCROLL"),t.tap&&e.addEventListener("tap",this.mEventFunction,!1);for(var r=this.parentCtrl;r&&!r.iscroll;)r=r.parentCtrl;return r&&r.iscroll&&(n.on("beforeScrollStart",(function(){r.iscroll.disable()})),n.on("scrollEnd",(function(){r.iscroll.enable()})),n.on("scrollCancel",(function(){r.iscroll.enable()}))),e===this.getClientElem()&&(this.clientIScroll=n),n},F.prototype.updateIScrollOptions=function(e,t){for(var i=e.options,n=Object.keys(t),r=0;r<n.length;r++){var s=n[r];i[s]=t[s]}e.refresh()},F.prototype.eventParamsAdd=function(e,t){this.eventParams[this.eventParams.length]=[e,t]},F.prototype.canSendEvent=function(e,t){return!(t&&!this.isEnabled())&&((e!==p.evBefore||!jOmnis.preventFocusEvents)&&-1!==this.eventsToSend.indexOf(e))},F.prototype.sendEvent=function(e){this.form.sendEvent(this,e,this.eventParams),this.eventParams.length&&(this.eventParams=[])},F.prototype.sendEventDeferred=function(e){this.form.inst.deferredEventSender=this,this.form.inst.deferredEventToSend=e},F.prototype.handleEvent=function(e){var t=p.evNone;switch(e.type){case"click":t=p.evClick;break;case"dblclick":t=p.evDoubleClick;break;case"submit":t=p.evSubmit;break;case"reset":t=p.evReset;break;case"focus":if((n=jOmnis.getEventCurrentTarget(e))==this.elem&&n!=this.clientElem&&this.clientElem.focus(),jOmnis.mDisableBeforeID==this.uniqueID)return jOmnis.mDisableBeforeID=0,!0;if(jOmnis.mDisableBeforeID=0,n&&n==this.mUpdateOnFocusChange&&this.updateOnFocusChange(!0),this.canSendEvent(p.evBefore,!0)){var i=this;setTimeout((function(){i.sendEvent(p.evBefore)}),0)}return!0;case"blur":var n;(n=jOmnis.getEventCurrentTarget(e))&&n==this.mUpdateOnFocusChange&&this.updateOnFocusChange();break;case"contextmenu":return jOmnisMenuHandler.isContextMenuOpen()?jOmnis.stopEventNow(e):this.handleContextMenuClick(e,this);case"omnis-getrownumber":return-1;case"focusin":return this.mDisableSystemFocus||(jOmnis.addClass(this.clientElem,"DIV"==this.clientElem.tagName?"showFocusDiv":"showFocus"),jOmnis.addClass(this.getFocusBorderElemParent(),"is-focused")),!1;case"focusout":return this.mDisableSystemFocus||(jOmnis.removeClass(this.clientElem,"DIV"==this.clientElem.tagName?"showFocusDiv":"showFocus"),jOmnis.removeClass(this.getFocusBorderElemParent(),"is-focused")),!1;case"omnis-menuclosed":if(e.closedByTabbing){var r=this.form.getNextPrevTabObject(this,e.shiftKey);if(r==this){var s=this.form.subFormObj;s&&(r=s.form.getNextPrevTabObject(s,e.shiftKey))}if(null!=r){var o=r.getClientElem();r.focus(),"INPUT"==o.tagName&&o.select(),this.tabbedOut=!0}break}default:return!1}return this.canSendEvent(t,!0)&&this.sendEvent(t),!0},F.prototype.handleContextMenuClick=function(e,t,i,n){return jOmnisMenuHandler.handleContextMenuClick(e,this.form,this,t,i,n)},F.prototype.handleEventResult=function(e,t){return e!==p.evOpenContextMenu||jOmnisMenuHandler.handleEventResult(this,e,t)},F.prototype.makeFunction=function(e,t){var i="var obj = jOmnis.getOmnisFormControl(jOmnis.instIndexFromIdent("+this.form.ident+"), jOmnis.formIndexFromIdent("+this.form.ident+"),"+this.uniqueID+");return (obj == null) ? null : obj."+e+"(";return t>=1&&(i+="arg1"),t>=2&&(i+=",arg2"),t>=3&&(i+=",arg3"),t>=4&&(i+=",arg4"),i+=");",t>=4?new Function("arg1","arg2","arg3","arg4",i):t>=3?new Function("arg1","arg2","arg3",i):t>=2?new Function("arg1","arg2",i):t>=1?new Function("arg1",i):new Function(i)},F.prototype.makeNotation=function(e){var t=this.objName;e&&e.length&&(t+=e);for(var i=this.parentCtrl;i;)t=i.objName+".$objs."+t,i=i.parentCtrl;return t="$cinst.$objs."+t},F.prototype.getTrueVisibility=function(e){if(window.usePrototypeVisibilityChanges)t=this.parentVisible&&jOmnis.getObjectVisible(this.elem)&&this.getProperty(g.visibleinbreakpoint);else{var t=jOmnis.getObjectVisible(this.elem)&&this.getProperty(g.visibleinbreakpoint);t&&this.parentCtrl&&(t=this.parentCtrl.getTrueVisibility(this)),t&&this.form.subFormObj&&(t=this.form.subFormObj.getTrueVisibility())}return t&&this.form.getTrueVisibility()},F.prototype.visibilityChanged=function(){var e=this.getTrueVisibility(null);return this.pager&&e&&this.pager.linkedControlBecameVisible(),!(e==("hidden"!=this.elem.style.visibility)&&!this.form.mFormJustAppeared)&&(this.elem.style.visibility=e?"visible":"hidden",this.clientElem!=this.elem&&(this.clientElem.style.visibility=e?"visible":"hidden"),this.parentCtrl?this.parentCtrl.childVisibilityChanged(this,e):this.form.childVisibilityChanged(this,e),!0)},F.prototype.childVisibilityChanged=function(e,t){},F.prototype.getNotActiveElem=function(){return this.clientElem},F.prototype.activeChanged=function(){var e=this.isActive();this.setTabIndex(e?0:-1),this.applyActiveCss(),this.setAriaDisabled(),this.pager&&this.pager.updateActiveState(e)},F.prototype.applyActiveCss=function(){var e=this.getNotActiveElem();e&&(this.isActive()?jOmnis.removeClass(e,"omnis-notactive"):jOmnis.addClass(e,"omnis-notactive"),this.usesNotActiveOverlay&&(this.isActive()?jOmnis.removeClass(e,"omnis-notactive-overlay"):jOmnis.addClass(e,"omnis-notactive-overlay")))},F.prototype.applyActiveAndEnabledStates=function(e,t,i,n){function r(e,t){for(var i=t?"enabledProperty":"activeProperty",n=e;null!=n;){if(!n[i])return!1;n=n.parentCtrl}return e.form.subFormObj?r(e.form.subFormObj,t):!t||r(e,!1)}var s=(jOmnis.getCurrentActiveControl()||this.form.inst.firstChild)===this;if(!t||this.activeReplacesEnabled){var o,a=n||!r(this,this.activeReplacesEnabled);if(this.elem.disabled!=a)if(s&&jOmnis.sendDOMEvent(this.getClientElem(),"blur"),this.elem.disabled=a,e&&this.activeChanged(),s)null===(o=this.form.inst.getNextFocusableControl(this))||void 0===o||o.focus()}var l=i||n||!r(this,!0);this.elem.readOnly!=l&&(this.elem.readOnly=l,e&&this.enabledChanged());var m=this.mChildren;if(m){for(var u=0;u<m.length;u++)m[u].applyActiveAndEnabledStates(e,t,l,a);if(-1!==this.subformIndex){var c=this.form.getSubform(this.subformIndex);if(c){var h=c.mChildren;for(u=0;u<h.length;u++)h[u].applyActiveAndEnabledStates(e,t,l,a)}}}},F.prototype.isActive=function(){return!this.elem.disabled},F.prototype.isEnabled=function(){return!this.elem.readOnly},F.prototype.getNotEnabledElem=function(){return this.clientElem},F.prototype.enabledChanged=function(){this.applyEnabledCss(),this.setAriaDisabled()},F.prototype.applyEnabledCss=function(){var e=this.getNotEnabledElem();e&&(!this.isEnabled()&&this.mDefaultDisabledAppearance?jOmnis.addClass(e,"omnis-notenabled"):jOmnis.removeClass(e,"omnis-notenabled"))},F.prototype.newDataIndex=function(){if(this.isNumber=!1,this.numberDps=null,!jOmnis.mDesign){var e=this;if(this.mHandleNumbers){var t=this instanceof ctrl_combobox?this.edit:this.getClientElem();if(this.mHasBlur||(t.onblur=null),this.mUpdateOnFocusChange=null,this.mValidateNumbers&&jOmnisVal.removeObject(t),r=this.form.getDefn(this.dataIndex)){var i=r[1],n=r[2];l(i,n),this.mValidateNumbers&&jOmnisVal.addObject(t,i,n,this.negAllowed),this.isNumber&&(this.mUpdateOnFocusChange=t,this.mHasBlur||(t.onblur=this.mEventFunction))}}else{if(this.mHandleNumberColumn&&(r=this.form.getDefn(this.dataIndex))&&r[1]==eOmnisDataTypes.fftList){var r,s=this.getData(),o=null!=s&&null!=s.lstDef?s.lstDef:[],a=this.mListColumn-1;if(a<o.length)(r=o[a])&&l(r[1],r[2])}}}function l(t,i){e.isNumber=t==eOmnisDataTypes.fftInteger||t==eOmnisDataTypes.fftNumber||t==eOmnisDataTypes.fftSequence,t==eOmnisDataTypes.fftNumber&&24!=i&&(e.numberDps=31&i)}},F.prototype.sizeChanged=function(){this.pager&&this.pager.isAttached&&this.pager.sizeChanged(),this.mErrorDiv&&this.setErrorDivPosition(this.form.curScreenSize)},F.prototype.deferSizeChanged=function(e){var t=this;this.deferredSizeChangeTimer&&clearTimeout(this.deferredSizeChangeTimer),this.deferredSizeChangeTimer=setTimeout((function(){t.deferredSizeChangeTimer=null,t.sizeChanged()}),e||0)},F.prototype.fillChanged=function(){},F.prototype.fontChanged=function(){if(this.mNeedFontHeight){var e=this.getClientElem(),t=e.style,i=t.fontFamily+t.fontSize+t.fontWeight+t.fontStyle;if(this.mFontHeight=jOmnis.fontHeights[i],!this.mFontHeight){var n=document.createElement("div");e.appendChild(n),n.innerHTML="T",n.style.fontSize=e.style.fontSize,this.mFontHeight=n.clientHeight,e.removeChild(n),jOmnis.fontHeights[i]=this.mFontHeight}}this.designNameDiv&&this.copyFont(this.getClientElem().style,this.designNameDiv.style,this.showDesignNameBackground)},F.prototype.copyFont=function(e,t,i){t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontWeight=e.fontWeight,t.fontStyle=e.fontStyle,i||(t.color=e.color)},F.prototype.removeFromTabOrder=function(){var e=this.form.mTabOrder.indexOf(this);-1!=e&&this.form.mTabOrder.splice(e,1),this.getClientElem().tabIndex=-1,this.mRemovedFromTabOrder=!0},F.prototype.setTabIndex=function(e){this.mRemovedFromTabOrder||(this.getClientElem().tabIndex=-1==e||this.elem.disabled?-1:0);return e},F.prototype.getTextWidthDiv=function(){var e=document.createElement("div"),t=this.getClientElem(),i=e.style,n=t.style;return i.fontFamily=n.fontFamily,i.fontSize=n.fontSize,i.fontWeight=n.fontWeight,i.fontStyle=n.fontStyle,i.textDecoration=n.textDecoration,i.visibility="hidden",i.height="auto",i.width="auto",i.position="absolute",this.form.elem.appendChild(e),e},F.prototype.removeTextWidthDiv=function(e){this.form.elem.removeChild(e)},F.prototype.touchCanStartScroll=function(e){return null==e.touches||1==e.touches.length},F.prototype.touchScrollStarted=function(e){},F.prototype.touchChangedPosition=function(e){},F.prototype.touchScrollEnded=function(e){},F.prototype.setPreviousTabObject=function(e){this.tabOutHandler||(this.tabOutHandler=new G(this)),this.tabOutHandler.setPrevTabObj(e),this.tabOutHandler.canDestroy()&&(this.tabOutHandler=null)},F.prototype.focus=function(){try{this.clientElem.focus()}catch(e){}},F.prototype.canFocus=function(){if(this.mRemovedFromTabOrder||!this.isActive()||!this.getTrueVisibility())return!1;var e=document.querySelectorAll(".omnis-sfs-modal"),t=e[e.length-1];if(t){var i=null;if(t.parentCtrl)i=t.parentCtrl.elem.querySelector(".omnisform");if(i&&i!==this.form.serverElem)return!1}var n=this.form.subFormObj;return!n||!n.mSFSminimized},F.prototype.getFocusState=function(e){return this.clientElem},F.prototype.setFocusFromState=function(e){this.focus()},F.prototype.canTabToObject=function(){return this.getTrueVisibility()&&this.isActive()?this:null},F.prototype.hasFocus=function(){for(var e=document.activeElement;e;){if(e==this.elem)return!0;e=e.parentNode}return!1},F.prototype.disableSystemFocusChanged=function(){},F.prototype.isScrollable=function(){var e=this.getClientElem();return"auto"==e.style.overflow||"scroll"==e.style.overflowX||"scroll"==e.style.overflowY},F.prototype.transitionEnded=function(e){},F.prototype.setPagerPageSize=function(e,t){!this.pager&&e>0?this.pager=new omnis_pager(this,e,t):this.pager&&(this.pager.mPreventUpdate=t,this.pager.setEntriesPerPage(e),this.pager.mPreventUpdate=!1)},F.prototype.setPagerPage=function(e,t){this.pager&&(this.pager.mPreventUpdate=t,this.pager.setCurrentPage(e),this.pager.mPreventUpdate=!1)},F.prototype.getCoordinateValue=function(e){var t=this.form.curScreenSize;return-1!=t?this.cachedPositionInfo.getLayoutInfo(t)[e]:0},F.prototype.saveCoordinateChange=function(e,t){var i=this.form.curScreenSize;if(-1!=i){if(this.cachedPositionInfo.getLayoutInfo(i)[t]==+e)return!0===this.mMustSize;this.cachedPositionInfo.updateLayoutInfo(i,t,+e)}return!0},F.prototype.setupIcon=function(e){if(!e||0==e.length)return e;var t=(e=jIcons.selectIcon(e)).indexOf("%l");if(-1==t&&-1==(t=e.indexOf("%L")))return e;var i=this.form.iconlib?this.form.iconlib:this.form.omnislib;return e.substr(0,t)+i.toLowerCase()+e.substr(t+2)},F.prototype.setPropCli=function(e,t,i){return"string"==typeof t&&this.form&&this.form.stringTable&&(t=this.form.stringTable.translateText(t)),this.rowNumber?this.rowCtrl.setPropertyChildControls(this.objNumber,e,t,i):this.doSetProperty(e,t)},F.prototype.callMethod=function(e){if(jOmnis.relatedObject=this,this[e])var t=this[e].apply(this,Array.prototype.slice.call(arguments,1));else{var i=jOmnis.currentForm;jOmnis.currentForm=this.form;var n=eDoMethodFlags.completionEvent;this.form.inst.offlinemode&&(n|=eDoMethodFlags.clientOnly),t=jOmnis.doMethod.apply(jOmnis,[eAnums.$cfield,this,e,n].concat(Array.prototype.slice.call(arguments,1))),jOmnis.currentForm=i}return jOmnis.relatedObject=null,t},F.prototype.callMethodEx=function(e,t){t&eDoMethodFlags.noOverlay||jOmnis.showOverlay(!0,!0,this.form),!this.form.inst.offlinemode||t&eDoMethodFlags.clientOnly||(t|=eDoMethodFlags.clientOnly);var i=jOmnis.currentForm;jOmnis.currentForm=this.form,jOmnis.doneShowMessage=!1,jOmnis.noConvException=!1,this.curInhLevel=0;var n,r=1*new Date;this.form.inst.startRecordingUpdates(!0);try{jOmnis.relatedObject=this,n=this[e]?this[e].apply(this,Array.prototype.slice.call(arguments,2)):jOmnis.doMethod.apply(jOmnis,[eAnums.$cfield,this,e,t].concat(Array.prototype.slice.call(arguments,2)))}catch(e){jOmnis.okMessage("",e.message)}return jOmnis.relatedObject=null,jOmnis.currentForm=i,this.form.inst.stopRecordingAndApplyUpdates(!0),t&eDoMethodFlags.noOverlay||this.form.hideOverlayDelayed(r),n},F.prototype.parseFontSize=function(e){if(e){var t=e.indexOf("pt");if(-1!=t)return parseFloat(e.substr(0,t))}return 0},F.prototype.alphaFromCssColor=function(e){return new RGBColor(e).a},F.prototype.resolvePropertyName=function(e){if(!e||e.length<2||"$"!=e.charAt(0))return null;var t=this.resolveBuiltInPropertyName(e.substr(1).toLowerCase());return t||e},F.prototype.resolveBuiltInPropertyName=function(e){return g[e]},F.prototype.cancelKeySearch=function(){this.mKeyTimer&&(clearTimeout(this.mKeyTimer),this.mKeyTimer=null,this.mKeySearchBuffer="")},F.prototype.continueKeySearch=function(e){if(this.elem.disabled)return this.mKeyTimer&&clearTimeout(this.mKeyTimer),void(this.mKeySearchBuffer="");null==this.mKeySearchBuffer&&(this.mKeySearchBuffer=""),this.mKeySearchBuffer+=e.toUpperCase(),this.searchList(this.mKeySearchBuffer),this.mKeyTimer&&clearTimeout(this.mKeyTimer);var t=this;this.mKeyTimer=setTimeout((function(){t.mKeySearchBuffer="",t.mKeyTimer=null}),500)},F.prototype.checkLayout=function(e){},F.prototype.updateOnFocusChange=function(){this.update()},F.prototype.saveBeforeMadeInvisible=function(){},F.prototype.restoreAfterMadeVisible=function(){},F.prototype.getTranslatableString=function(e,t){var i=this.getClientElem().getAttribute(e);return null!=i&&i.length>0?jOmnis.escapeHTML(i):t},F.prototype.setTranslatableString=function(e,t){var i=this.getClientElem();"string"==typeof t?i.setAttribute(e,t):i.setAttribute(e,"")},F.prototype.getErrorBorderDiv=function(){return this.getClientElem()},F.prototype.getFilterDiv=function(){return this.getClientElem()},F.prototype.getErrorText=function(e){return!e&&this.rowNumber&&this.parentCtrl.errorRow!=this.rowNumber?"":this.mErrorDiv?this.mErrorDiv.textContent:""},F.prototype.setErrorText=function(e,t){if(t||!this.rowNumber||this.parentCtrl.errorRow==this.rowNumber)if(e.length>0){if(!this.mErrorDiv){var i=document.createElement("DIV");i.setAttribute("data-error","1"),i.className="om-error-text",i.style.position="absolute",this.mErrorDiv=i,this.setErrorDivPosition(this.form.curScreenSize),this.elem.appendChild(i),jOmnis.addClass(this.getErrorBorderDiv(),"om-error-border")}this.mErrorDiv.textContent=e,this.mErrorDiv.title=e,this.form.errorControls[this.elem.id]=this}else this.mErrorDiv&&(this.elem.removeChild(this.mErrorDiv),this.mErrorDiv=null,jOmnis.removeClass(this.getErrorBorderDiv(),"om-error-border"),delete this.form.errorControls[this.elem.id])},F.prototype.$clearexceptions=function(e){return!!this.rowCtrl&&this.rowCtrl.doClearexceptions(this.objNumber,e?1*e:0)},F.prototype.prepForComplexGridUpdate=function(){},F.prototype.isItemProperty=function(e){return!1},F.prototype.currentItemProperty=function(){return 0},F.prototype.getOmnisWidth=function(e){return jOmnis.getOmnisWidth(e)},F.prototype.getOmnisHeight=function(e){return jOmnis.getOmnisHeight(e)},F.prototype.sendClientEvent=function(e){var t=this.form;if(this.mHasClientEvent&&!t.inst.clientScripts[t.clientScriptsIndex].loaded)return!0;try{t.inst.mNoOverlay=!0,this.canSendEvent(e)&&(t.$cfield=this,t.sendClientEvent(this,-e,this.eventParams))}catch(e){}return t.inst.mNoOverlay=!1,this.eventParams=[],jOmnis.mClientEventDiscarded},F.prototype.getDropTarget=function(e){return this.clientElem},F.prototype.sendDragStartEvent=function(e){jOmnis.mCurrentDrag=new omnis_drag(this);var t=jOmnis.mCurrentDrag.mDragValue,i=this.callMethodEx("$drag",eDoMethodFlags.noOverlay|eDoMethodFlags.clientOnly|eDoMethodFlags.noLog,1,t);null==i&&(this.eventParamsAdd("pDragType",1),this.eventParamsAdd("pDragValue",t),i=!this.sendClientEvent(p.evDrag)),i||(jOmnis.stopEventNow(e),jOmnis.removeCurrentDrag())},F.prototype.sendDropEvents=function(e){if(e||(e=jOmnis.mCurrentDrag),e){e.mDropCtrl=this;var t=e.mDragCtrl;t.canSendEvent(p.evWillDrop)&&(t.eventParamsAdd("pDragType",1),t.eventParamsAdd("pDragValue",e.mDragValue),t.eventParamsAdd("pDropField",this.objName),t.eventParamsAdd("pDropId",this.mDropId?this.mDropId:0),t.eventParamsAdd("pDropRow",this.rowNumber),t.sendEvent(p.evWillDrop)),this.focus(),this.canSendEvent(p.evDrop)&&(this.eventParamsAdd("pDragType",1),this.eventParamsAdd("pDragValue",e.mDragValue),this.eventParamsAdd("pDragField",e.mDragCtrl.objName),this.eventParamsAdd("pDropId",this.mDropId?this.mDropId:0),this.eventParamsAdd("pDropRow",this.rowNumber),this.sendEvent(p.evDrop))}};var L={},x=1;function P(e,t){this.sizeInfo="";var i={},n=!Array.isArray(t);if(!n&&e.elem){var r=e.elem.getAttribute("data-etp");if(r)var s=r.split(","),o=s.length,a=0;var l=e.elem.hasAttribute("data-float")?jOmnis.getAttributeList(e.elem,"data-float"):0,m=Array.isArray(l),u=0,c=e.elem.getAttribute("data-db");if(c)var h=c.split(","),d=h.length,f=0}for(var p in t)g(p,t[p]),r&&(i[p].errorTextPos=o>1?+s[a++]:+s[0]),l&&(i[p].edgeFloat=m?l.length>1?+l[u++]:+l[0]:+l),c&&(i[p].dragBorder=d>1?+h[f++]:1);function g(e,t){var n={};n.left=t[0],n.top=t[1],n.width=t[2],n.height=t[3],n.edgeFloat=t.length>4?t[4]:null,n.dragBorder=t.length>5?t[5]:0,n.hiddenInBreakpoint=t.length>6?t[6]:0,n.errorTextPos=t.length>7?t[7]:w.under,n.align=t.length>8?t[8]:0,i[e]=n}this.getLayoutInfo=function(e){return i[e]?jOmnis.deepCopy(i[e]):jOmnis.deepCopy(i[jOmnis.getNearestKey(n,i,e)])},this.updateLayoutInfo=function(e,t,r){if("*"===e)for(var s=Object.keys(i),o=0;o<s.length;o++)this.updateLayoutInfo(s[o],t,r);else i[e]||(i[e]=jOmnis.deepCopy(i[jOmnis.getNearestKey(n,i,e)])),i[e][t]=r},this.updateLayoutDimensions=function(e,t){i[e]||(i[e]=jOmnis.deepCopy(i[jOmnis.getNearestKey(n,i,e)])),i[e].left=t[0],i[e].top=t[1],i[e].width=t[2],i[e].height=t[3]}}F.prototype.sendFileDropEvent=function(e){var t=this;setTimeout((function(){if(t.focus(),t.canSendEvent(p.evDrop)){var i=new omnis_raw_list(!1),n=i.$cols();n.$add("name",eOmnisDataTypes.fftCharacter,0,gCliMaxcharlen),n.$add("type",eOmnisDataTypes.fftCharacter,0,gCliMaxcharlen),n.$add("size",eOmnisDataTypes.fftInteger,64,0),n.$add("ident",eOmnisDataTypes.fftInteger,64,0);for(var r=0;r<e.length;++r){var s=e[r],o=x++;L[o]=s,i.$add(s.name,s.type,s.size,o)}t.eventParamsAdd("pDragType",5),t.eventParamsAdd("pDragValue",i),t.eventParamsAdd("pDragField",""),t.eventParamsAdd("pDropId",t.mDropId?t.mDropId:0),t.eventParamsAdd("pDropRow",t.rowNumber),t.sendEvent(p.evDrop)}}),0)},F.prototype.sendDragFinishedEvent=function(){jOmnis.removeCurrentDrag(),this.canSendEvent(p.evDragFinished)&&this.sendEvent(p.evDragFinished)},F.prototype.addHiliteLineStyle=function(e,t){return e+="#"+this.clientElem.id+" .omnis-drop-target {",e+="outline:none !important ;",t||(t=jOmnis.defaultSelectedLineColor),e+="background:"+t+" !important;",e+="opacity:0.8;",e+="}"},F.prototype.getLabelForElem=function(){return this.getClientElem().id},F.prototype.setAriaElement=function(e){this.ariaElem!==e&&(this.ariaElem&&(this.getCanAssign(g.arialabel)&&this.ariaElem.removeAttribute("aria-label"),this.getCanAssign(g.arialabelledby)&&this.ariaElem.removeAttribute("aria-labelledby"),this.getCanAssign(g.ariadescribedby)&&this.ariaElem.removeAttribute("aria-describedby")),this.ariaElem=e,this.formIsBuilt&&this.setAriaAttributes())},F.prototype.setAriaAttributes=function(e,t){if(this.ariaElem){var i=this,n=null==e;this.getCanAssign(g.arialabel)&&(n||e===g.arialabel)&&(this.mAriaLabel?this.ariaElem.setAttribute("aria-label",this.mAriaLabel):t||this.ariaElem.removeAttribute("aria-label")),this.getCanAssign(g.arialabelledby)&&(n||e===g.arialabelledby)&&r("aria-labelledby",this.mAriaLabelledby),this.getCanAssign(g.ariadescribedby)&&(n||e===g.ariadescribedby)&&r("aria-describedby",this.mAriaDescribedby)}function r(e,n){if(n){for(var r=n.split(" "),s=[],o=0;o<r.length;o++){var a=i.form.findChildByName(r[o]);a&&s.push(a.getClientElem().id)}s.length>0?i.ariaElem.setAttribute(e,s.join(" ")):t||i.ariaElem.removeAttribute(e)}else t||i.ariaElem.removeAttribute(e)}},F.prototype.getAriaDisabledElem=function(){return this.getClientElem()},F.prototype.setAriaDisabled=function(e){var t=this.getAriaDisabledElem();t&&(this.isEnabled()?e||t.removeAttribute("aria-disabled"):t.setAttribute("aria-disabled","true"))},F.prototype.setAriaActiveDescendant=function(e,t){var i=document.getElementById(e);t=t||this.clientElem,i?t.setAttribute("aria-activedescendant",e):t.removeAttribute("aria-activedescendant")},F.prototype.setAriaLiveRegion=function(e,t,i,n){if(this.liveRegion=document.createElement("div"),this.liveRegion.className="sr-only",t||(t=I.polite),this.liveRegion.setAttribute("aria-live",t),n&&this.liveRegion.setAttribute("aria-atomic","true"),i){if(i&j.additions)var r="additions";i&j.removals&&(r=r?r+" removals":"removals"),i&j.text&&(r=r?r+" text":"text"),i&j.all&&(r="all"),this.liveRegion.setAttribute("aria-relevant",r)}e.appendChild(this.liveRegion)},F.prototype.sendNextOk=function(){this.sendNextOkEvent=!0},F.prototype.sendNextCancel=function(){this.sendNextCancelEvent=!0},F.prototype.removeFromBaseClassName=function(e){var t=this.baseClassName.split(" "),i=t.indexOf(e);-1!==i&&(t.splice(i),this.baseClassName=t.join(" "))},F.prototype.hiliteSelectedItem=function(e,t,i){if(!this.form.isSubform){if(this.mSelectedItemHiliteElem){if(!i&&+this.mSelectedItemHiliteElem.getAttribute("data-item")==e)return;this.mSelectedItemHiliteElem.parentElement&&this.mSelectedItemHiliteElem.parentElement.removeChild(this.mSelectedItemHiliteElem),this.mSelectedItemHiliteElem=null}if(t){var n=jOmnis.devicePixelRatio>=2?"0.5px":"1px",r=document.createElement("DIV");r.style.width="100%",r.style.height="100%",r.style.backgroundImage="radial-gradient(rgba(var(--secondary-color),0.25) "+n+", transparent 0)",r.style.backgroundSize="4px 4px",r.style.boxSizing="border-box",r.style.border="1px solid red",r.setAttribute("data-item",e),t.appendChild(r),this.mSelectedItemHiliteElem=r}}},F.prototype.showDisabledDesignScrollbars=function(e){jOmnis.addClass(e,"omnis-design-disabled-scrollbar omnis-design-disabled-scrollbar-track omnis-design-disabled-scrollbar-thumb")},F.prototype.removeDisabledDesignScrollbars=function(e){jOmnis.removeClass(e,"omnis-design-disabled-scrollbar omnis-design-disabled-scrollbar-track omnis-design-disabled-scrollbar-thumb")},F.prototype.appendDesignName=function(e){var t=document.createElement("DIV");return t.className="omnis-design-name",t.textContent=this.objName,t.style.textAlign=this.mHasAlign?this.clientElem.style.textAlign:"left",this.showDesignNameBackground&&(t.style.backgroundColor="rgb(var(--primary-color-light))",t.style.color="rgb(var(--primary-color-light-text))"),e.appendChild(t),t},F.prototype.getDesignContext=function(){return this.objIdent|this.inhLevel<<24},F.prototype.removeDesignName=function(e){this.designNameDiv&&(e.removeChild(this.designNameDiv),this.designNameDiv=null)},F.prototype.setFilterForVisibleInBreakpoint=function(e){var t=e?"opacity(40%)":"";this.getFilterDiv().style.filter=t,this.designNameDiv&&(this.designNameDiv.style.filter=t),this.designBorderDiv&&(this.designBorderDiv.style.filter=t)},F.prototype.resetAppearance=function(){},P.perBreakpointProperties={"-401":"top","-402":"left","-403":"height","-404":"width","-470":"edgeFloat","-438":"dragBorder","-000":"hiddenInBreakpoint","-1305":"errorTextPos","-468":"align"};var N=c("ctrl"),R=c("tabDir"),M=c("dynamicListenersAdded"),k=c("tabDownListener"),W=c("tabUpListener"),B=c("focusOutListener"),z=c("removeAllEventListeners"),H=c("onTabDown"),U=c("onKeyUp"),V=c("onFocusOut"),K=c("focusControl"),q=c("removeDynamicListeners"),G=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,q,{value:Q}),Object.defineProperty(this,K,{value:Z}),Object.defineProperty(this,V,{value:J}),Object.defineProperty(this,U,{value:$}),Object.defineProperty(this,H,{value:X}),Object.defineProperty(this,z,{value:Y}),this.elem=void 0,Object.defineProperty(this,N,{writable:!0,value:void 0}),Object.defineProperty(this,R,{writable:!0,value:0}),Object.defineProperty(this,M,{writable:!0,value:!1}),this.nextTabObj=void 0,this.prevTabObj=void 0,Object.defineProperty(this,k,{writable:!0,value:void 0}),Object.defineProperty(this,W,{writable:!0,value:void 0}),Object.defineProperty(this,B,{writable:!0,value:void 0}),m(this,N)[N]=t,this.elem=t.elem,this.setNextTabObj(i),this.elem.addEventListener("keydown",m(this,k)[k]=m(this,H)[H].bind(this))}var t,i,n;return t=e,(i=[{key:"canDestroy",value:function(){return!this.nextTabObj&&!this.prevTabObj&&(m(this,z)[z](),!0)}},{key:"setNextTabObj",value:function(e){if(this.nextTabObj){var t=m(this,N)[N].form.findChildByName(this.nextTabObj);t&&t.setPreviousTabObject(null)}this.nextTabObj=e;var i=m(this,N)[N].form.findChildByName(this.nextTabObj);i&&i.setPreviousTabObject(m(this,N)[N].objName)}},{key:"setPrevTabObj",value:function(e){this.prevTabObj=e}}])&&l(t.prototype,i),n&&l(t,n),e}(),Y=function(){this.elem.removeEventListener("keydown",m(this,k)[k]),m(this,q)[q]()},X=function(e){if(!(m(this,N)[N]instanceof ctrl_cgrid&&jOmnis.getOmnisCtrl(e.target)!==m(this,N)[N])){var t=OmnisKeyboardHandler.getKeyEventData(e);t.systemKey===OmnisKeyboardHandler.eOmnisKeyCodes.TAB&&(t.modifiers&OmnisKeyboardHandler.eKeyModifiers.SHIFT?m(this,R)[R]=-1:m(this,R)[R]=1,this.elem.addEventListener("keyup",m(this,W)[W]=m(this,U)[U].bind(this)),this.elem.addEventListener("focusout",m(this,B)[B]=m(this,V)[V].bind(this)),m(this,M)[M]=!0)}},$=function(e){m(this,R)[R]=0,m(this,q)[q]()},J=function(e){if(!m(this,R)[R])return!1;(e.relatedTarget?jOmnis.getOmnisCtrl(e.relatedTarget):null)!==m(this,N)[N]&&(m(this,q)[q](),1===m(this,R)[R]&&this.nextTabObj?m(this,K)[K](this.nextTabObj):-1===m(this,R)[R]&&this.prevTabObj&&m(this,K)[K](this.prevTabObj),m(this,R)[R]=0)},Z=function(e){var t=m(this,N)[N].form.findChildByName(e);return!!t&&(t.focus(),!0)},Q=function(){m(this,M)[M]&&(this.elem.removeEventListener("focusout",m(this,B)[B]),m(this,B)[B]=null,this.elem.removeEventListener("keyup",m(this,W)[W]),m(this,W)[W]=null,m(this,M)[M]=!1)};function ee(e,t){var i=function e(){if(this.constructor===e)throw new Error("Cannot instantiate abstract class")};t&&(i.prototype=Object.create(t));for(var n,r=function(){var e="Child class '"+a().parse(new Error)[0].functionName.split(".")[0]+"' does not implement required abstract methods:\n - "+this.verifyAbstractMethods(!0).join("\n - ");console.error(e)},s=0;s<e.length;s++)n=e[s],i.prototype[n]=r;return i.prototype.verifyAbstractMethods=function(t){for(var i=[],n=0;n<e.length;n++)this[e[n]]===r&&i.push(e[n]);if(i.length)return t||console.error("Missing abstract methods: "+i.join(", ")),i;t||console.log("All abstract methods are implemented")},i}},1341:function(e,t,i){i.d(t,{OY:function(){return c},qW:function(){return x},Oo:function(){return U},mi:function(){return V},qm:function(){return K},zO:function(){return q},TF:function(){return G},cU:function(){return Y},fJ:function(){return o},Yr:function(){return h},Nz:function(){return f},R0:function(){return p},np:function(){return m},ZF:function(){return l},OT:function(){return a},ZG:function(){return u}});i(2222),i(6541),i(7327),i(9554),i(2772),i(2707),i(561),i(9653),i(7941),i(1539),i(9714),i(5306),i(3123),i(4747);var n=i(6353),r=i(6062),s={classname:-539,parameters:-579,subinst:-1094},o=-2,a="images/",l={close:"close",minimize:"minimize",maximize:"unfold_more",restore:"unfold_less",autoLayoutArrow:"keyboard_arrow_up"},m=".svg",u={autoLayout:16,notAutoLayout:20};function c(){this.init_class_inst()}c.prototype=new n.U2,c.prototype.init_class_inst=function(){this.superclass=n.U2.prototype,this.superclass.init_class_inst.call(this),this.subformIndex=o,this.classname="",this.multipleClasses=!1,this.formArray=[],this.mFocusStyle=eBaseFocusStyle.eNone,this.mCanHaveDesignBorder=0!=jOmnis.mDesign,this.showDesignName=this.showDesignNameBackground=!0},c.prototype.baseClassName="omnis-subform",c.prototype.delete_class_inst=function(){if(this.getClientElem().innerHTML="",this.useMultipleClasses())for(var e=0;e<this.formArray.length;e++){var t=this.formArray[e];this.form.deleteSubform(t.subformIndex)}else this.form.deleteSubform(this.subformIndex);return this.subformIndex=o,this.classname="",this.formArray=[],this.superclass.delete_class_inst.call(this),!0},c.prototype.init_ctrl_inst=function(e,t,i,n){this.mCannotDrop=!0,this.superclass.init_ctrl_inst.call(this,e,t,i,n);var r=this.getClientElem();this.classname=r.getAttribute("data-classname"),this.multipleClasses=1*r.getAttribute("data-multipleclasses"),r.style.outline="none",r.setAttribute("hidefocus","true"),this.classname&&this.classname.length&&this.classNameChanged(),this.elem.onkeydown=this.mEventFunction,this.elem.addEventListener("focusout",this.mEventFunction),this.elem.addEventListener("focusin",this.mEventFunction);var s=r.getAttribute("data-sbs"),o=!1,a=!1;return null!=s&&(1&(s*=1)&&(o=!0),2&s&&(a=!0)),this.vertscroll=o,this.horzscroll=a,jOmnis.mDesign&&(this.elem.style.overflowX=a?"scroll":"hidden",this.elem.style.overflowY=o?"scroll":"hidden",this.showDisabledDesignScrollbars(this.elem)),!0},c.prototype.getProperty=function(e){switch(e){case s.classname:return this.classname;case s.subinst:return this.subformIndex!=o?this.form.getSubform(this.subformIndex):null}return this.superclass.getProperty.call(this,e)},c.prototype.getCanAssign=function(e){switch(e){case s.classname:return!0;case s.subinst:return!1}return this.superclass.getCanAssign.call(this,e)},c.prototype.setProperty=function(e,t){switch(e){case s.classname:if(this.classname!=t){if(this.useMultipleClasses()&&"string"==typeof t&&"~"==t.substr(0,1)){var i=this.findSubform(t.substr(1));if(i){var r=this.form;this.subformIndex==i.subformIndex&&(this.classname=""),setTimeout((function(){var e=r.getSubform(i.subformIndex);e&&(e.mMultipleClassRemove=i.subformIndex,r.inst.sendCloseSubform(r.number,e))}),0)}return!0}this.classname=t,this.classNameChanged()}return!0;case s.parameters:if(!jOmnis.mDesign)throw jGetOmnisException(this.form.inst,"ctl_subf_params",this.objName);return!0;case n.W9.left:case n.W9.top:var o=this.superclass.setProperty.call(this,e,t);return(r=this.form.getSubform(this.subformIndex))&&r.doSetScreenSize(r.curScreenSize,!1),o;case n.W9.horzscroll:case n.W9.vertscroll:e===n.W9.horzscroll?this.horzscroll=!!t:this.vertscroll=!!t;var a=jOmnis.mDesign?this.elem:this.clientElem,l=this.getCurrentSubform();if(null==l?void 0:l.isResponsive){var m=this.clientElem.clientWidth,u=this.clientElem.clientHeight,c=l.mPositionInfo.getLayoutInfo(l.curScreenSize),h=c.width>m||c.height>u;jOmnis.mDesign?(a.style.overflowY=l.vertscroll&&h?"scroll":"hidden",a.style.overflowX=l.horzscroll&&h?"scroll":"hidden"):a.style.overflow=h?"auto":"hidden"}else{var d=jOmnis.mDesign?"scroll":"auto";e===n.W9.horzscroll?a.style.overflowX=this.horzscroll?d:"hidden":a.style.overflowY=this.vertscroll?d:"hidden"}return this.setScreenSize(this.form.curScreenSize,0,0,!0,null),!0}return this.superclass.setProperty.call(this,e,t)},c.prototype.handleEvent=function(e){switch(e.type){case"loadSubform":return this.handleLoadSubform(),!0;case"keydown":if(this.mSFS){var t=OmnisKeyboardHandler.getNormalizedEventKey(e);switch(t){case"Tab":if(this.mSFSmodal){var i=jOmnis.getTabbableElems(this.clientElem.parentElement);jOmnis.tabFocusTrap(i[0],i[i.length-1],e)}break;case"ArrowUp":case"ArrowDown":if(!this.mSFS.isAutoLayout||!jOmnis.hasClass(document.activeElement,"omnis-wf-title-auto-layout"))break;var n=!0;if("ArrowDown"===t)var r=!0;case"]":case"[":if("]"===t&&(r=!0),!this.mSFSmodal&&("ArrowUp"===t||"ArrowDown"===t||e.ctrlKey&&("]"===t||"["===t))){var s=(d=Object.keys(this.mSFS.mSubforms)).length-1;for(f=0;f<d.length;f++){var o=d[f];if(this.mSFS.mSubforms[o].uniqueID===this.uniqueID){if(r)var a=f+1;else a=f-1;for(var l=d[a],m=1;l!==o&&m<1e3&&(r&&a>s?a=0:!r&&a<0&&(a=s),l=d[a],this.mSFS.mSubforms[l].mSFSminimized&&!this.mSFS.isAutoLayout);)r?a++:a--,l=d[a],m++;break}}return m&&m<1e3&&(this.mSFS.isAutoLayout?n?this.mSFS.mSubforms[l].elem.firstElementChild.focus():this.mSFS.minimize(l,!0):this.mSFS.doBringToFront(l,this.mSFS.mSubforms[l])),!0}case"Home":case"End":if(this.mSFS.isAutoLayout&&!this.mSFSmodal&&jOmnis.hasClass(document.activeElement,"omnis-wf-title-auto-layout")){var u=(d=Object.keys(this.mSFS.mSubforms))[0],c=d[d.length-1];"Home"===t&&this.mSFS.mSubforms[u].uniqueID!==this.uniqueID?this.mSFS.mSubforms[u].elem.firstElementChild.focus():"End"===t&&this.mSFS.mSubforms[c].uniqueID!==this.uniqueID&&this.mSFS.mSubforms[c].elem.firstElementChild.focus()}return!0;case"Enter":case" ":if(jOmnis.hasClass(document.activeElement,"omnis-wf-title-auto-layout"))return this.mSFS.minimize(this.mSFSuniqueId,!0),!0}break}break;case"focusout":if(this.mSFS&&!this.mSFS.isAutoLayout&&!this.mSFSmodal){if(jOmnisMenuHandler.isContextMenuOpen()&&jOmnisMenuHandler.menuBelongsToElemOrChild(this.elem))return;this.elem.lostFocus=!0,jOmnis.addClass(this.elem,"omnis-wf-active-lostfocus")}break;case"focusin":if(this.mSFS){this.mSFS.isAutoLayout||this.mSFSmodal||(this.elem.lostFocus=!1,jOmnis.removeClass(this.elem,"omnis-wf-active-lostfocus"));var h=this.titleElem.querySelector("div").textContent,d=Object.keys(this.mSFS.mSubforms);if(!this.mSFS.isAutoLayout)for(var f=0;f<d.length;f++)this.mSFS.mSubforms[d[f]].mSFSminimized&&d.splice(f,1);for(f=0;f<d.length;f++)if(this===this.mSFS.mSubforms[d[f]])var p=f+1;var g=this.mSFS.isAutoLayout?this.elem.firstElementChild:this.elem;if(d.length>1&&!this.mSFSmodal){var _=this.mSFS.isAutoLayout?"omn_subform_paneltitle":"omn_subform_dialogtitle";g.setAttribute("aria-label",jGetOmnisString(this.mSFS.mInst,_,null,h,p,d.length))}else g.setAttribute("aria-label",h+".")}break;case"blur":if(jOmnis.modalDialogOpen||this.mSFSmodal&&!this.isTopModalSubform())return;if(this.mSFSmodal){for(var y=jOmnis.getNextBlurElem(e,!0);y&&y!==this.elem;)y=y.parentNode;if(y)return;e.target&&e.target.focus();break}default:return this.superclass.handleEvent.call(this,e)}},c.prototype.handleLoadSubform=function(e){this.mStartTimeout=null,--this.form.loadingSubform;var t=this.getClientElem();if(!document.getElementById(t.id))return this.mLoadOnVisChanged=!0,!0;if(this.useMultipleClasses()){var i=document.createElement("div");t.appendChild(i);var n=t.getAttribute("data-params");n&&i.setAttribute("data-params",n),t=i,this.formArray[this.formArray.length]={classname:this.classname,subformIndex:o,elem:i}}this.form.sendOpenSubform(this.objNumber,this.classname,t,this.useMultipleClasses()?o:this.subformIndex,t.getAttribute("data-params"),e)},c.prototype.setScreenSize=function(e,t,i,r,s){var o;this.mSFS&&(o=this.elem.className,this.mSFS.setFrameClasses(this.elem,!1,!1,!1,!1));var a=this.lastSizeInfo,l=0;if(!this.mSFSminimized||this.mSFS.mFlags&h.minastitle?l=this.superclass.setScreenSize.call(this,e,r?0:t,r?0:i,r,s):this.setScreenSizeOnRestored=!0,this.mSFS){this.elem.className=o;var m=this.cachedPositionInfo.getLayoutInfo(e),u=m.width,c=this.titleElem.getElementsByTagName("DIV")[0];if(c&&(c.style.width=u-this.mSFStitleWidthAdj+"px"),this.hasSetSize||(this.mSFS.frameExtraHeight=this.elem.offsetHeight-m.height,this.mSFS.frameExtraWidth=this.elem.offsetWidth-m.width),this.form.inst.mInOrientationChange||s){var f;if(this.getPerLayoutVariable("SFSCenterTop"))f=!this.mSFSmodal&&this.mSFS.mParentPageNum?(this.elem.parentNode.offsetHeight-(m.height+this.mSFS.frameExtraHeight))/2:(this.elem.parentNode.parentNode.offsetHeight-(m.height+this.mSFS.frameExtraHeight))/2,this.setProperty(n.W9.top,f),this.setPerLayoutVariable("SFSCenterTop",!1);if(this.getPerLayoutVariable("SFSCenterLeft")){var p=(this.elem.parentNode.offsetWidth-(m.width+this.mSFS.frameExtraWidth))/2;this.setProperty(n.W9.left,p),this.setPerLayoutVariable("SFSCenterLeft",!1)}this.mSFS.mFlags&h.parentwidth&&this.setProperty(n.W9.width,this.elem.parentNode.clientWidth-(this.elem.offsetWidth-this.elem.clientWidth))}this.resizeElem&&(jOmnis.setOmnisWidth(this.resizeElem,m.width+2*d.resizeBorderWidth),jOmnis.setOmnisHeight(this.resizeElem,m.height+2*d.resizeBorderWidth+d.titleHeight))}var g=this.form.getSubform(this.subformIndex);if(g&&!g.isResponsive){var _=this.horzscroll,y=this.vertscroll;if(r){var b=this.cachedPositionInfo.getLayoutInfo(e),v=g.mPositionInfo.getLayoutInfo(),O=b.width-2*this.borderWidth,S=b.height-2*this.borderWidth;v&&(t<0&&v.width>v.minWidth&&O<=v.minWidth?t=v.minWidth-v.width:t>0&&v.width<=v.minWidth&&O>v.minWidth?t=O-v.minWidth:v.width<=v.minWidth&&(t=0),i<0&&v.height>v.minHeight&&S<=v.minHeight?i=v.minHeight-v.height:i>0&&v.height<=v.minHeight&&S>v.minHeight?i=S-v.minHeight:v.height<=v.minHeight&&(i=0))}}if((_||!r&&!jOmnis.canFloatHorz(l,this.mInLayout&&!r))&&(t=0),(y||!r&&!jOmnis.canFloatVert(l,this.mInLayout&&!r))&&(i=0),!a||a!=this.lastSizeInfo||jOmnis.mDesign)if(this.useMultipleClasses())for(var E=0;E<this.formArray.length;E++){var C=this.formArray[E];this.doSetSubformScreenSize(C.subformIndex,e,t,i,C,s)}else this.doSetSubformScreenSize(this.subformIndex,e,t,i,null,s);return this.mSFS&&this.mSFS.isAutoLayout&&this.autoLayout(),this.mSFSminimized&&this.mSFS.minimize(this.mSFSuniqueId,!1,!0,this.mSFS.isAutoLayout),this.hasSetSize=!0,l},c.prototype.autoLayout=function(){var e=this.elem;e.style.position="relative",e.style.removeProperty("left"),e.style.removeProperty("top")},c.prototype.doSetSubformScreenSize=function(e,t,i,n,r,s){if(e!=o){var a=this.form.getSubform(e);if(a){if(!a.isResponsive){if(!this.getTrueVisibility())return void(this.wasResizedWhileInvisible=!0);var l=this.cachedPositionInfo.getLayoutInfo(t),m=l.width-2*this.borderWidth,u=l.height-2*this.borderWidth;if(r){if(r.elem.children.length){var c=r.elem.children[0];c&&(this.horzscroll?i=0:(s&&(i=m-jOmnis.getOmnisWidth(c,!0)),jOmnis.setOmnisWidth(c,m)),this.vertscroll?n=0:(s&&(n=u-jOmnis.getOmnisHeight(c,!0)),jOmnis.setOmnisHeight(c,u)))}}else if(this.mSFS&&this.mSFS.scrollable){var h=a.mPositionInfo.getLayoutInfo(a.curScreenSize),d=this.getClientElem(),f=a.serverElem,p=d.clientWidth-h.width;p>0?(i=d.clientWidth-f.clientWidth,jOmnis.setOmnisWidth(f,h.width+p)):(i=h.width-f.clientWidth,jOmnis.setOmnisWidth(f,h.width));var g=d.clientHeight-h.height;g>0?(n=d.clientHeight-f.clientHeight,jOmnis.setOmnisHeight(f,h.height+g)):(n=h.height-f.clientHeight,jOmnis.setOmnisHeight(f,h.height))}else this.horzscroll?i=0:(s&&(i=m-a.serverElem.clientWidth),jOmnis.setOmnisWidth(a.serverElem,m)),this.vertscroll?n=0:(s&&(n=u-a.serverElem.clientHeight),jOmnis.setOmnisHeight(a.serverElem,u))}a.floatX=i,a.floatY=n,a.setScreenSize(!0,a.isResponsive),a.floatX=a.floatY=0}}},c.prototype.onLayoutTransitionFinished=function(){if(this.animateTransCompleteAction){this.pendingAnimateTransCompleteAction=!0;var e=this;setTimeout((function(){e.animateTransCompleteAction(),e.pendingAnimateTransCompleteAction=!1,e.animateTransCompleteAction=null}),0)}},c.prototype.findSubform=function(e){for(var t=0;t<this.formArray.length;t++)if(e==this.formArray[t].classname)return this.formArray[t];return null},c.prototype.getCurrentSubform=function(){return this.form.getSubform(this.subformIndex)},c.prototype.subformSetVisible=function(e,t){e=jOmnis.defaultParameter(e,o);for(var i=null,n=0;n<this.formArray.length;n++){var r=this.formArray[n],s=e==r.subformIndex;s&&(s=this.getTrueVisibility(null)),r.elem.style.visibility=s?"":"hidden",r.elem.style.display=s?"":"none",e==r.subformIndex&&(i=this.form.getSubform(r.subformIndex))}return i&&i.visibilityChanged(!0),this.applyActiveAndEnabledStates(!0),t&&i&&i.canSendEvent(eBaseEvent.evSubFormToTop)&&i.sendEvent(0,eBaseEvent.evSubFormToTop,[]),!0},c.prototype.visibilityChanged=function(){var e=this.superclass.visibilityChanged.call(this),t=this.getTrueVisibility(null);if(t){if(this.getClientElem().style.display="",this.positionUpdate&&this.positionUpdate.required){var i=this.mSFS.getSubformPosition(this.positionUpdate.left,this.positionUpdate.top,this.mSFSmodal,this);i&&(this.setProperty(n.W9.left,i.left),this.setProperty(n.W9.top,i.top),this.positionUpdate.required=!1)}this.maximizeWhenVisible&&(this.mSFS.maximize(this.mSFSuniqueId),this.maximizeWhenVisible=!1)}if(e){if(this.mLoadOnVisChanged&&t)return this.mLoadOnVisChanged=!1,this.startLoadingSubform(),!0;this.subformSetVisible(this.subformIndex,!1);var r=this.form.getSubform(this.subformIndex);if(r){r.visibilityChanged(!0);var s=r.mChildren;if(s)for(var o=0;o<s.length;o++)s[o].parentVisible=t,s[o].visibilityChanged()}return!0}return!1},c.prototype.setTabIndex=function(e){if(this.getClientElem().tabIndex=-1,this.subformIndex!=o){var t=this.form.getSubform(this.subformIndex);if(t){if(this.mSFS&&(!this.mSFS.isTopForm(this.mSFSuniqueId)||this.mSFSminimized)){if(!this.mSFS.isAutoLayout)for(var i=this.clientElem.parentElement.querySelectorAll(".omnis-wf-title button"),n=0;n<i.length;n++)i[n].setAttribute("tabindex","-1");if(this.mSFSminimized||!this.mSFS.isAutoLayout)return t.setTabOrder(-1,!0),e}if(this.mSFS)for(i=this.clientElem.parentElement.querySelectorAll(".omnis-wf-title button"),n=0;n<i.length;n++)i[n].setAttribute("tabindex","0"),this.mSFS.isAutoLayout&&jOmnis.hasClass(i[n],"omnis-wf-min")&&i[n].setAttribute("tabindex","-1");return t.mTabOrder?t.setTabOrder(e):e}}return e},c.prototype.setSubform=function(e){if(this.subformIndex==o||this.useMultipleClasses()||this.form.deleteSubform(this.subformIndex),this.subformIndex=e,this.useMultipleClasses()){var t=this.findSubform(this.classname);t&&(t.subformIndex=e),this.subformSetVisible(this.subformIndex,!0),this.form.setTabOrder()}},c.prototype.classNameChanged=function(){if(this.classname&&this.classname.length){if(this.useMultipleClasses()){var e=this.findSubform(this.classname);if(e)return this.setSubform(e.subformIndex),!0}this.startLoadingSubform()}else if(this.useMultipleClasses())this.subformSetVisible(),this.form.setTabOrder();else{if(this.getClientElem().innerHTML="",this.subformIndex!=o){var t=this.form.getSubform(this.subformIndex),i=this.form.inst,n=i.commsParams;i.commsParams=[];try{i.commsParamsAddConnectionID(t.index),i.commsParamsAddInstanceVars(t.index),i.commsParamsAdd(eORFCparam.SubForm,this.form.number,0,t.number),i.sendMessage(eORFCmess.CloseSubform,t.index),this.form.deleteSubform(this.subformIndex),this.subformIndex=o}catch(e){throw e}finally{i.commsParams=n}}}return!0},c.prototype.startLoadingSubform=function(){this.classname&&this.classname.length&&!this.mStartTimeout&&!this.form.inst.willLoadSubform(this)&&(++this.form.loadingSubform,this.form.inst.mCanBulkLoad&&1!=this.form.inst.offlinemode?this.form.inst.queueLoadSubform(this):this.mStartTimeout=setTimeout((function(e){jOmnis.handleEvent(jOmnis.createDOMEvent("loadSubform"),e,e.form.ident,e.uniqueID)}),0,this))},c.prototype.resolveBuiltInPropertyName=function(e){var t=s[e];return t||this.superclass.resolveBuiltInPropertyName.call(this,e)},c.prototype.sfsSetFocusNow=function(){if(this.sfsSavedFocus&&!this.mSFSminimized){var e=this.form.getSubform(this.subformIndex);if(e){var t=e.findChild(this.sfsSavedFocus);t&&t.focus()}}},c.prototype.setModalSavedFocus=function(){this.mSFSmodal&&(this.modalSavedFocus=document.activeElement)},c.prototype.restoreModalSavedFocus=function(){if(this.mSFSmodal&&this.modalSavedFocus){var e=this;setTimeout((function(){jOmnis.restoreFocus(e.modalSavedFocus)}),0)}},c.prototype.isTopModalSubform=function(){return this.mSFSmodal&&this.mSFS.mInst.getTopModalSubform()===this},c.prototype.$subinst=function(e){if(this.useMultipleClasses()&&e&&e.length){for(var t=0;t<this.formArray.length;++t){var i=this.formArray[t];if(i.classname==e)return this.form.getSubform(i.subformIndex)}return null}return this.form.getSubform(this.subformIndex)},c.prototype.getNextPrevTabObject=function(e,t){return this.subformIndex!=o?this.form.getSubform(this.subformIndex).getNextPrevTabObject(e,t):null},c.prototype.getOmnisWidth=function(e){return jOmnis.getOmnisWidthFromStyle(e)},c.prototype.getOmnisHeight=function(e){return jOmnis.getOmnisHeightFromStyle(e)},c.prototype.useMultipleClasses=function(){return this.multipleClasses&&!jOmnis.mDesign},c.prototype.focus=function(){var e=this.getCurrentSubform();(null==e?void 0:e.formIsBuilt)?(this.waitingToFocus=!1,this.form.focusInContainer(this)):this.waitingToFocus=!0};var h={closebutton:1,minbutton:2,maxbutton:4,resize:8,openmin:16,minastitle:32,autolayout:64,parentwidth:128,singleopen:256,ministitle:512,preventdrag:1024,posnScroll:2048,openmax:4096,scrollable:8192},d={},f=1e6,p="omnis_subformdialog_",g="omnis-wf-borders-min",_="omnis-wf-borders-min-al",y="omnis-wf",b="omnis-wf-shadow",v="omnis-wf-padding",O="omnis-wf-borders",S="omnis-wf-radii",E="omnis-wf-active",C="omnis-wf-auto-layout",D="omnis-wf-active-lostfocus",w="omnis-anim-zoom",T="omnis-wf-title",I="omnis-wf-title-active",j="omnis-wf-title-auto-layout",F="omnis-wf-title-active-auto-layout",A="autoFocus",L=0;function x(e,t,i,n,r,s,o){this.mInst=e,this.mSetName=t,this.mParent=i,this.mParentPageNum=n,this.isAutoLayout=0!=(r&h.autolayout),this.isAutoLayout&&(r&h.minastitle||(r|=h.minastitle),r&h.ministitle&&!(r&h.minbutton)&&(r|=h.minbutton),(r&=~(h.maxbutton+h.resize))&h.minbutton?r|=h.minastitle:r&=~h.openmin),r&h.parentwidth&&(this.isAutoLayout?r&=~(h.maxbutton+h.resize):r&=~h.parentwidth),!(r&h.singleopen)||this.isAutoLayout&&r&h.minbutton||(r&=~h.singleopen),this.mFlags=r,this.posnScroll=0!=(r&h.posnScroll),this.scrollable=0!=(r&h.scrollable),this.mConstructing=0,this.mParentPageNum?this.mForm=this.mParent.form:this.mForm=this.mParent,this.mOrderVar=this.mForm.getDataIndex(s),this.mSubforms={},this.mSubformOrder=[];var a=o.lstData.length;if(this.isAutoLayout)for(var l=0;l<a;++l){var m=o.lstData[l];this.mInst.subformsetFormAdd(this,m,0==l)}else for(l=a-1;l>=0;--l)m=o.lstData[l],this.mInst.subformsetFormAdd(this,m,0==l);0==L++&&window.addEventListener("focus",N,!0),this.mForm.mSFSOrder.push(this)}x.prototype.setFrameClasses=function(e,t,i,n,r){var s=[],o=[];function a(e,t){t?s.push(e):o.push(e)}a(y,!0),a(b,!0),a(v,i),a(O,i),a(S,!this.isAutoLayout),a(E,t),a(C,this.isAutoLayout),a(D,n),a(this.isAutoLayout?_:g,r),a(w,!this.isAutoLayout),jOmnis.addClass(e,s),jOmnis.removeClass(e,o)},x.prototype.setTitleClasses=function(e,t){var i=[],n=[];function r(e,t){t?i.push(e):n.push(e)}r(T,!this.isAutoLayout),r(I,t),this.isAutoLayout&&(r(j,!0),r(F,!0)),r(A,!0),jOmnis.addClass(e,i),jOmnis.removeClass(e,n)};var P=2146435072;function N(e){for(var t=0;t<jOmnis.omnisInsts.length;t++){var i=jOmnis.omnisInsts[t];for(var n in i.mSFS)i.mSFS[n].hasFocus=!1}var r=e.target;if(r){var s=r.omnisObject;if(s){var o=s.form,a=o.subFormObj;o.isSubform&&a&&(n=a.mSFS)&&(n.mSubforms[a.mSFSuniqueId].sfsSavedFocus=s.objNumber,n.hasFocus=!0,n.bringToFront(a.mSFSuniqueId))}}}x.prototype.addSubform=function(e,t,i,r,o,a,l,m){if(this.mSubforms[e])throw jGetOmnisException(this.mForm.inst,"omn_inst_dupuid",e);var u=new c,p=this.mForm.curScreenSize;this.initLayoutInfo(u,jOmnis.deepCopy(o));var g,_=u.cachedPositionInfo.getLayoutInfo(p),y=document.createElement("DIV"),b="___"+P;y.setAttribute("id",b+"_frame"),y.setAttribute("data-ident",P++),g=this.mForm.freeObjNumbers&&this.mForm.freeObjNumbers.length>0?this.mForm.freeObjNumbers.pop():this.mForm.maxObjNumber+1,y.setAttribute("data-ord","0"+g.toString(16)),y.setAttribute("data-alpha",0),this.setFrameClasses(y,l,!0,!a,null);var v,O=5e3;this.mFlags&h.resize&&((v=document.createElement("DIV")).setAttribute("id",b+"_resize"),v.className="omnis-wf-resize omnis-wf-radii",v.style.display="none",a&&(v.style.zIndex=O),v.onmousemove=G,v.onmouseout=Y,y.appendChild(v));var S=this.mFlags&h.openmin&&!a,E=0!=(this.mFlags&h.singleopen);S||l||m||!this.isAutoLayout||!E||(S=!0),!S&&this.isAutoLayout&&!a&&!E&&t&&t.length&&"~"==t.substr(0,1)&&(S=!0,t=t.substr(1));var C=_.width,D=document.createElement("DIV");if(D.setAttribute("id",b+"_title"),D.style.position="absolute",a&&(D.style.zIndex=O),D.style.top="0",D.style.left="0",D.style.width="100%",this.setTitleClasses(D,l&&!S),D.onselectstart=function(){return!1},this.isAutoLayout||this.mFlags&h.maxbutton&&this.mFlags&h.resize){var w=this;!(this.isAutoLayout&&this.mFlags&h.ministitle)&&this.mFlags&h.minbutton&&(D.ondblclick=function(){w.isAutoLayout?w.minimize(e,!0):w.maximize(e)})}var T=document.createElement("DIV");if(T.setAttribute("id",b+"_client"),a&&(T.style.zIndex=O),i&&(i+="").length>0&&T.setAttribute("data-params","*"+i),this.isAutoLayout?(D.tabIndex=0,y.appendChild(D),y.appendChild(T)):(y.appendChild(T),y.appendChild(D)),a){var I=this.mForm.$cwind();I.serverElem.children[0].appendChild(y),this.mSavedOX=I.serverElem.style.overflowX,this.mSavedOY=I.serverElem.style.overflowY,I.serverElem.style.overflow="hidden"}else this.mParentPageNum?(y.setAttribute("data-objlink",this.mParentPageNum<<16),this.mParent.getClientElem().appendChild(y)):this.mForm.isSubform?this.mForm.serverElem.appendChild(y):this.mForm.serverElem.children[0].appendChild(y);v&&(null==d.resizeBorderWidth&&(d.resizeBorderWidth=jOmnis.getStyle(v,"min-width",!0)),v.style.position="absolute",v.style.top=v.style.left=-d.resizeBorderWidth+"px",v.style.cursor="w-resize"),y.style.position="absolute",T.style.position="absolute",1*a&&showDialogMask.call(u,!0,!0,"omnis-sfs-modal"),u.titleElem=D,v&&(u.resizeElem=v,v.omnisObject=u),this.mForm.mPositionInfo.getLayoutNames().forEach((function(e){var t=u.cachedPositionInfo.getLayoutInfo(e),i=v?d.resizeBorderWidth:0,n=t.left,r=t.top;if(t.left!=f){n+=i;var s=!0}else u.setPerLayoutVariable("SFSCenterLeft",!0,e);t.top!=f?(r+=i,s=!0):u.setPerLayoutVariable("SFSCenterTop",!0,e),s&&u.cachedPositionInfo.updateLayoutDimensions(e,[n,r,t.width,t.height])}));var j=this.mFlags&h.minastitle;this.addTitleControls(u,D,r,C,e,a),u.parentCtrl=this.mParentPageNum&&!a?this.mParent:null,u.init_ctrl_inst(this.mForm,y),this.mForm.installChild(u),u.mSFS=this,u.mSFSuniqueId=e,u.mSFSmodal=a,u.mSFStitleText=r,u.borderWidth=0,u.mMustSize=!0,this.mFlags&h.parentwidth?(u.cachedPositionInfo.updateLayoutInfo("*","edgeFloat",WND_FLOAT_RIGHT),u.setProperty(n.W9.width,u.elem.parentNode.clientWidth-(u.elem.offsetWidth-u.elem.clientWidth))):u.setProperty(n.W9.width,_.width),u.setProperty(n.W9.height,_.height),u.mMustSize=!1;for(var F=u.form;a&&F&&F.parentForm;)F=F.parentForm;var A=(_=u.cachedPositionInfo.getLayoutInfo(p)).left,L=_.top,x=this.getSubformPosition(A,L,a,u,F);x&&(A=x.left,L=x.top),u.setProperty(n.W9.left,A),u.setProperty(n.W9.top,L),u.setProperty(s.classname,t),this.mParentPageNum&&!a&&this.mParent.updateCtrl(),jOmnis.touchDevice&&(y.ontouchstart=U),y.onmousedown=U,this.mSubforms[e]=u,S?this.mSubformOrder.unshift(u):this.mSubformOrder.push(u),u.elem.style.zIndex=a?+u.dialogMask.style.zIndex+1:this.mSubformOrder.length+1,++this.mConstructing,S&&(u.elem.style.height="0px",j||(u.elem.style.width="0px",u.elem.style.display="none"),this.makeFormInvisible(u.elem,j,this.isAutoLayout),u.elem.querySelector(".omnis-wf-min")&&jOmnis.addClass(u.elem.querySelector(".omnis-wf-min"),"omnis-wf-expand"),u.mSFSminimized=!0),this.isAutoLayout?(u.autoLayout(),S?u.elem.scrollIntoView(!1):this.setIsOpen(u,!0),D.setAttribute("role","button"),D.lastElementChild.setAttribute("role","button"),jOmnis.hasClass(u.elem,"omnis-wf-active")?D.setAttribute("aria-expanded","true"):D.setAttribute("aria-expanded","false")):(y.setAttribute("role","dialog"),a&&y.setAttribute("aria-modal","true")),u.elem.lostFocus=!a;var N=y.omnisObject.mSFS?y.omnisObject.mSFS.mFlags:0;return N&h.preventdrag?D.style.cursor="default":jOmnis.inIE11OrLater()&&(D.style.cursor="move"),N&h.openmax&&u.mSFS.maximize(u.mSFSuniqueId),a&&(u.elem.addEventListener("blur",(function(e){u.handleEvent.call(u,e)}),!0),this.mInst.addToModalSubformOrder(u)),u},x.prototype.getSubformPosition=function(e,t,i,n,r){var s=this.posnScroll||i&&e===f,o=this.posnScroll||i&&t===f;if(this.mParentPageNum&&!i){if(this.mParentPageNum!==n.parentCtrl.getCurrentPage())return n.positionUpdate={required:!0,left:e,top:t},{left:0,top:0};var a=n.parentCtrl.getCurrentPageScrollValues()}else{var l=jOmnis.getWindowClientSize(),m=window.getScrollSize();a={height:r?Math.min(l.height,r.serverElem.offsetHeight):l.height,width:r?Math.min(l.width,r.serverElem.offsetWidth):l.width,fullHeight:r?r.serverElem.offsetHeight:m.y,fullWidth:r?r.serverElem.offsetWidth:m.x,scrollLeft:window.pageXOffset,scrollTop:window.pageYOffset}}var u=o?"height":"fullHeight";return e===f&&(e=(a[s?"width":"fullWidth"]-n.elem.offsetWidth)/2),t===f&&(t=(a[u]-n.elem.offsetHeight)/2),{left:s?e+a.scrollLeft:e,top:o?t+a.scrollTop:t}},x.prototype.initLayoutInfo=function(e,t){var i=this.mForm.mPositionInfo.getLayoutNames(),n=this.mForm.isResponsive,r=n?{}:[];if(t.usesResponsiveBreakpoints){var s=Object.keys(t).filter((function(e){return!Number.isNaN(+e)}));for(var o in s.sort((function(e,t){return t-e})),i)if(s.indexOf(i[o])>-1)r[i[o]]=jOmnis.deepCopy(t[i[o]]);else for(var a=0;a<s.length;a++)if(+s[a]<+i[o]||a===s.length-1){r[i[o]]=jOmnis.deepCopy(t[s[a]]);break}}else if(n)for(o in i)r[i[o]]=jOmnis.deepCopy(t.portrait);else for(o in i)r.push(jOmnis.deepCopy("0"!=o&&parseInt(o)%2==0?t.landscape:t.portrait));e.initLayoutInfo(r)},x.prototype.addTitleControls=function(e,t,i,n,r,s){e.mSFStitleWidthAdj=0;var o=n;null==d.titleButtWidth&&(d.titleButtWidth=jOmnis.getStyle(t,"min-width",!0),d.titleTextIndent=jOmnis.getStyle(t,"text-indent",!0),d.titleHeight=jOmnis.getStyle(t.parentNode,"padding-top",!0));var a=jOmnis.omnisInsts[0].resolution===eResolutions.standard?"":"_2x";this.mFlags&h.closebutton&&(n=this.addTitleButton(t,"omnis-wf-close",n,r,h.closebutton,i,a)),this.mFlags&h.maxbutton&&this.mFlags&h.resize&&(n=this.addTitleButton(t,"omnis-wf-max",n,r,h.maxbutton,i,a)),!(this.mFlags&h.minbutton)||s||this.mFlags&h.ministitle||(n=this.addTitleButton(t,"omnis-wf-min",n,r,h.minbutton,i,a)),n-=d.titleTextIndent,e.mSFStitleWidthAdj=o-n;var l=document.createElement("DIV");l.id=t.id+"_text",l.className="omnis-wf-title-text",l.style.width=n+"px",l.style.overflow="hidden",l.style.display="inline",l.style.position="absolute",l.style.textOverflow="ellipsis",l.style.whiteSpace="nowrap",l.style.outline="none",l.tabIndex=-1,l.onselectstart=function(){return!1},l.innerHTML=i+"",t.appendChild(l)},x.prototype.addTitleButton=function(e,t,i,n,r,s,o){var a,m=document.createElement("BUTTON");switch(m.className="omnis-wf-butt noFocus "+t,m.setAttribute("type","button"),r){case h.closebutton:m.setAttribute("aria-label",jGetOmnisString(this.mInst,this.isAutoLayout?"omn_subform_closepanel":"omn_subform_close",null,s)),a=l.close;break;case h.minbutton:var u=this.isAutoLayout?jOmnis.hasClass(e,"omnis-wf-title-active")?"omn_subform_collapse":"omn_subform_expand":"omn_subform_min";m.setAttribute("aria-label",jGetOmnisString(this.mInst,u,null,s)),m.tabIndex=this.isAutoLayout?-1:0,a=this.isAutoLayout?l.autoLayoutArrow:l.minimize;break;case h.maxbutton:a=this.isAutoLayout?l.expand:l.maximize,m.setAttribute("aria-label",jGetOmnisString(this.mInst,"omn_subform_max",null,s))}this.setButtonIcon(m,a);var c="jOmnis.sfsButtEvent(event,"+this.mForm.inst.index+",'"+this.mSetName+"',"+n+","+r+");";return m.onclick=new Function("event",c),m.tabIndex||(m.tabIndex=0),e.appendChild(m),i-=d.titleButtWidth},x.prototype.buttonEvent=function(e,t,i){switch(i){case h.minbutton:this.minimize(t,!0);break;case h.maxbutton:this.maximize(t);break;default:this.isSubformDialog()?this.mInst.subformDialogClose():this.removeSubform(t,this.isTopForm(t),!1,!0)}},x.prototype.isSubformDialog=function(){return-1!==this.mSetName.indexOf(p)},x.prototype.zOrderFind=function(e){return this.mSubformOrder.indexOf(e)},x.prototype.applyZOrder=function(e){var t=0;for(l=0;l<this.mForm.mSFSOrder.length;l++){var i=this.mForm.mSFSOrder[l].mSubformOrder.length;i>t&&(t=i)}var n=(t+=10).toString().length,s="";if(this.mForm.mSFSOrder.length>1)for(l=0;l<this.mForm.mSFSOrder.length;l++)this===this.mForm.mSFSOrder[l]&&(s=(l+1).toString());function o(e){var t=e.toString().length,i="";if(n>t)for(var r=n-t,s=0;s<r;s++)i+="0";return i}function a(e){var t=m.mSFSminimized;t||e.setFrameClasses(u,h,!0,u.lostFocus,null),e.setTitleClasses(m.titleElem,h&&!t)}for(var l=0;l<this.mSubformOrder.length;++l){var m=this.mSubformOrder[l],u=m.elem;if(m.mSFSmodal)u.style.zIndex=m.dialogMask?+m.dialogMask.style.zIndex+1:r.VB+1;else{var c=l+10;u.style.zIndex=s+o(c)+c}var h=l==this.mSubformOrder.length-1;a(this)}if(e&&this.mForm.mSFSOrder.length>1)for(l=0;l<this.mForm.mSFSOrder.length;l++)if(this!==this.mForm.mSFSOrder[l])for(var d=0;d<this.mForm.mSFSOrder[l].mSubformOrder.length;d++){var f=this.mForm.mSFSOrder[l];m=f.mSubformOrder[d],u=m.elem,m.mSFSmodal?u.style.zIndex=m.dialogMask?+m.dialogMask.style.zIndex+1:r.VB+1:(c=d+10,s=(l+1).toString(),u.style.zIndex=s+o(c)+c),h=d==f.mSubformOrder.length-1,a(f)}if(this.mSubformOrder.length){var p=this.mSubformOrder[this.mSubformOrder.length-1],g=p.form.inst;p.mSFSmodal&&(g.mSFSmodal=p.mSFS),p.form.setTabOrder(),g.mSFSmodal=null}this.buildOrderVar()},x.prototype.makeFormInvisible=function(e,t,i){this.setFrameClasses(e,!1,!0,null,t),e.style.overflow="hidden",jOmnis.setOpacity(e,255),i&&this.setIsOpen(e,!1)},x.prototype.setIsOpen=function(e,t){e.isOpen=!!t},x.prototype.minimize=function(e,t,i,n){if(!this.mAnimating){var r=this.mSubforms[e],s=this.mFlags&h.minastitle;jOmnis.omnisInsts[0].resolution,eResolutions.standard;if(r.mSFSminimized&&t)return this.formToFront(e),this.checkSingleOpen(r),this.isAutoLayout&&r.elem.querySelector(".omnis-wf-min")&&(jOmnis.removeClass(r.elem.querySelector(".omnis-wf-min"),"omnis-wf-expand"),(o=r.elem.querySelector(".omnis-wf-min")).setAttribute("aria-label",jGetOmnisString(this.mInst,"omn_subform_collapse"))),this.isAutoLayout&&r.elem.firstElementChild.setAttribute("aria-expanded","true"),void this.setIsOpen(r.elem,!0);if(this.isAutoLayout&&r.elem.querySelector(".omnis-wf-min")){jOmnis.addClass(r.elem.querySelector(".omnis-wf-min"),"omnis-wf-expand");var o=r.elem.querySelector(".omnis-wf-expand");o.setAttribute("aria-label",jGetOmnisString(this.mInst,"omn_subform_expand"))}this.isAutoLayout&&r.elem.firstElementChild.setAttribute("aria-expanded","false");var a=this.zOrderFind(r);if(-1!=a){var l,m;if(this.mSubformOrder.splice(a,1),this.mSubformOrder.unshift(r),r.mSFSminimized=!0,this.applyZOrder(),a==this.mSubformOrder.length-1)this.mSubformOrder[this.mSubformOrder.length-1].sfsSetFocusNow();this.makeFormInvisible(r.elem,s,this.isAutoLayout),s?(l=r.elem.clientWidth||parseInt(r.elem.style.width),m=0):l=m=1,i?(r.elem.style.width=l+"px",r.elem.style.height=m+"px",n||(r.elem.style.display="none")):this.animateWidthHeight(e,r,r.elem,l,m,!1)}}},x.prototype.checkSingleOpen=function(e){if(this.mFlags&h.singleopen&&this.isAutoLayout){var t=this;setTimeout((function(){for(var i=0;i<t.mSubformOrder.length;++i){var n=t.mSubformOrder[i];n==e||n.mSFSmodal||n.mSFSminimized||t.minimize(n.mSFSuniqueId,!1)}}),200)}},x.prototype.isSubformOpen=function(e){return e.isOpen||!this.isAutoLayout},x.prototype.animateWidthHeight=function(e,t,i,n,r,s){this.mAnimating=!0;var o=this;if(s)return i.style.display="block",void setTimeout((function(){o.animateWidthHeight(e,t,i,n,r)}),0);i.style[jOmnis.transitionProperty]="width,height",i.style[jOmnis.transitionDurationProperty]="200ms",i.style.width=n+"px",i.style.height=r+"px",setTimeout((function(){o.mAnimating=!1,!1===s?o.mFlags&h.minastitle||(i.style.display="none"):o.doBringToFront(e,t),i.style[jOmnis.transitionProperty]="none",i.style[jOmnis.transitionDurationProperty]="0ms"}),200)},x.prototype.maximize=function(e){if(!this.mAnimating){var t=this.mSubforms[e],i=!!this.mForm.isResponsive||jOmnis.portraitSize(this.mForm.form.curScreenSize)==t.form.curScreenSize?0:1;null==t.mSFSmaximized&&(t.mSFSmaximized=[]);var r=t.elem;if(t.mSFSminimized&&(this.makeFormInvisible(r,!1,!1),t.mSFSminimized=!1),t.mSFSmodal){for(var s=t.form;s&&s.parentForm;)s=s.parentForm;var o=s.serverElem}else o=r.omnisObject.parentCtrl?r.parentNode:r.omnisObject.form.serverElem;if(o&&o.clientWidth){var a=this.mForm.curScreenSize;if(t.mSFSmaximized[i]){t.cachedPositionInfo.updateLayoutInfo(a,"left",t.mSFSmaximized[i][0]),t.cachedPositionInfo.updateLayoutInfo(a,"top",t.mSFSmaximized[i][1]),(m=r.querySelector(".omnis-wf-resize"))&&(m.style.display="block"),t.form.floatX=t.mSFSmaximized[i][2]-t.getCoordProperty(n.W9.width),t.form.floatY=t.mSFSmaximized[i][3]-t.getCoordProperty(n.W9.height),t.mSFSmaximized[i]=null,(f=t.elem.querySelector(".omnis-wf-restore"))&&(jOmnis.addClass(f,"omnis-wf-max"),this.setButtonIcon(f,l.maximize)),(h=t.elem.querySelector(".omnis-wf-max"))&&(jOmnis.removeClass(h,"omnis-wf-restore"),t.elem.querySelector(".omnis-wf-max").setAttribute("aria-label",jGetOmnisString(this.mInst,"omn_subform_max")))}else{var m;t.mSFSmaximized[i]=[t.getCoordProperty(n.W9.left),t.getCoordProperty(n.W9.top),t.getCoordProperty(n.W9.width),t.getCoordProperty(n.W9.height)],t.cachedPositionInfo.updateLayoutInfo(a,"left",0),t.cachedPositionInfo.updateLayoutInfo(a,"top",0),(m=r.querySelector(".omnis-wf-resize"))&&(m.style.display="none"),jStyles.setElem(r);var u=o.clientWidth-jStyles.getInt("border-left-width")-jStyles.getInt("border-right-width"),c=o.clientHeight-d.titleHeight-jStyles.getInt("border-bottom-width");jStyles.done(),t.form.floatX=u-t.mSFSmaximized[i][2],t.form.floatY=c-t.mSFSmaximized[i][3];var h=t.elem.querySelector(".omnis-wf-max");h&&(jOmnis.addClass(h,"omnis-wf-restore"),this.setButtonIcon(h,l.restore));var f=t.elem.querySelector(".omnis-wf-restore");f&&(jOmnis.removeClass(f,"omnis-wf-max"),f.setAttribute("aria-label",jGetOmnisString(this.mInst,"omn_subform_restore")))}r.addEventListener("transitionend",(function e(){r.removeEventListener("transitionend",e,!1),jOmnis.removeClass(r,"omnis-wf-max-transition")}),!1),jOmnis.addClass(r,"omnis-wf-max-transition"),t.cachedPositionInfo.updateLayoutInfo(a,"edgeFloat",WND_FLOAT_RIGHT+WND_FLOAT_BOTTOM),t.setScreenSize(a,t.form.floatX,t.form.floatY),t.form.floatX=t.form.floatY=0,t.form.inst.doLayoutComponents(),t.cachedPositionInfo.updateLayoutInfo(a,"edgeFloat",0),this.doBringToFront(e,t)}else t.maximizeWhenVisible=!0}},x.prototype.setButtonIcon=function(e,t){var i=this.isAutoLayout?u.autoLayout:u.notAutoLayout;jIcons.replaceOrAddToElem(e,"".concat(a).concat(t).concat(m,"?"),null,{width:i,height:i,viewBox:"0 0 24 24"},!1)},x.prototype.bringToFront=function(e,t,i,n,r,s){if((i&&(i.mFocusOnUp=null,i.mFocusOnUpDisableBefore=!1),this.mForm.mSFSOrder.length>1)&&this!==this.mForm.mSFSOrder[this.mForm.mSFSOrder.length-1]){var o=this.mForm.mSFSOrder.indexOf(this);this.mForm.mSFSOrder.splice(o,1),this.mForm.mSFSOrder.push(this)}var a=this.mSubformOrder[this.mSubformOrder.length-1],l=this.mSubforms[e];if(null==l)return!1;if(l!=a||!i||!this.hasFocus){var m=this.zOrderFind(l);if(-1==m)return!1;this.mSubformOrder.splice(m,1),this.mSubformOrder.push(l),this.applyZOrder(!0)}if(l.sfsSavedFocus&&i){for(t&&(s?t.ontouchstart==omnisDBMouseDown&&(t=null):t.onmousedown==omnisDBMouseDown&&(t=null));t&&null==t.omnisObject;)t=t.parentNode;var u=t?t.omnisObject:null;if(!t||!u||t==l.elem||n){var c=l.form.getSubform(l.subformIndex);i.mFocusOnUp=c.findChild(l.sfsSavedFocus),i.mFocusOnUpDisableBefore=a==l&&l.mSFS.hasFocus}}return r||this.checkSingleOpen(l),!0},x.prototype.isTopForm=function(e){var t=this.mSubforms[e];return t==this.mSubformOrder[this.mSubformOrder.length-1]&&(!t.mSFSminimized||this.mFlags&h.minastitle)},x.prototype.formToFront=function(e){var t=this.mSubforms[e];if(t&&!t.mSFSmodal){var i=this,n=t.elem;if(t.mSFSminimized){var r=t.cachedPositionInfo.getLayoutInfo(i.mForm.curScreenSize);this.animateWidthHeight(e,t,n,r.width,r.height,!0),t.setScreenSizeOnRestored&&(t.setScreenSizeOnRestored=!1,t.mSFSminimized=!1,t.setScreenSize(i.mForm.curScreenSize,0,0,!1,!0)),t.mSFSminimized=!1}else setTimeout((function(){i.doBringToFront(e,t)}),0);return!0}return!1},x.prototype.doBringToFront=function(e,t){this.bringToFront(e),t.sfsSetFocusNow(),t.elem.style.overflow="visible"},x.prototype.buildOrderVar=function(){if(this.mOrderVar&&this.mForm.instanceVars){var e=this.mForm.getData(this.mOrderVar);if(e&&e instanceof omnis_raw_list&&!(this.mConstructing>0)){var t=new omnis_raw_list(!1,e.__form);t.$define();var i=t.$cols();i.$add("uniqueID",eOmnisDataTypes.fftInteger,0,0),i.$add("classname",eOmnisDataTypes.fftCharacter,0,gCliMaxcharlen),i.$add("params",eOmnisDataTypes.fftCharacter,0,gCliMaxcharlen),i.$add("title",eOmnisDataTypes.fftCharacter,0,gCliMaxcharlen),i.$add("left",eOmnisDataTypes.fftInteger,0,0),i.$add("top",eOmnisDataTypes.fftInteger,0,0),i.$add("width",eOmnisDataTypes.fftInteger,0,0),i.$add("height",eOmnisDataTypes.fftInteger,0,0),i.$add("landleft",eOmnisDataTypes.fftInteger,0,0),i.$add("landtop",eOmnisDataTypes.fftInteger,0,0),i.$add("landwidth",eOmnisDataTypes.fftInteger,0,0),i.$add("landheight",eOmnisDataTypes.fftInteger,0,0),i.$add("minimized",eOmnisDataTypes.fftBoolean,0,0);for(var n,r,s,o,a=this.mForm.curScreenSize,l=0!=a&&!this.mForm.isResponsive,m=this.mForm.isResponsive?this.mForm.curScreenSize:jOmnis.portraitSize(a),u=this.mFlags&h.resize?d.resizeBorderWidth:0,c=this.mSubformOrder.length-1;c>=0;--c){var f=this.mSubformOrder[c],p=f.getClientElem().getAttribute("data-params");p=p&&p.length>0?p.substr(1):"";var g=f.cachedPositionInfo.getLayoutInfo(m);l&&(n=g.left-u,r=g.top-u,s=g.width,o=g.height),t.$add(f.mSFSuniqueId,f.classname,p,f.mSFStitleText,g.left-u,g.top-u,g.width,g.height,n,r,s,o,!!f.mSFSminimized)}if(e.lstData.length!==t.lstData.length)var _=!0;else _=!t.lstData.every((function(e,t){return this.lstData[t][0]===e[0]}),e);if(_){this.mForm.setData(this.mOrderVar,t);var y=this;setTimeout((function(){y.mForm.callMethodEx("$sfsorder",eDoMethodFlags.clientOnly|eDoMethodFlags.noLog,y.mSetName)}),0)}}}},x.prototype.remove=function(e){if(this.mRemovingSet=!0,0==this.mSubformOrder.length){var t=this.mSetName;delete this.mInst.mSFS[t],this.mInst.mRemovedSFS||(this.mInst.mRemovedSFS={}),this.mInst.mRemovedSFS[t]=!0;var i=this.mInst;setTimeout((function(){delete i.mRemovedSFS[t]}),0)}else{for(var n=this.mInst.commsParamsClear(!0),r=this.mSubformOrder.length-1;r>=0;--r)this.removeSubform(this.mSubformOrder[r],!1,e);this.mInst.commsParams=n}return 0==--L&&window.removeEventListener("focus",N,!0),!0},x.prototype.removeSubform=function(e,t,i,n){if(e instanceof c||(e=this.mSubforms[e]),e)if(e.mSFSneedFinishRemove=!0,i||e.subformIndex==o)this.finishRemove(e);else{var r=!0;if(n)null==(r=e.form.getSubform(e.subformIndex).callMethodEx("$sfscanclose",eDoMethodFlags.clientOnly|eDoMethodFlags.noLog))&&(r=!0);r?(e.form.inst.sendCloseSubform(this.mForm.number,e.form.getSubform(e.subformIndex)),t&&(e.mSFSdoRestoreFocus=!0),e.mSFSmodal&&(removeDialogMask.call(e),this.mInst.removeFromModalSubformOrder(e))):e.mSFSneedFinishRemove=!1}},x.prototype.finishRemove=function(e){var t=this.zOrderFind(e);if(-1!=t&&this.mSubformOrder.splice(t,1),delete this.mSubforms[e.mSFSuniqueId],e.parentCtrl?e.parentCtrl.removeChild(e,!this.mRemovingSet):e.form.removeChild(e),e.elem.parentNode&&e.elem.parentNode.removeChild(e.elem),e.mSFS=null,null==this.mForm.freeObjNumbers&&(this.mForm.freeObjNumbers=[]),this.mForm.freeObjNumbers.push(e.objNumber),e.delete_class_inst(),this.mRemovingSet||(this.applyZOrder(),this.mSubformOrder.length>0&&e.mSFSdoRestoreFocus&&!e.mSFSmodal&&this.mSubformOrder[this.mSubformOrder.length-1].sfsSetFocusNow()),e.mSFSmodal){var i=this.mForm.$cwind();i.serverElem.style.overflowX=this.mSavedOX,i.serverElem.style.overflowY=this.mSavedOY}this.mRemovingSet&&0==this.mSubformOrder.length?(delete this.mInst.mSFS[this.mSetName],this.mForm.mTabOrder&&this.mForm.setTabOrder(),this.buildOrderVar()):e.mSFSmodal&&this.mForm.mTabOrder&&this.mForm.setTabOrder()};var R=1,M=2,k=4,W=8,B=16,z=32;function H(){}function U(e){var t,i,n,r=e.target;if(null==r)return!0;for(var s,o,a,l,m=r;null!=m;){if(m.className&&m.className.length>0)for(var u=m.className.split(" "),c=0;c<u.length;++c){var d=u[c];if("omnis-wf"===d){i=m;break}if("omnis-wf-title"===d||"omnis-wf-title-auto-layout"===d){t=m;break}if("omnis-wf-resize"===d){n=m;break}if("omnis-wf-padding"===d){var f=m.omnisObject;if(f&&f.mSFSminimized){i=m;break}}}if(null!=i)break;m=m.parentNode}if(null!=i&&i.parentNode&&"dialogfile_uploadform"==i.parentNode.id&&(i=i.parentNode),null==i||!i.omnisObject||"BUTTON"==r.tagName&&null!=t||(o=!0),null!=t&&"DIV"==r.tagName)if(i&&i.omnisObject){var p=!!i.omnisObject.form.isResponsive||jOmnis.portraitSize(jOmnis.curScreenSize)==jOmnis.curScreenSize?0:1,g=i.omnisObject.mSFS?i.omnisObject.mSFS.mFlags:0;g&h.preventdrag||i.omnisObject.mSFSmaximized&&i.omnisObject.mSFSmaximized[p]||(s=!0),l=g&h.autolayout}else s=!0,l=!1;return null!=n&&(a=!0),!(null!=i&&!X.mouseDown(i,r,e,s,o,a,l))||(jOmnis.eventIsTouchEvent(e)&&jOmnis.stopEventNow(e),!1)}function V(e){return!!X.mouseMove(e)||(jOmnis.stopEventNow(e),!1)}function K(e){return!!X.mouseUp(e)||(jOmnis.stopEventNow(e),!1)}function q(e){return jOmnis.stopEventNow(e),!1}function G(e){var t=e.offsetX;null==t&&(t=e.layerX);var i=e.offsetY;null==i&&(i=e.layerY);var n=e.target;if(n&&n.omnisObject){var r=n.omnisObject;t<16&&i<16?(n.style.cursor="nw-resize",r.mResizeFlags=R+M+k+W+B+z):t<16&&i>=n.clientHeight-16?(n.style.cursor="sw-resize",r.mResizeFlags=R+M+k+z):t>=n.clientWidth-16&&i<16?(n.style.cursor="ne-resize",r.mResizeFlags=k+W+B+z):t>=n.clientWidth-16&&i>=n.clientHeight-16?(n.style.cursor="se-resize",r.mResizeFlags=k+z):t<16?(n.style.cursor="w-resize",r.mResizeFlags=R+M+k):t>=n.clientWidth-16?(n.style.cursor="e-resize",r.mResizeFlags=k):i<16?(n.style.cursor="n-resize",r.mResizeFlags=W+B+z):(n.style.cursor="s-resize",r.mResizeFlags=z)}return!0}function Y(e){var t=e.target;return t&&(t.style.cursor="default"),!0}H.prototype.mouseDown=function(e,t,i,n,r,s,o){this.mDraggedFrame&&this.mouseUp(i);var a=jOmnis.eventIsTouchEvent(i);if(r){var l=e.omnisObject;l.mSFS.bringToFront(l.mSFSuniqueId,t,this,s,!0,a)}this.mCanDrag=n,this.mCanResize=s,this.mAutoLayout=o,this.mDraggedFrame=e,a?(this.mInitialMouseX=i.changedTouches[0].pageX,this.mInitialMouseY=i.changedTouches[0].pageY):(this.mInitialMouseX=i.clientX,this.mInitialMouseY=i.clientY),this.isModal=e.omnisObject&&e.omnisObject.mSFSmodal,this.mDragParent=null,this.mDraggedFrame.omnisObject&&(l=this.mDraggedFrame.omnisObject)&&(this.mDragParent=this.isModal?document.body:l.parentCtrl?this.mDraggedFrame.parentNode:l.form.serverElem),this.mStartX=jOmnis.getOmnisLeft(this.mDraggedFrame),this.mStartY=jOmnis.getOmnisTop(this.mDraggedFrame),this.mFrameWidth=jOmnis.getOmnisWidthFromStyle(this.mDraggedFrame,!1),this.mFrameHeight=jOmnis.getOmnisHeightFromStyle(this.mDraggedFrame,!1);var m=this.isModal||void 0===e.omnisObject;if(e.omnisObject&&e.omnisObject.form){if(m){for(var u=e.omnisObject.form;u&&u.parentForm;)u=u.parentForm;c=u.serverElem}else var c=e.omnisObject.parentCtrl?e.parentNode:e.omnisObject.form.serverElem;var h=c.clientWidth,d=c.clientHeight}var f=jOmnis.getWindowClientSize(),p=jOmnis.getWindowClientScroll(),g=f.width+p.XOffset,_=f.height+p.YOffset;return c?(this.mParentWidth=m?Math.min(g,h):h,this.mParentHeight=m?Math.min(_,d):d):(this.mParentWidth=g,this.mParentHeight=_),document.addEventListener(a?"touchend":"mouseup",K),(this.mCanDrag||this.mCanResize)&&(this.mCanDrag&&(this.grabbing=t,jOmnis.inIE11OrLater()||(this.grabbing.style.cursor="grabbing")),document.addEventListener(a?"touchmove":"mousemove",V),document.onselectstart=function(){return!1},this.mDragStarted=!1,this.mOldTextSelection=jOmnis.disableTextSelection(document.body),this.mCanResize&&(this.mResizeBorder=t,t.onmousemove=null,t.onmouseout=null,l=this.mResizeBorder.omnisObject,this.mStartWidth=jOmnis.getOmnisWidthFromStyle(l.elem),this.mStartHeight=jOmnis.getOmnisHeightFromStyle(l.elem),jOmnis.appendResizeDiv(this,t),this.setMinimumSizes(l),l.cachedPositionInfo.updateLayoutInfo(l.form.curScreenSize,"edgeFloat",WND_FLOAT_RIGHT+WND_FLOAT_BOTTOM))),!this.mCanDrag&&!this.mCanResize},H.prototype.setMinimumSizes=function(e){if(null==e.mSFSminWidthPort){e.mSFSminWidthLand=e.mSFSminWidthPort=50,e.mSFSminHeightLand=e.mSFSminHeightPort=50;var t=e.form.getSubform(e.subformIndex);if(t){var i,n,r=t.isResponsive?t.curScreenSize:jOmnis.portraitSize(t.curScreenSize),s=t.isResponsive?t.curScreenSize:jOmnis.landscapeSize(t.curScreenSize);if(t.baseScreenSizes||t.setBaseScreenSizes(),t.isResponsive){var o=t.mPositionInfo.getLayoutNames(),a=t.mPositionInfo.getLayoutInfo(o[0]);i=a.minWidth||a.width,n=a.minHeight||a.height}for(var l=0;l<=(r!=s?1:0);++l){var m=l?s:r,u=e.cachedPositionInfo.getLayoutInfo(e.form.curScreenSize);i=i||t.baseScreenSizes[m][0];var c=u.width;n=n||t.baseScreenSizes[m][1];var h=u.height;l?(e.mSFSminWidthLand=Math.min(i,c),e.mSFSminHeightLand=Math.min(n,h)):(e.mSFSminWidthPort=Math.min(i,c),e.mSFSminHeightPort=Math.min(n,h))}}}},H.prototype.mouseMove=function(e){var t,i;this.mMoveTimeout&&clearTimeout(this.mMoveTimeout),jOmnis.eventIsTouchEvent(e)?(t=e.changedTouches[0].pageX-this.mInitialMouseX,i=e.changedTouches[0].pageY-this.mInitialMouseY):(t=e.clientX-this.mInitialMouseX,i=e.clientY-this.mInitialMouseY),this.lastx=t,this.lasty=i,this.doMouseMove()},H.prototype.doMouseMove=function(){this.mMoveTimeout=null;var e=this.mAutoLayout?0:this.lastx,t=this.lasty;if(this.mDragParent&&null==this.mScrollEndDiv&&!this.isModal&&(this.mScrollEndDiv=document.createElement("DIV"),this.mScrollEndDiv.style.position="absolute",this.mScrollEndDiv.style.left=this.mDragParent.scrollWidth-1+"px",this.mScrollEndDiv.style.top=this.mDragParent.scrollHeight-1+"px",this.mScrollEndDiv.style.width="1px",this.mScrollEndDiv.style.height="1px",this.mDragParent.appendChild(this.mScrollEndDiv)),this.mCanResize){var i=this.mResizeBorder.omnisObject,n=this;return this.mResizeTimeout||(this.mResizeTimeout=setTimeout((function(){n.doResize(i,!1)}),50)),!1}if(!this.mDragStarted){if(!(Math.abs(e)>=4||Math.abs(t)>=4))return!0;this.mDragStarted=!0,this.mDraggedFrame.style.position="absolute",this.mDraggedFrame.className+=" omnis-sfs-drag",this.mDraggedFrame.style.left=this.mStartX+"px",this.mDraggedFrame.style.top=this.mStartY+"px"}i=this.mDraggedFrame.omnisObject;var r,s,o=!1,a=!1,l=this.mDragParent?this.mDragParent:document.body,m=this.mStartX+e,u=this.mStartY+t,c=this.mDraggedFrame.clientWidth,f=this.mDraggedFrame.clientHeight,p=i&&i.mSFS.mFlags&h.resize?d.resizeBorderWidth:0,g=p+l.scrollLeft;if(m<g)if(l.scrollLeft){var _=g-m;_>l.scrollLeft&&(_=l.scrollLeft),l.scrollLeft-=_,this.mInitialMouseX+=_,m=g-_,r=-32,o=!0}else m=g;else m>this.mParentWidth-c+l.scrollLeft-p&&(m=this.mParentWidth-c+l.scrollLeft-p);var y=p+l.scrollTop;if(u<y?l.scrollTop?((_=y-u)>l.scrollTop&&(_=l.scrollTop),l.scrollTop-=_,this.mInitialMouseY+=_,u=y-_,s=-32,a=!0):u=y:u>this.mParentHeight-f+l.scrollTop-p&&(u=this.mParentHeight-f+l.scrollTop-p),(o||a)&&(n=this,this.mMoveTimeout=setTimeout((function(){a&&(n.lasty+=s),o&&(n.lastx+=r),n.doMouseMove()}),50)),this.mDraggedFrame.style.left=m+"px",this.mDraggedFrame.style.top=u+"px",i){var b=i.form;i.cachedPositionInfo.updateLayoutInfo(b.curScreenSize,"left",m),i.cachedPositionInfo.updateLayoutInfo(b.curScreenSize,"top",u)}return!this.mDragStarted},H.prototype.mouseUp=function(e){this.grabbing&&(this.grabbing.style.cursor=""),this.mMoveTimeout&&(clearTimeout(this.mMoveTimeout),this.mMoveTimeout=null),this.mCanResize&&this.doResize(this.mResizeBorder.omnisObject,!0),this.mAutoLayout&&this.mDragStarted&&this.doAutoLayout();var t=jOmnis.eventIsTouchEvent(e);document.removeEventListener(t?"touchend":"mouseup",K),(this.mCanDrag||this.mCanResize)&&(document.removeEventListener(t?"touchmove":"mousemove",V),document.onselectstart=null,this.mDraggedFrame.className=this.mDraggedFrame.className.replace(" omnis-sfs-drag",""),jOmnis.disableTextSelection(document.body,!0,this.mOldTextSelection),this.mDraggedFrame.omnisObject&&this.mDraggedFrame.omnisObject.mSFS&&this.mDraggedFrame.omnisObject.mSFS.buildOrderVar()),this.mScrollEndDiv&&(this.mScrollEndDiv.parentNode.removeChild(this.mScrollEndDiv),this.mScrollEndDiv=null),this.mAutoLayout&&!this.mDragStarted&&this.mDraggedFrame.omnisObject.mSFS&&this.mDraggedFrame.omnisObject.mSFS.mFlags&h.ministitle&&this.mDraggedFrame.omnisObject.mSFS.minimize(this.mDraggedFrame.omnisObject.mSFSuniqueId,!0),this.mDraggedFrame=null;var i,n,r=this.mDragStarted;(this.mDragStarted=!1,this.mCanResize&&(this.mResizeBorder.onmousemove=G,this.mResizeBorder.onmouseout=Y,jOmnis.removeResizeDiv(this),this.mResizeBorder.omnisObject.cachedPositionInfo.updateLayoutInfo(this.mResizeBorder.omnisObject.form.curScreenSize,"edgeFloat",0)),this.mFocusOnUp&&this.mFocusOnUp.canFocus())&&(this.mDragParent&&(i=this.mDragParent.scrollLeft,n=this.mDragParent.scrollTop),this.mFocusOnUpDisableBefore?jOmnis.restoreFocus(this.mFocusOnUp.getClientElem()):this.mFocusOnUp.focus(),this.mFocusOnUp=null,this.mFocusOnUpDisableBefore=!1,this.mDragParent&&(this.mDragParent.scrollLeft=i,this.mDragParent.scrollTop=n));return this.mDragParent=null,!r},H.prototype.doResize=function(e,t){if(t){if(null==this.mResizeTimeout)return;clearTimeout(this.mResizeTimeout)}var i=this.lastx,r=this.lasty,s=this.mDragParent?this.mDragParent:document.body,o=this.mStartX+(e.mResizeFlags&M?i:0);e.mResizeFlags&R&&(i=-i);var a=this.mStartWidth+i,l=this.mStartY+(e.mResizeFlags&B?r:0);e.mResizeFlags&W&&(r=-r);var m=this.mStartHeight+r,u=!!e.form.isResponsive||jOmnis.portraitSize(e.form.curScreenSize)==e.form.curScreenSize;if(e.mResizeFlags&M&&(o<d.resizeBorderWidth+s.scrollLeft&&(a-=-o+d.resizeBorderWidth+s.scrollLeft,o=d.resizeBorderWidth+s.scrollLeft),e.setProperty(n.W9.left,o)),e.mResizeFlags&k){a>this.mParentWidth+s.scrollLeft-(o+d.resizeBorderWidth)&&!(e.mResizeFlags&M)&&(a=this.mParentWidth-o-d.resizeBorderWidth+s.scrollLeft);var c=u?e.mSFSminWidthPort:e.mSFSminWidthLand;a<c&&(e.mResizeFlags&M&&e.setProperty(n.W9.left,o-(c-a)),a=c),e.setProperty(n.W9.width,a)}if(e.mResizeFlags&B&&(l<d.resizeBorderWidth+d.titleHeight+s.scrollTop&&(m-=-l+d.resizeBorderWidth+s.scrollTop,l=d.resizeBorderWidth+s.scrollTop),e.setProperty(n.W9.top,l)),e.mResizeFlags&z){m>this.mParentHeight+s.scrollTop-(l+d.resizeBorderWidth+d.titleHeight)&&!(e.mResizeFlags&B)&&(m=this.mParentHeight-l-d.resizeBorderWidth-d.titleHeight+s.scrollTop);var h=u?e.mSFSminHeightPort:e.mSFSminHeightLand;m<h&&(e.mResizeFlags&B&&e.setProperty(n.W9.top,l-(h-m)),m=h),e.setProperty(n.W9.height,m)}e.form.inst.doLayoutComponents(),this.mResizeTimeout=null},H.prototype.doAutoLayout=function(){var e=this.mDraggedFrame.omnisObject.mSFS;if(e){for(var t,i,n,r,s=jOmnis.getElemPosRelativeToAncestor(this.mDraggedFrame.parentNode),o=this.lasty+this.mInitialMouseY-s.y,a=2147483647,l=0,m=0;m<e.mSubformOrder.length;++m){var u=e.mSubformOrder[m];if(u.elem!=this.mDraggedFrame){var c=u.elem.offsetTop;c<a&&(a=c,t=u);var h=c+u.elem.offsetHeight-1;if(h>l&&(l=h,i=u),o>=c&&o<=h){n=u;break}}}if(n||(o<a&&t!=u?n=t:o>l&&i!=u&&(n=i,r=!0)),n){var d=this.mDraggedFrame.parentNode;d.removeChild(this.mDraggedFrame),r?d.appendChild(this.mDraggedFrame):d.insertBefore(this.mDraggedFrame,n.elem)}this.mDraggedFrame.omnisObject.autoLayout()}};var X=new H},4555:function(e,t,i){i(2526),i(1817),i(2165),i(6992),i(1539),i(8783),i(3948);function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var r=function(){this.preLoadedImage=new Image,this.preLoadedImage.src=r.NO_CLICK_EFFECT_URL;var e={},t=function(t,i){try{return t&&i&&t!=r.BODY_IDENTIFIER?e[i.serverElem.id][t]:e[r.BODY_IDENTIFIER]}catch(e){return null}};this.hasMenuOverlay=function(e){return null!==t("menu_overlay",e)},this.addOverlay=function(s,o,a,l,m){var u;s&&o?"object"==n(s)?(u=jOmnis.touchDevice?s:document.body,s=a,a=null):u=o.findChildByName(s).elem:(u=document.body,s=r.BODY_IDENTIFIER);var c=t(s,o);if(c&&s==r.BODY_IDENTIFIER&&c.className==r.STANDARD_OVERLAY_CLASS&&l!=r.STANDARD_OVERLAY_CLASS&&(this.removeOverlay(s,o),c=null,jOmnis.overlayTimer&&(clearTimeout(jOmnis.overlayTimer),jOmnis.overlayTimer=null)),!c){var h=document.createElement("div");if(h.className=l||r.DEFAULT_OVERLAY_CLASS,h.style.width=h.style.height="100%",h.style.top=h.style.left=0,h.style.position=u===document.body?"fixed":"absolute",h.style.zIndex=h.className===r.STANDARD_OVERLAY_CLASS?r.ZINDEX_OVERLAY:jOmnis.getPopupZIndex(o),s===r.BODY_IDENTIFIER){var d=document.querySelectorAll("*:active");h.activeElem=d.length?d[d.length-1]:null,h.addEventListener("mouseup",(function(e){if(h.activeElem&&!h.mouseupPos){h.mouseupPos={x:e.pageX,y:e.pageY};var t=jOmnis.getElemPosRelativeToAncestor(h.activeElem);h.mouseupPos.x>=t.x&&h.mouseupPos.x<=t.x+t.w&&h.mouseupPos.y>=t.y&&h.mouseupPos.y<=t.y+t.h&&(h.activeElemNeedsClick=!0)}else r.addClickPreventedEffect(e.pageX,e.pageY)}))}s===r.BODY_IDENTIFIER&&(o&&i.call(this,o),h.onblur=new Function("event","self.focus()"),h.onmousedown=new Function("event","jOmnis.stopEventNow(event);"),h.id=jOverlayId,jOmnis.overlay=h,jOmnis.overlayForm=o,m&&jOmnis.lockOverlay(!0));var f=document.createElement("div");f.className="container";var p=document.createElement("div");if(p.className="indicator",f.appendChild(p),a){var g=document.createElement("p");g.className="message",g.textContent=a,f.appendChild(g)}return h.appendChild(f),u.appendChild(h),function(t,i,n){i&&n&&i!=r.BODY_IDENTIFIER?(e[n.serverElem.id]||(e[n.serverElem.id]={}),e[n.serverElem.id][i]=t):e[r.BODY_IDENTIFIER]=t}(h,s,o),h}},this.removeOverlay=function(t,i,n){var s=e;if(t||(t=r.BODY_IDENTIFIER),t==r.BODY_IDENTIFIER){if(n&&jOmnis.lockOverlay(!1),jOmnis.overlayLock)return;jOmnis.overlay&&jOmnis.overlay.activeElemNeedsClick&&jOmnis.sendDOMEvent(jOmnis.overlay.activeElem,"click",!0),this.resetAlwaysEnabled(),jOmnis.overlay=null}else i&&(s=e[i.serverElem.id]);var o=s?s[t]:null;o&&(o.parentNode.removeChild(o),delete s[t])},this.resetAlwaysEnabled=function(){if(jOmnis.overlayForm){var e=jOmnis.overlayForm;jOmnis.overlayForm=null,e.alwaysEnabledObject&&(e.alwaysEnabledObject.elem.style.zIndex=e.alwaysEnabledZindex,e.alwaysEnabledObject.activeProperty=this.alwaysEnabledState,e.alwaysEnabledObject.applyActiveAndEnabledStates(!0))}};var i=function(e){e.alwaysEnabledObject&&(e.alwaysEnabledObject.elem.style.zIndex=r.ZINDEX_MAX,this.alwaysEnabledState=e.alwaysEnabledObject.activeProperty)};this.updateAlwaysEnabledObject=function(e,t){if(jOmnis.overlayForm){var n=!0;this.resetAlwaysEnabled()}this.alwaysEnabledObject=e.alwaysEnabledObject=t,t&&(e.alwaysEnabledZindex=t.elem.style.zIndex),n&&t&&(jOmnis.overlayForm=e,i.call(this,e))}};r.BODY_IDENTIFIER="__BODY",r.STANDARD_OVERLAY_CLASS="standardOmnisLoadingOverlay",r.MENU_OVERLAY_CLASS="menuOverlay",r.DEFAULT_OVERLAY_CLASS="omnisLoadingOverlay",r.NO_CLICK_EFFECT_URL="images/no_entry.svg",r.ZINDEX_MAX="2147483647",r.ZINDEX_OVERLAY="100000",r.addClickPreventedEffect=function(e,t){var i=document.createElement("img");i.src=r.NO_CLICK_EFFECT_URL;i.style.position="absolute",i.style.width="50px",i.style.height="50px",i.style.left=e-25+"px",i.style.top=t-25+"px",i.className="restrictedClickElement",i.style.zIndex=r.ZINDEX_MAX,"onanimationend"in window?i.addEventListener("animationend",(function(){i.parentElement.removeChild(i)})):setTimeout((function(){i.parentElement.removeChild(i)}),1e3),document.body.appendChild(i)},t.Z=r},9675:function(e,t,i){i.d(t,{zU:function(){return N},Kq:function(){return n},Ti:function(){return a},o8:function(){return _},Qt:function(){return C},Dc:function(){return w},OC:function(){return T},j2:function(){return I}});i(4765);var n=!1,r="webkit",s="iphone",o="ipod",a="macintosh",l="android",m="googletv",u="htc_flyer",c="symbian",h="series60",d="tablet",f="opera",p="mobile",g="mobi",_="";function y(){return!!(_.search("ipad")>-1&&S()||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)}function b(){return _.search(s)>-1||_.search(o)>-1}function v(){return _.search(l)>-1||_.search(m)>-1||_.search(u)>-1}function O(){return!!(v()&&_.search(p)>-1)||(_.search(f)>-1&&_.search(l)>-1&&_.search(g)>-1||_.search(u)>-1)}function S(){return _.search(r)>-1}function E(){return!!S()&&(_.search(h)>-1||_.search(c)>-1)}function C(){return _.search("windows phone os 7")>-1||_.search("windows phone 8.0")>-1}function D(){return!C()&&(_.search("windows ce")>-1||_.search("iemobile")>-1||_.search("wm5 pie")>-1||(_.search("ppc")>-1&&!(_.search(a)>-1)||_.search("htc")>-1&&_.search("windows")>-1))}function w(){return _.search("blackberry")>-1||_.search("vnd.rim")>-1}function T(){return _.search("bb10")>-1}function I(){return _.search("playbook")>-1}function j(){return _.search("webos")>-1}function F(){return _.search("hpwos")>-1&&_.search(d)>-1}function A(){return _.search("nuvifone")>-1}function L(){return!!(b()||O()||E()||_.search(c)>-1||_.search(h)>-1||_.search("series70")>-1||_.search("series80")>-1||_.search("series90")>-1||D()||C()||w()||T()||j()||(_.search("palm")>-1||_.search("blazer")>-1||_.search("xiino")>-1)&&!j()||A())}function x(){return _.search(f)>-1&&(_.search("mini")>-1||_.search(g)>-1)}function P(){return!(!y()&&(!v()||x()||_.search(u)>-1||_.search(p)>-1)&&!I()&&!F())}function N(){n=L()||P()}navigator&&navigator.userAgent&&(_=navigator.userAgent.toLowerCase())},1614:function(e,t,i){i.d(t,{cD:function(){return o},A3:function(){return l},vh:function(){return m},Tq:function(){return s}});i(2222),i(2772),i(4986),i(1249),i(7042),i(1539),i(4603),i(9714),i(5306),i(3123),i(3210);var n="-^NFBDTP:LUE(,+X)C$<A",r=String.fromCharCode(163),s={priv:-1,none:0,$cfield:89,$cinst:77,$cwind:66};function o(){}o.prototype.not=function(e){return!e},o.prototype.abs=function(e){return null!=e?(e*=1)<0?-e:e:null},o.prototype.len=function(e){return"string"!=typeof e&&(e+=""),e.length},o.prototype.pos=function(e,t){if(null==e||null==t)return null;if("string"!=typeof t&&(t=jOmnis.cToChar(t)),"string"!=typeof e&&(e=jOmnis.cToChar(e)),!e.length)return 0;var i=t.indexOf(e);return-1==i?0:i+1},o.prototype.con=function(){for(var e="",t=0;t<arguments.length;++t)e+=jOmnis.cToChar(arguments[t]);return e},o.prototype.split=function(e,t,i){var n,r,s=new omnis_raw_list(!1,jOmnis.currentForm);if(s.lstDef.push(omnis_raw_list.createRdefEntry("value","",1)),null!=e)for("string"!=typeof e&&(e=jOmnis.cToChar(e)),null==t?t=",":"string"!=typeof t&&(t=jOmnis.cToChar(t)),t.length||(t=","),t.length>1&&(t=new RegExp("["+t+"]")),n=null!=i&&+i?e.split(t).map((function(e){return e.trim()})):e.split(t),r=0;r<n.length;++r)s.$add(n[r]);return s},o.prototype.jint=function(e){return jOmnis.isInteger(e)?1*e:(e*=1)>=0?Math.floor(e):-Math.floor(-e)},o.prototype.left=function(e,t){return null==e?null:("string"!=typeof e&&(e=jOmnis.cToChar(e)),e.substr(0,t))},o.prototype.right=function(e,t){if(null==e)return null;"string"!=typeof e&&(e=jOmnis.cToChar(e));var i=e.length-t;return i<0&&(i=0,t=e.length),e.substr(i,t)},o.prototype.mid=function(e,t,i){return null==e?null:("string"!=typeof e&&(e=jOmnis.cToChar(e)),(t-=1)>=0&&t<e.length?(null==i&&(i=e.length),t+i>e.length&&(i=e.length-t),e.substr(t,i)):"")},o.prototype.upp=function(e){return null==e?null:("string"!=typeof e&&(e=jOmnis.cToChar(e)),e.toUpperCase())},o.prototype.low=function(e){return null==e?null:("string"!=typeof e&&(e=jOmnis.cToChar(e)),e.toLowerCase())},o.prototype.cap=function(e){return null==e?null:("string"!=typeof e&&(e=jOmnis.cToChar(e)),e.toLowerCase().replace(/\b./g,(function(e){return e.toUpperCase()})))},o.prototype.rnd=function(e,t){if(null!=e){var i=""+jOmnis.round(1*e+"",t);if(t>0){var n=this.getBrowserDpChar(),r=i.indexOf("."),s=0;-1==r?(i+=n,s=t):("."!=n&&(i=i.replace(".",n)),s=t-(i.length-r-1));for(var o=0;o<s;++o)i+="0"}return i}return e},o.prototype.dat=function(e,t){null==t&&(t=jOmnis.mHashFD);var i=Date.parseDate(e,t);return i&&i instanceof Date?new omnis_date(i):null},o.prototype.dtd=function(e,t){return!e||e instanceof omnis_date||(e=this.dat(e)),e&&e instanceof omnis_date?t?e.dtD:e.dtD+Date.getOrdinalSuffix(e.dtD):null},o.prototype.dtm=function(e,t){return!e||e instanceof omnis_date||(e=this.dat(e)),e&&e instanceof omnis_date?t?e.dtM:Date.fullMonthNames[e.dtM-1]:null},o.prototype.dty=function(e,t){if(!e||e instanceof omnis_date||(e=this.dat(e)),e&&e instanceof omnis_date){var i=e.dtY%100;return t?i:i<10?"0"+i:""+i}return null},o.prototype.dim=function(e,t){if(null==e)return null;if((e=e instanceof omnis_date?new omnis_date(e):this.dat(e))instanceof omnis_date){var i=e.dtY;if((t+=i=12*i+(e.dtM-1))>0){var n=(i=t>=12e4?12e4:t)/12;n>9999?(e.dtY=9999,e.dtD=31,e.dtM=12):(e.dtY=n,e.dtM=i%12+1)}else e.dtY=0,e.dtM=1,e.dtD=1;var r=this.maxday(e.dtY,e.dtM);return e.dtD>r&&(e.dtD=r),e}return null};var a=[7,1,2,3,4,5,6];function l(e){this.mParent=e,this.mObjArray=[];var t=e.form;if(t==e){this.mObjArray=[];var i=this;!function e(t){i.mObjArray=i.mObjArray.concat(t);for(var n=0;n<t.length;++n){var r=t[n];r.mChildren&&e(r.mChildren)}}(t.mChildren)}else{i=e.mChildren;for(var n=0;n<i.length;++n){var r=i[n];(!r.rowNumber||r.rowNumber<=r.rowCtrl.mRenderStart)&&this.mObjArray.push(r)}}this.mObjs={}}
/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * ADAPTED FROM:
 * @link   http://www.phpied.com/rgb-color-parser-in-javascript/
 * @license Use it if you like it
 */
function m(e){this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e=(e=e.replace(/ /g,"")).toLowerCase();for(var t,i,n,r=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3},\s*((\d+(\.\d+)?)|(\.\d+)))\)$/,process:function(e){var t=255*parseFloat(e[4]);return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),Math.round(t)]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),255]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),255]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),255]}}],s=0;s<r.length;s++){var o=r[s].re,a=r[s].process,l=o.exec(e);if(l){var m=a(l);t=m[0],i=m[1],n=m[2],this.a=m[3],this.ok=!0;break}}this.r=t<0||isNaN(t)?0:t>255?255:t,this.g=i<0||isNaN(i)?0:i>255?255:i,this.b=n<0||isNaN(n)?0:n>255?255:n,this.a=this.a<0||isNaN(this.a)||this.a>255?255:this.a,this.rgb=(n<<16)+(i<<8)+t}o.prototype.dtw=function(e,t){if(!e||e instanceof omnis_date||(e=this.dat(e)),e&&e instanceof omnis_date){var i=e.toJavaScriptDate(e).getDay();return t?a[i]:Date.fullDayNames[i]}return null},o.prototype.dtcy=function(e,t){return!e||e instanceof omnis_date||(e=this.dat(e)),e&&e instanceof omnis_date?""+e.dtY:null},o.prototype.dadd=function(e,t,i){return!i||i instanceof omnis_date||(i=this.dat(i)),i&&i instanceof omnis_date?i.add(e,this.jint(t)):null},o.prototype.pwr=function(e,t){return Math.pow(e,t)},o.prototype.sqr=function(e){return e<0&&(e=-e),Math.sqrt(e)},o.prototype.exp=function(e){return Math.exp(e)},o.prototype.ln=function(e){return e<=0?-1e100:Math.log(e)},o.prototype.log=function(e){return e<=0?-1e100:Math.log(e)/Math.LN10},o.prototype.sin=function(e){return Math.sin(this.toRadians(e))},o.prototype.cos=function(e){return Math.cos(this.toRadians(e))},o.prototype.tan=function(e){return Math.tan(this.toRadians(e))},o.prototype.asin=function(e){if(e<-1||e>1)return 0;var t=Math.asin(e);return this.fromRadians(t)},o.prototype.acos=function(e){if(e<-1||e>1)return 0;var t=Math.acos(e);return this.fromRadians(t)},o.prototype.atan=function(e){var t=Math.atan(e);return this.fromRadians(t)},o.prototype.atan2=function(e,t){var i=Math.atan2(e,t);return this.fromRadians(i)},o.prototype.mod=function(e,t){return e%t},o.prototype.jst=function(){for(var e="",t=0;t<arguments.length;t+=2)e+=this.doJst(arguments[t],arguments[t+1]);return e},o.prototype.pick=function(){if(0==arguments.length)return"";var e=1*arguments[0]+1;return e<1||e>=arguments.length?"":arguments[e]},o.prototype.min=function(e,t){return null==e||null==t?null:this.compare(e,t)<0?e:t},o.prototype.max=function(e,t){return null==e||null==t?null:this.compare(e,t)<0?t:e},o.prototype.isnull=function(e){return null==e},o.prototype.trim=function(e,t,i,n){if(null==e)return null;if("string"!=typeof e&&(e=jOmnis.cToChar(e)),null==n||0==n.length?n=" ":n.length>1&&(n=n.substr(0,1)),null==t||t){var r=new RegExp("^(["+n+"]*)");e=e.replace(r,"")}return(null==i||i)&&(r=new RegExp("(["+n+"]*)$"),e=e.replace(r,"")),e},o.prototype.replace=function(e,t,i){return null==e||null==t||null==i?null:("string"!=typeof e&&(e=jOmnis.cToChar(e)),"string"!=typeof t&&(t=jOmnis.cToChar(t)),"string"!=typeof i&&(i=jOmnis.cToChar(i)),e.replace(t,i))},o.prototype.replaceall=function(e,t,i){if(null==e||null==t||null==i)return null;for("string"!=typeof e&&(e=jOmnis.cToChar(e)),"string"!=typeof t&&(t=jOmnis.cToChar(t)),"string"!=typeof i&&(i=jOmnis.cToChar(i));;){if(-1==e.indexOf(t))break;var n=e.replace(t,i);if(n==e)break;e=n}return e},o.prototype.row=function(){var e=new omnis_raw_list(!0,jOmnis.currentForm),t=arguments.length;t>gCliMaxListCols&&(t=gCliMaxListCols);for(var i=0;i<t;++i){var n=arguments[i],r="C"+(i+1);e.lstDef[i]=omnis_raw_list.createRdefEntry(r,n,i+1),e.lstData[i]=n}return e},o.prototype.list=function(){if(0==arguments.length)return null;var e=new omnis_raw_list(!1,jOmnis.currentForm),t=arguments[0];null!=t&&t instanceof omnis_raw_list&&(e.lstDef=[].concat(t.lstDef));for(var i=0;i<arguments.length;++i){var n=arguments[i];null!=n&&n instanceof omnis_raw_list&&n.lstRow?(jOmnis.noConvException=!0,e.$add.apply(e,n.lstData),jOmnis.convException=!1):e.$add()}return e},o.prototype.msgcancelled=function(){return!!jOmnis.msgCancelled},o.prototype.locale=function(){return jOmnis.getClientLocale()},o.prototype.isunicode=function(){return!0},o.prototype.unicode=function(e,t,i){if(null==e)return null;if("string"!=typeof e&&(e=jOmnis.cToChar(e)),(t-=1)<0||t>=e.length)return 0;var n=e.charCodeAt(t);return i&&(n="U+"+n.toString(16)),n},o.prototype.unichr=function(){for(var e="",t=0;t<arguments.length;++t){var i=arguments[t];if("string"==typeof i){i.toLowerCase();if("u+"==i.substr(0,2)){var n=parseInt(i.substr(2),16);e+=String.fromCharCode(n);continue}}e+=String.fromCharCode(1*i)}return e},o.prototype.rpos=function(e,t){if(null==e||null==t)return null;"string"!=typeof t&&(t=jOmnis.cToChar(t)),"string"!=typeof e&&(e=jOmnis.cToChar(e));var i=t.lastIndexOf(e);return-1==i?0:i+1},o.prototype.isclear=function(e){return null==e||("number"==typeof e?0==e:""==e)},o.prototype.stgettext=function(e){if(!e||!e.length)return"";var t=jOmnis.currentForm.inst;if(t.taskStringTable){var i=t.taskStringTable.tableColIndex;return null!=i?t.taskStringTable.table[e][i]:t.taskStringTable.table[e]}var n,r=e.indexOf(".");if(-1!=r){var s=e.substr(0,r);if(0==(e=e.substr(r+1)).length)return"";for(var o=0;o<t.forms.length;++o)if(t.forms[o].omnisclass==s){n=t.forms[o];break}if(!n)return""}else n=jOmnis.currentForm;return n.stringTable?n.stringTable.table[e]:""},o.prototype.style=function(e,t){if(51===e){if(null==t||0==t.length)return"";var i=jOmnis.escapeHTMLEx(t);return"3"+i.length.toString(16)+"#"+i}return e},o.prototype.br=function(){return"2"},o.prototype.callprivate=function(e,t,i,n,r){var s,o,a;r=(r+="").replace(/[^a-zA-Z0-9_$]/g,"_").toLowerCase(),0==i?(s=t+"_"+r+"_"+n,o=e):(o=e.form,e[s=t+"_"+i+"_"+r+"_"+n]||(e=e.form,s=t+"_"+r+"_"+n));try{a=e[s].apply(e,Array.prototype.slice.call(arguments,5))}catch(e){e.omnisClient=!0,jOmnis.handleError(e,o.inst,jGetOmnisString(o.inst,"omn_cli_callprivate",null,s,e)),a=null}return a},o.prototype.tracelog=function(e,t){return!e&&(jOmnis.log(t),!0)},o.prototype.rgb=function(e,t,i){function n(e){return jOmnis.isInteger(e)?(e*=1)<0?0:e>255?255:e:0}return(e=n(e))|(t=n(t))<<8|(i=n(i))<<16},o.prototype.styledtohtml=function(e){return jOmnis.escapeHTML(e,!0)},o.prototype.fmtshortdate=function(e){var t=jOmnis.mHashFD;return arguments.length>0&&(jOmnis.mHashFD=e),t},o.prototype.fmtshorttime=function(e){var t=jOmnis.mHashFT;return arguments.length>0&&(jOmnis.mHashFT=e),t},o.prototype.fmtdatetime=function(e){var t=jOmnis.mHashFDT;return arguments.length>0&&(jOmnis.mHashFDT=e),t},o.prototype.useradians=function(e){var t=jOmnis.mHashRAD;return arguments.length>0&&(jOmnis.mHashRAD=1*e!=0),t},o.prototype.errcode=function(){return jOmnis.errCode},o.prototype.errtext=function(){return jOmnis.errText},o.prototype.flag=function(){return jOmnis.flag},o.prototype.getdatetime=function(){return new omnis_date},o.prototype.getticks=function(){return jOmnis.getHashCT()},o.prototype.ctrl=function(){return jOmnis.ctrlKey},o.prototype.shift=function(){return jOmnis.shiftKey},o.prototype.alt=function(){return jOmnis.altOrOptionKey},o.prototype.cmd=function(){return jOmnis.cmdKey},o.prototype.getBrowserDpChar=function(){if(this.browserDpChar)return this.browserDpChar;return this.browserDpChar=1.1.toLocaleString().substr(1,1),this.browserDpChar},o.prototype.maxday=function(e,t){return 2!=t||e%4!=0||e%100==0&&e%400!=0?[31,28,31,30,31,30,31,31,30,31,30,31][t-1]:29},o.prototype.toRadians=function(e){return jOmnis.mHashRAD?e:e*Math.PI/180},o.prototype.fromRadians=function(e){return jOmnis.mHashRAD?e:180*e/Math.PI},o.prototype.compare=function(e,t){if(null==e&&null==t)return 0;if(null==e)return-1;if(null==t)return 1;if("string"==typeof e&&"string"==typeof t){var i,n=e.length,r=t.length;return n>r&&(e=e.substr(0,r)),0==(i=e<t?-1:e>t?1:0)&&(n>r?i=1:n<r&&(i=-1)),i}if("number"==typeof e&&"number"==typeof t)return e<t?-1:e>t?1:0;if(e instanceof omnis_date&&t instanceof omnis_date){var s=e.toJavaScriptDate(),o=t.toJavaScriptDate();return i=s<o?-1:s>o?1:0}return-1},o.prototype.doJst=function(e,t){if("string"!=typeof t){var i=(t*=1)<0;if(i&&(t=-t),e&&e instanceof omnis_date){var s=e.toJavaScriptDate();e=s.dateFormat(e.getFormat(),null,null!=e.dtH)}else e=""+e;return t<=e.length?e:i?this.padding(t-e.length," ")+e:e+this.padding(t-e.length," ")}var o,a=[],l=!1;o=e instanceof omnis_date?eOmnisDataTypes.fftDate:"number"==typeof e?eOmnisDataTypes.fftNumber:"boolean"==typeof e?eOmnisDataTypes.fftBoolean:eOmnisDataTypes.fftCharacter;for(var m,u,c,h=0,d=0,f=t.length,p=0,g=0,_=!1,y=" ",b=-1,v=48,O=57,S=45;d<f;){var E=t.charCodeAt(d);switch(d++,h){case 0:if(E>=v&&E<=O){if(p<9999999&&(p=10*p+E-v),p>1e6)return"Error 844"}else{var C=t.substr(d-1,1).toUpperCase(),D=n.indexOf(C)+1;switch(D){case 0:break;case 1:g=1;break;case 2:g=2;break;case 21:g=0;break;case 3:o=eOmnisDataTypes.fftNumber,h=2,l=!1;break;case 4:o=eOmnisDataTypes.fftNumber,h=2,l=!0;break;case 5:o=eOmnisDataTypes.fftBoolean;break;case 6:o=eOmnisDataTypes.fftDate,this.reportUnsupported();break;case 7:o=eOmnisDataTypes.fftDate,_=!0,this.reportUnsupported();break;case 8:h=1;break;case 9:m=t.substr(d),d=f+1;break;default:a[D]=!0}}break;case 1:y=String.fromCharCode(E),h=0;break;case 2:E==S?u=!0:E>=v&&E<=O?(b<0&&(b=0),(b=10*b+E-v)>20&&(b=20)):(h=0,d-=1)}}var w=a[12];if(a[22]&&null==e)o=eOmnisDataTypes.fftCharacter,e="NULL";else switch(o){case eOmnisDataTypes.fftNumber:1*e==0&&(c=!0),l?b>=0&&u&&(b=-b):b>=0&&(e=this.rnd(e,b));break;case eOmnisDataTypes.fftDate:null==m&&(m=_?jOmnis.mHashFT:jOmnis.mHashFD),"string"==typeof e&&(e=this.dat(e,m)),m=null;break;case eOmnisDataTypes.fftCharacter:o!=eOmnisDataTypes.fftCharacter&&(e+="");break;case eOmnisDataTypes.fftBoolean:e=1*e!=0?jOmnis.yesString:jOmnis.noString}var T,I=!1;if(o==eOmnisDataTypes.fftNumber){if(a[14]){I||(T=e+"",w&&c&&(T=""),I=!0);var j=this.getBrowserDpChar();d=T.indexOf(j)+1;var F=T.indexOf("e")+1;F>0&&(0==d||d<F)&&(d=F),0==d&&(d=T.length+1),D="-"==T.substr(0,1)?5:4,j!=jOmnis.dpChar&&(T=T.replace(j,jOmnis.dpChar));for(var A=jOmnis.thouChar;d>D;)d-=3,T=T.substr(0,d-1)+A+T.substr(d-1)}if(a[17]?(I||(T=e+"",w&&c&&(T=""),I=!0),"-"==T.substr(0,1)?T=T.substr(1)+"-":T+=a[15]?"+":" "):(a[15]&&(I||(T=e+"",w&&c&&(T=""),I=!0),"-"!=T.substr(0,1)&&(T="+"+T)),a[13]&&(I||(T=e+"",w&&c&&(T=""),I=!0),"-"==T.substr(0,1)?T="("+T.substr(1)+")":T+=" ")),a[19]||a[20])for(I||(T=e+"",w&&c&&(T=""),I=!0),E=a[19]?r:"$",d=0;d<T.length;d++){var L=T.charCodeAt(d);if(L>=v&&L<=O){T=T.substr(0,d)+E+T.substr(d);break}}}I||(T=e+"",w&&c&&(T="")),a[11]?T=T.toUpperCase():a[10]?T=T.toLowerCase():a[18]&&(T=this.cap(T));var x=T.length;(d=m?m.indexOf("X")+1:0)>0&&(m=m.substr(0,d-1)+m.substr(d)),m||(m="");var P=m.length;if(0==d?m+=T:m=m.substr(0,d-1)+T+m.substr(d-1),p<(x+=P)&&(a[16]?(x=p,m=m.substr(0,x)):p=x),0==g)T=m+this.padding(p-x,y);else if(1==g)T=this.padding(p-x,y)+m;else{var N=(p-x)/2;T=this.padding(N,y)+m+this.padding(p-x-N,y)}return T},o.prototype.padding=function(e,t){for(var i="",n=0;n<e;++n)2*(i+=t).length<=e&&(n=(i+=i).length-1);return i},o.prototype.reportUnsupported=function(){this.reportedUnsupported||(this.reportedUnsupported=!0,alert("JavaScript client: jst() does not support D and T formatting options for client-executed code"))},l.prototype.getValue=function(e){if(arguments.length>=2){var t=this.getValue(e);if(!t)return null;var i=3==arguments.length,n=t.resolvePropertyName(i?arguments[2]:arguments[1]);return n?t.rowNumber?i?t.rowCtrl.getPropertyChildControls(t,n,arguments[1]):t.rowCtrl.getPropertyChildControls(t,n,0):t.getProperty(n):null}if(this.mObjs[e])return this.mObjs[e];for(var r=this.mObjArray,s=0;s<r.length;++s)if((t=r[s]).elem.getAttribute("name")==e)return this.mObjs[e]=t,t;return null},l.prototype.setValue=function(e,t,i){var n=this.getValue(e);if(!n)throw jGetOmnisException(this.mParent.form.inst,"omn_cli_badobj",e);if(n.rowNumber&&4==arguments.length){var r=n.resolvePropertyName(arguments[2]);return!!r&&n.setPropCli(r,arguments[3],arguments[1])}return!!(r=n.resolvePropertyName(t))&&n.setPropCli(r,i)},l.prototype.getProperty=function(e,t){var i=this.getValue(e);if(i)return i.rowNumber?3==arguments.length?i.rowCtrl.getPropertyChildControls(i,arguments[2],arguments[1]):i.rowCtrl.getPropertyChildControls(i,t,0):i.getProperty(t);throw jGetOmnisException(this.mParent.form.inst,"omn_cli_badobj",e)},l.prototype.getCanAssign=function(e,t){var i=this.getValue(e);if(i){if(i.rowNumber&&i.rowCtrl.mHasExceptions)throw jGetOmnisException(this.mParent.form.inst,"omn_cli_cgcanassign",e);return i.getCanAssign(t)}throw jGetOmnisException(this.mParent.form.inst,"omn_cli_badobj",e)},l.prototype.setPropCli=function(e,t,i){var n=this.getValue(e);if(n)return n.rowNumber&&4==arguments.length?n.setPropCli(arguments[2],arguments[3],arguments[1]):n.setPropCli(t,i);throw jGetOmnisException(this.mParent.form.inst,"omn_cli_badobj",e)},l.prototype.$count=function(){return this.mObjArray.length},l.prototype.$appendlist=function(e,t){if(!omnis_raw_list.isRawList(e,!1))return!1;for(var i=this.mObjArray,n=0;n<i.length;++n){var r=t(i[n]);e.lstData.push(e.convertTypes(r)),e.lstLSEL.push(0)}return e.markAsModified(),!0},l.prototype.$insertlist=function(e,t,i){if(!omnis_raw_list.isRawList(e,!1))return!1;e.checkWrapper();for(var n=this.mObjArray,r=0;r<n.length;++r){var s=i(n[r]),o=e.__list.addRow(t+r,e.__list.getColumnCount());e.lstData[o-1]=e.convertTypes(s)}return e.markAsModified(),!0},l.prototype.$makelist=function(e){for(var t=null,i=this.mObjArray,n=0;n<i.length;++n){var r=e(i[n]);0==n&&(t=omnis_raw_list.defineMakelistResult(r)),t.lstData.push(r),t.lstLSEL.push(0)}return t},l.prototype.$findident=function(e){for(var t=this.mObjArray,i=0;i<t.length;++i){var n=t[i];if(n.objIdent==e)return n}return null},l.prototype.$findname=function(e){return this.getValue(e)},l.prototype.$first=function(){return this.mObjArray.length>0?this.mObjArray[0]:null},l.prototype.$next=function(e){for(var t=this.mObjArray,i=0;i<t.length;++i)if(t[i]==e)return++i<t.length?t[i]:null;return null},l.prototype.$sendall=function(e,t){if(null==e)return!1;for(var i=this.mObjArray,n=0;n<i.length;++n){var r=i[n];(null==t||t(r))&&e(r)}return!0},n=n.substr(0,18)+r+n.substr(19)},6062:function(e,t,i){i.d(t,{ck:function(){return f},mo:function(){return p},LI:function(){return g},vC:function(){return b},Wr:function(){return v},LF:function(){return O},Lz:function(){return S},Wl:function(){return E},Yh:function(){return _},pQ:function(){return y},G3:function(){return C},VB:function(){return a}});i(2526),i(1817),i(2165),i(2222),i(7327),i(9554),i(1038),i(6992),i(1539),i(8783),i(5306),i(4747),i(3948);var n=i(5304),r=i(6464);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}var o=null;window.LAST_INSTANCE_FORM=null;var a=1e4,l=null;function m(e){"number"==typeof e.pageX?m.X=e.pageX:m.X=e.clientX,"number"==typeof e.pageY?m.Y=e.pageY:m.Y=e.clientY}function u(e,t){try{return null==t?null!=e:null!==e&&s(e)==t}catch(e){}return!1}function c(e){try{return u(e,"string")&&""!=e?document.getElementById(e):null}catch(e){}return null}function h(e){try{return u(e)?"none"==e.style.display?0:e.innerWidth?e.innerWidth:e.clientWidth?e.clientWidth:e.offsetWidth:0}catch(e){}return 0}function d(e){try{return u(e)?"none"==e.style.display?0:e.innerHeight?e.innerHeight:e.clientHeight?e.clientHeight:e.offsetHeight:0}catch(e){}return 0}function f(){try{var e=document.body,t=document.documentElement,i=Math.max(e.scrollHeight,t.scrollHeight,e.offsetHeight,t.offsetHeight,e.clientHeight,t.clientHeight);return{x:Math.max(e.scrollWidth,t.scrollWidth,e.offsetWidth,t.offsetWidth,e.clientWidth,t.clientWidth),y:i}}catch(e){}return{x:0,y:0}}function p(e){var t=f();e.style.height=t.y+"px",e.style.width=t.x+"px"}function g(e,t,i,n){this.name=e,this.close=t,this.event=i,this.keyboardAcceleratorChar=n}function _(e,t,i){var n=document.createElement("div");n.maskID=jOmnis.createUniqueMaskID();var r,s=(r=n.maskID,a+10*r);n.className="dialog_mask",n.style.display="none",n.style.zIndex=s+"",document.body.appendChild(n),t&&!n.onmousedown&&(n.onmousedown=function(){jOmnis.soundBell()}),i&&jOmnis.addClass(n,i),e&&(n.style.display="block",p(n),jOmnis.addClass(n,"showmask")),n.parentCtrl=this,this.dialogMask=n}function y(e){if(this.dialogMask){var t=function(){i&&i.dialogMask&&(jOmnis.removeDialogMaskID(i.dialogMask.maskID),i.dialogMask.parentNode.removeChild(i.dialogMask),i.dialogMask=null)},i=this;!e&&jOmnis.transitionEndEvent?(this.dialogMask.addEventListener(jOmnis.transitionEndEvent,t,!1),jOmnis.removeClass(this.dialogMask,"showmask")):t()}}function b(e,t,i,s,a,f,p,g,y,O,S,E,C,D){var w,T,I,j,F,A,L,x;if(D=D||0,E&&(l=E),jOmnis.inAppWrapper()&&window.wrapperInterface.wrapperFeatures[eWrapperFeature.NATIVE_DIALOGS])return LAST_INSTANCE_FORM=S,void sendDeviceRequest("showDialog",null,{ID:"showDialog",title:e,message:t,type:i,buttonList:O});if(C)var P;var N,R=c("dialog");R&&"hidden"!=R.style.visibility&&(N=R.savedFocus,v(null,!0)),R&&R.timer&&(clearInterval(R.timer),R.timer=null,R.style.visibility="hidden"),o=null,LAST_INSTANCE_FORM=S,"number"==typeof t&&0===t?t="0":(t=jOmnis.escapeHTML(t),t=jOmnis.cToChar(t).replace(/\x2F\x2F/g,"<br>")),b.buttonList=O,u(i)||(i="error"),u(f)||(f=!1),u(p)||(p=!1),u(g)||(g=!0),u(O)||(O=new Array),c("dialog")?(w=c("dialog"),T=c("dialog_header"),j=c("dialog_title"),I=c("dialog_close"),F=c("dialog_body"),A=c("dialog_content"),P=c("dialog_icon"),C?P||((P=document.createElement("div")).id="dialog_icon"):P&&A.removeChild(P),x=c("dialog_msg"),L=c("dialog_bar"),w.style.visibility="visible"):((w=document.createElement("div")).id="dialog",(T=document.createElement("div")).id="dialog_header",(j=document.createElement("label")).id="dialog_title",(I=document.createElement("div")).id="dialog_close",(F=document.createElement("div")).id="dialog_body",(A=document.createElement("div")).id="dialog_content",C&&((P=document.createElement("div")).id="dialog_icon"),(x=document.createElement("div")).id="dialog_msg",(L=document.createElement("div")).id="dialog_bar",_.call(w,g,!0,null,!0),w.style.zIndex=+w.dialogMask.style.zIndex+1,document.body.appendChild(w),w.appendChild(T),T.appendChild(j),y?(T.appendChild(I),I.setAttribute("role","button"),I.setAttribute("aria-label",jGetOmnisString(LAST_INSTANCE_FORM,"omn_dialog_close"))):I.setAttribute("role","none"),w.appendChild(F),F.appendChild(A),F.appendChild(L),I.setAttribute("onclick","hideDialog()"),I.onclick=v),w.onkeydown=new Function("event","dialogKey(event)"),w.savedFocus=null,w.setAttribute("role","dialog"),w.setAttribute("aria-labelledby","dialog_title"),w.setAttribute("aria-describedby","dialog_content"),g&&(w.savedFocus=N||document.activeElement,w.savedFocus&&w.savedFocus.omnisObject instanceof ctrl_subform&&(w.savedFocus=null),jOmnis.showModalDialog(),w.setAttribute("aria-modal","true")),L.style.display=O.length>0?"block":"none",w.style.opacity=0,w.style.filter="alpha(opacity=0)",w.alpha=0;var M=c("");if(!u(M)){var k=document.documentElement,W=document.body;M=k.clientHeight?k:W}var B,z,H,U,V=jOmnis.getOmnisInst(D),K=V.theme;if(w.className="omnis-wf omnis-wf-shadow omnis-wf-borders omnis-wf-radii omnis-wf-active ".concat(K.getCSSClass()),jOmnis.touchDevice?w.ontouchstart=omnisDFMouseDown:w.onmousedown=omnisDFMouseDown,T.className="omnis-wf-title omnis-wf-title-active "+i+"header",null==e&&(e=""),j.innerHTML=jOmnis.escapeHTML(jOmnis.cToChar(e)),F.className=i+"body",L.className=i+"border",x.innerHTML=t,x.className="text-selectable",C&&(P.className=i+"icon",A.appendChild(P),x.className="showicon"),A.appendChild(x),"message"==i&&(A.style.overflow="auto"),O.length>0){var q=function(e){if("keydown"===e.type){var t=OmnisKeyboardHandler.getNormalizedEventKey(e);if("Enter"!==t&&"Escape"!==t)return;V.preventOkCancelKeyObject=!0}jOmnis.stopEventNow(e),v(e.target.getAttribute("data-id"))};O.length,L.style.textAlign="center",L.innerHTML="";for(var G={backColor:n.l1.dialog,primaryFocusBackColor:ctrl_pushbutton.getFlatButtonFocusColor(V,n.l1.default,n.l1.primary),neutralFocusBackColor:ctrl_pushbutton.getFlatButtonFocusColor(V,n.l1.default,n.l1.dialogText)},Y=0;Y<O.length;++Y){var X="omnis-button dlg-butt ".concat(0===Y?"dlg-butt-primary":""," noFocus");G.textColor=0===Y?n.l1.primary:n.l1.dialogText;var $=K.getColorString(G.textColor),J="dialogButtonShowHideFocus(".concat(Y,", ").concat(D,", ").concat(0===Y?G.primaryFocusBackColor:G.neutralFocusBackColor,")"),Z="dialogButtonShowHideFocus(".concat(Y,", ").concat(D,", ").concat(G.backColor,")");L.innerHTML+='<button id="dialog_button_id'.concat(Y,'" data-id="').concat(Y,'" style="color:').concat($,';" class="').concat(X,'" type="button" onfocus="jOmnis.lastModalDialogFocus=document.getElementById(\'dialog_button_id').concat(Y,'\');" onmouseenter="').concat(J,'" onfocusin="').concat(J,'" onmouseleave="').concat(Z,'" onfocusout="').concat(Z,'">').concat(jOmnis.escapeHTML(O[Y].name),"</button> ")}Array.from(L.children).forEach((function(e){var t="dialog_button_id0"===e.id?n.l1.primary:n.l1.dialogText;jOmnisEffects.addRippleToElem(e,K,!1,0,r._j,null,t),e.addEventListener("click",q),e.addEventListener("keydown",q)})),L.children[0].focus();for(var Q=new Function("event","dialogBlur(event)"),ee=0;ee<L.children.length;++ee)L.children[ee].onblur=Q}if(w.style.minWidth="300px",w.style.maxWidth="95%",u(s)?w.style.width=0==s?"auto":s+"px":w.style.width="425px",w.style.minHeight="130px",u(a)?0==a?(A.style.height="auto",w.style.height="auto"):(A.style.height=a-d(T)-d(L)+"px",w.style.height=a+13+"px"):(A.style.height="160px",w.style.height=d(T)+160+13+d(L)+"px"),DetectBlackBerry10()){var te=jOmnis.getWindowClientSize();H=te.width,U=te.height}else H=h(M),U=d(M);var ie=h(w),ne=d(w),re=function(){try{if("undefined"!=typeof pageXOffset)return{x:pageXOffset,y:pageYOffset};var e=document.body,t=document.documentElement;return t.clientHeight?{x:t.scrollLeft,y:t.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}catch(e){}return{x:0,y:0}}();p?(B=m.Y,z=m.X,B-=re.y,z-=re.x):(B=(U-ne)/2,z=(H-ie)/2),B+ne>U-2&&(B=U-ne-2),z+ie>H-2&&(z=H-ie-2),B+=re.y,z+=re.x,w.style.top=B+"px",w.style.left=z+"px",w.style.width=ie+"px",w.style.height=w.offsetHeight+"px",f&&window.setTimeout("hideDialog()",1e3*f)}function v(e,t){null==o&&(jOmnis.hideModalDialog(),c("dialog").onkeydown=null,u(e)&&"object"!=s(e)||(e=-1),o=e,(e<0||0==b.buttonList.length||b.buttonList[e].close)&&(O(t),LAST_INSTANCE_FORM&&e>=0&&e<b.buttonList.length&&b.buttonList[e].event&&("function"==typeof b.buttonList[e].event?b.buttonList[e].event():LAST_INSTANCE_FORM.callMethodEx(b.buttonList[e].event,0))))}function O(e){var t=c("dialog");if(t){if(y.call(t,e),t.timer&&(clearInterval(t.timer),t.timer=null),t.savedFocus){var i=t.savedFocus;t.savedFocus=null,setTimeout((function(){jOmnis.restoreFocus(i)}),0)}t.onkeydown=t.onclick=t.ontouchstart=t.onmousedown=null,t.parentNode.removeChild(t),t=null}l&&l.focus()}function S(e){for(var t=jOmnis.getNextBlurElem(e,!0),i=c("dialog");t&&t!=i;)t=t.parentNode;if(!t){var n=jOmnis.getEventCurrentTarget(e);n&&n.focus()}}function E(e){var t=OmnisKeyboardHandler.getNormalizedEventKey(e);if(!document.activeElement||"BUTTON"!=document.activeElement.tagName||"Enter"!==t&&"ArrowLeft"!==t&&"ArrowRight"!==t&&"Tab"!==t)for(o=0;o<b.buttonList.length;++o){var i=b.buttonList[o].keyboardAcceleratorChar;if(i){if("esc"==i&&"Escape"===t)return void v(o);if(1==i.length){var n=i.toUpperCase().charCodeAt(0);if(e.keyCode==n)return void v(o)}}}else{jOmnis.stopEventNow(e);for(var r=document.activeElement;null!=r&&"dialog"!=r.id;)r=r.parentNode;if(r)for(var s=b.buttonList.length,o=0;o<s;++o)if(b.buttonList[o].name===document.activeElement.textContent)return void("ArrowRight"===t||"Tab"===t&&e.shiftKey?(o=o?--o:s-1,document.activeElement.parentNode.children[o].focus()):"ArrowLeft"===t||"Tab"===t&&!e.shiftKey?(o=o+1==s?0:++o,document.activeElement.parentNode.children[o].focus()):v(o))}}function C(e,t,i){var n=document.getElementById("number"==typeof e?"dialog_button_id".concat(e):e),r=jOmnis.getOmnisInst(t).theme;n&&(n.style.backgroundColor=ctrl_pushbutton.getFlatButtonColor(r,i))}document.addEventListener("mousemove",m,!1),m.X=0,m.Y=0,b.buttonList=null},6464:function(e,t,i){i.d(t,{_j:function(){return u},tg:function(){return r},O7:function(){return m}});i(9554),i(6699),i(2023),i(2481),i(4747),i(5304);var n="is-focused",r={addRippleToElem:function(e,t,i,n,r,o,a){if(i){var l=document.createElement("span");jOmnis.addClass(l,m.CONTAINER)}var u=document.createElement("span");if(jOmnis.addClass(u,m.RIPPLE),null!=n&&-1!==n&&null==a){n=t.getColorRGB(n,16777215);var c=OMColor.TintRGB(n);u.style.backgroundColor=t.getColorString(c)}else null!=a&&(u.style.backgroundColor=t.getColorString(a));return i?(l.appendChild(u),e.appendChild(l)):e.appendChild(u),new s(i?l:e,r,o||e)},setRippleColor:function(e,t,i,n){var r=e.getElementsByClassName(m.RIPPLE);if(r.length){if(-1!==i&&null==n){i=t.getColorRGB(i,16777215);var s=OMColor.TintRGB(i)}else null!=n&&(s=n);var o=t.getColorString(s);r.forEach((function(e){e.style.backgroundColor=-1!==i||null!=n?o:""}))}},addFocusClass:function(e){var t;null===(t=e.classList)||void 0===t||t.add(n)},removeFocusClass:function(e){var t;null===(t=e.classList)||void 0===t||t.remove(n)},FOCUS_HELPER_CLASS:"omnis-focus-helper"},s=function(e,t,i){this.element_=e,this.triggerKeys=t,this.keyElement=i,this.init()},o="scale(0.0001, 0.0001)",a="1px",l="",m={RIPPLE_CENTER:"omnis-ripple--center",RIPPLE_EFFECT_IGNORE_EVENTS:"omnis-js-ripple-effect--ignore-events",RIPPLE:"omnis-ripple",IS_ANIMATING:"is-animating",IS_VISIBLE:"is-visible",CONTAINER:"omnis-ripple-container"},u=["Enter"," "];s.prototype.downHandler_=function(e){if(!this.rippleElement_.style.width&&!this.rippleElement_.style.height){var t=this.element_.getBoundingClientRect();this.boundHeight=t.height,this.boundWidth=t.width,this.rippleSize_=2*Math.sqrt(t.width*t.width+t.height*t.height)+2,this.rippleElement_.style.width=this.rippleSize_+"px",this.rippleElement_.style.height=this.rippleSize_+"px"}if(this.rippleElement_.classList.add(m.IS_VISIBLE),"mousedown"===e.type&&this.ignoringMouseDown_)this.ignoringMouseDown_=!1;else{if("touchstart"===e.type&&(this.ignoringMouseDown_=!0),this.getFrameCount()>0)return;this.setFrameCount(1);var i,n,r=this.element_.getBoundingClientRect();if(0===e.clientX&&0===e.clientY)i=Math.round(r.width/2),n=Math.round(r.height/2);else{var s=void 0!==e.clientX?e.clientX:e.touches[0].clientX,o=void 0!==e.clientY?e.clientY:e.touches[0].clientY;i=Math.round(s-r.left),n=Math.round(o-r.top)}this.setRippleXY(i,n),this.setRippleStyles(!0),window.requestAnimationFrame(this.animFrameHandler.bind(this))}},s.prototype.upHandler_=function(e){var t=this;!this.enterDown||"blur"!==e.type&&"mouseleave"!==e.type?e&&window.setTimeout(function(){this.rippleElement_.classList.remove(m.IS_VISIBLE)}.bind(this),0):jOmnis.setSingleTimeout(this,"removeRippleTimeout",(function(){t.enterDown=!1,t.element_!==document.activeElement&&t.rippleElement_.classList.remove(m.IS_VISIBLE)}),200)},s.prototype.init=function(){if(this.element_){var e=this.element_.classList.contains(m.RIPPLE_CENTER);if(!this.element_.classList.contains(m.RIPPLE_EFFECT_IGNORE_EVENTS)){this.rippleElement_=this.element_.querySelector("."+m.RIPPLE),this.frameCount_=0,this.rippleSize_=0,this.x_=0,this.y_=0,this.ignoringMouseDown_=!1,this.boundDownHandler=this.downHandler_.bind(this),this.element_.addEventListener("mousedown",this.boundDownHandler),this.element_.addEventListener("touchstart",this.boundDownHandler);var t=this;this.triggerKeys&&this.keyElement.addEventListener("keydown",(function(e){var i=OmnisKeyboardHandler.getNormalizedEventKey(e);if(t.triggerKeys.includes(i)){if(t.enterDown="Enter"===i,e.repeat)return void jOmnis.stopEventNow(e);e.clientX=e.clientY=0,t.boundDownHandler.call(t,e)}})),this.boundUpHandler=this.upHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundUpHandler),this.element_.addEventListener("mouseleave",this.boundUpHandler),this.element_.addEventListener("touchend",this.boundUpHandler),this.element_.addEventListener("blur",this.boundUpHandler),this.triggerKeys&&this.keyElement.addEventListener("keyup",(function(e){"Enter"===OmnisKeyboardHandler.getNormalizedEventKey(e)&&(t.enterDown=!1),jOmnis.setSingleTimeout(t,"removeRippleTimeout",(function(){t.boundUpHandler.call(t,e)}),100)})),this.getFrameCount=function(){return this.frameCount_},this.setFrameCount=function(e){this.frameCount_=e},this.getRippleElement=function(){return this.rippleElement_},this.setRippleXY=function(e,t){this.x_=e,this.y_=t},this.setRippleStyles=function(t){if(null!==this.rippleElement_){var i,n,r="translate("+this.x_+"px, "+this.y_+"px)";t?(n=o,a):(n=l,this.rippleSize_+"px",e&&(r="translate("+this.boundWidth/2+"px, "+this.boundHeight/2+"px)")),i="translate(-50%, -50%) "+r+n,this.rippleElement_.style.webkitTransform=i,this.rippleElement_.style.msTransform=i,this.rippleElement_.style.transform=i,t?this.rippleElement_.classList.remove(m.IS_ANIMATING):this.rippleElement_.classList.add(m.IS_ANIMATING)}},this.animFrameHandler=function(){this.frameCount_-- >0?window.requestAnimationFrame(this.animFrameHandler.bind(this)):this.setRippleStyles(!1)}}}}},5304:function(e,t,i){i.d(t,{O6:function(){return u},fY:function(){return c},JT:function(){return h},_l:function(){return d},q7:function(){return p},l1:function(){return g},Q2:function(){return O}});var n;i(2222),i(9826),i(9554),i(2772),i(9653),i(7941),i(1539),i(8674),i(5306),i(3123),i(4747);function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),e}function o(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var a=0;function l(e){return"__private_"+a+++"_"+e}function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var u="data-themename",c="default",h=-1,d={none:"none",transparent:"transparent",neutral:"neutral",neutralText:"neutralText",primary:"primary",primaryDark:"primaryDark",primaryLight:"primaryLight",primaryText:"primaryText",primaryDarkText:"primaryDarkText",primaryLightText:"primaryLightText",secondary:"secondary",secondaryDark:"secondaryDark",secondaryLight:"secondaryLight",secondaryText:"secondaryText",secondaryDarkText:"secondaryDarkText",secondaryLightText:"secondaryLightText",error:"error",errorText:"errorText",background:"background",backgroundText:"backgroundText",surface:"surface",surfaceText:"surfaceText",focusedRow:"focusedRow",focusedRowText:"focusedRowText",border:"border",dialog:"dialog",dialogText:"dialogText",dialogTitle:"dialogTitle",dialogTitleText:"dialogTitleText",disabled:"disabled",disabledText:"disabledText",focusIndicator:"focusIndicator"},f=(m(n={},d.none,{kConstant:-2,cssVar:""}),m(n,d.transparent,{kConstant:-3,cssVar:"transparent"}),m(n,d.neutral,{kConstant:-2147483464,cssVar:"--neutral-color"}),m(n,d.neutralText,{kConstant:-2147483463,cssVar:"--neutral-color-text"}),m(n,d.primary,{kConstant:-2147483462,cssVar:"--primary-color"}),m(n,d.primaryDark,{kConstant:-2147483461,cssVar:"--primary-color-dark"}),m(n,d.primaryLight,{kConstant:-2147483460,cssVar:"--primary-color-light"}),m(n,d.primaryText,{kConstant:-2147483459,cssVar:"--primary-color-text"}),m(n,d.primaryDarkText,{kConstant:-2147483458,cssVar:"--primary-color-dark-text"}),m(n,d.primaryLightText,{kConstant:-2147483457,cssVar:"--primary-color-light-text"}),m(n,d.secondary,{kConstant:-2147483456,cssVar:"--secondary-color"}),m(n,d.secondaryDark,{kConstant:-2147483455,cssVar:"--secondary-color-dark"}),m(n,d.secondaryLight,{kConstant:-2147483454,cssVar:"--secondary-color-light"}),m(n,d.secondaryText,{kConstant:-2147483453,cssVar:"--secondary-color-text"}),m(n,d.secondaryDarkText,{kConstant:-2147483452,cssVar:"--secondary-color-dark-text"}),m(n,d.secondaryLightText,{kConstant:-2147483451,cssVar:"--secondary-color-light-text"}),m(n,d.error,{kConstant:-2147483450,cssVar:"--error-color"}),m(n,d.errorText,{kConstant:-2147483449,cssVar:"--error-color-text"}),m(n,d.background,{kConstant:-2147483448,cssVar:"--background-color"}),m(n,d.backgroundText,{kConstant:-2147483447,cssVar:"--background-color-text"}),m(n,d.surface,{kConstant:-2147483446,cssVar:"--surface-color"}),m(n,d.surfaceText,{kConstant:-2147483445,cssVar:"--surface-color-text"}),m(n,d.focusedRow,{kConstant:-2147483444,cssVar:"--focusedrow-color"}),m(n,d.focusedRowText,{kConstant:-2147483443,cssVar:"--focusedrow-color-text"}),m(n,d.border,{kConstant:-2147483442,cssVar:"--border-color"}),m(n,d.dialog,{kConstant:-2147483441,cssVar:"--dialog-color"}),m(n,d.dialogText,{kConstant:-2147483440,cssVar:"--dialog-color-text"}),m(n,d.dialogTitle,{kConstant:-2147483439,cssVar:"--dialogtitle-color"}),m(n,d.dialogTitleText,{kConstant:-2147483438,cssVar:"--dialogtitle-color-text"}),m(n,d.disabled,{kConstant:-2147483437,cssVar:"--disabled-color"}),m(n,d.disabledText,{kConstant:-2147483436,cssVar:"--disabled-color-text"}),m(n,d.focusIndicator,{kConstant:-2147483435,cssVar:"--focusindicator-color"}),n),p=function(e){var t=jOmnis.omnisInsts.find((function(t){return t.elem.id===e}));return jOmnis.mDesign?null:t.coreLocalStorage.getItem(O.GetLocalStorageKey(e))},g=function(){var e={default:h};for(var t in f)e[t]=f[t].kConstant;return e}(),_=[g.default,g.none,g.transparent];function y(e){return Object.keys(f).find((function(t){return f[t].kConstant===e}))}var b=l("getDefaultTextColorString"),v=l("getDefaultTextColorRGB"),O=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,v,{value:E}),Object.defineProperty(this,b,{value:S}),this.cssVarFiles={}}return s(e,null,[{key:"CreateInstance",value:function(){return new e}}]),s(e,[{key:"setTheme",value:function(e,t){var i=this;e=e||c;var n=this;return this.instanceID=t,new Promise((function(t,r){(function(e,t){return new Promise((function(i,n){jOmnis.omnisInsts.find((function(t){return t.elem.id===e.instanceID})).getResourceContent("themes/".concat(t,".css")).then((function(t){if(t){var r=e.getCSSElemID(),s=document.head.querySelector("#"+r);s&&document.head.removeChild(s),t=t.replace(":root",e.getCSSElemSelector());var o=document.createElement("style");o.textContent=t,o.setAttribute("type","text/css"),o.setAttribute("id",e.getCSSElemID()),document.head.appendChild(o),i()}else n()})).catch((function(){return n()}))}))})(i,e).then((function(){(function(e,t){return jOmnis.omnisInsts.find((function(t){return t.elem.id===e.instanceID})).getResourceContent("themes/".concat(t,".json"))})(i,e).then((function(i){i?(n.JSON=JSON.parse(i),n.onThemeLoaded(e),t()):r("Cannot find ".concat(e,".json"))}))})).catch((function(){r("Cannot find ".concat(e,".css"))}))}))}},{key:"onThemeLoaded",value:function(e){this.name=e,this.setNewTheme(e,!1),this.setShadowColor()}},{key:"setNewTheme",value:function(t,i){i&&!jOmnis.mDesign&&this.getOmnisInst().coreLocalStorage.setItem(e.GetLocalStorageKey(this.instanceID),t)}},{key:"getOmnisInst",value:function(){var e=this;return jOmnis.omnisInsts.find((function(t){return t.elem.id===e.instanceID}))}},{key:"setShadowColor",value:function(){var e=this.getRGBColorFromJSON(d.background);new OMColor(e).getLuminance()<128&&document.getElementById(this.instanceID).style.setProperty("--shadow-color","255,255,255")}},{key:"getThemeableObj",value:function(e,t){t=t||"data-themeable";var i=JSON.parse(e.getAttribute(t));return i||{}}},{key:"getCSSElemID",value:function(){return"theme_"+this.instanceID}},{key:"getCSSElemSelector",value:function(){return"#".concat(this.instanceID,",.").concat(this.getCSSClass())}},{key:"getCSSClass",value:function(){return"theme_".concat(this.instanceID)}},{key:"getAttributeColorValue",value:function(e,t){return e===d.none||e===d.transparent?f[e].cssVar:(void 0===t&&(t=1),1===t?"rgb(var(".concat(f[e].cssVar,"))"):"rgba(var(".concat(f[e].cssVar,"),").concat(t,")"))}},{key:"getColorString",value:function(e,t,i){var n=y(e=e===h?t||0:e);if(n)return this.getAttributeColorValue(n,i);void 0===i&&(i=1);var r=this.getColorRGB(e,t),s="".concat(255&r,", ").concat(r>>8&255,", ").concat(r>>16&255);return 1===i?"rgb(".concat(s,")"):"rgba(".concat(s,", ").concat(i,")")}},{key:"getThemeColorRGB",value:function(e){var t=y(e);if(t)return this.getRGBColorFromJSON(t)}},{key:"getOmnisColor",value:function(e,t){return this.getColorString(e,0,t/255)}},{key:"getColorFromJSON",value:function(e){return this.JSON.colors[e]}},{key:"getRGBColorFromJSON",value:function(e){var t=this.getColorFromJSON(e);if(t){var i=0;return t.split(",").forEach((function(e,t){return i+=+e<<8*t})),i}}},{key:"getColorRGB",value:function(t,i){return t===h||t===g.none||t===g.transparent?this.getColorRGB(i,0):e.isConstantOrDefault(t)?this.getThemeColorRGB(t):Number.isInteger(t)?t:this.getColorRGB(i,0)}},{key:"getTextColorRGB",value:function(e,t,i){return e===h?o(this,v)[v](t,i):this.getColorRGB(e,i)}},{key:"getTextColorString",value:function(e,t,i){return e===h?o(this,b)[b](t,i):this.getColorString(e,i)}},{key:"resolveCSSVarsInString",value:function(e,t){if(-1===e.indexOf("var("))return e;t||(t=document.getElementById(this.instanceID));var i=getComputedStyle(t);return e.replace(/var\((.[^\)]*)\)/g,(function(e,t){return i.getPropertyValue(t)}))}}],[{key:"isConstantOrDefault",value:function(e){return this.isConstant(e)||_.indexOf(e)>-1}},{key:"isSpecialThemeConstant",value:function(e){return _.indexOf(e)>-1}},{key:"isConstant",value:function(e){if(!this.minConstant||!this.maxConstant){var t=[];Object.keys(g).forEach((function(e){-1===_.indexOf(g[e])&&t.push(g[e])})),this.minConstant=Math.min.apply(null,t),this.maxConstant=Math.max.apply(null,t)}return this.maxConstant>=e&&this.minConstant<=e}},{key:"isNonThemeConstant",value:function(e){return e<0&&!this.isConstantOrDefault(e)}},{key:"SetThemedIconColor",value:function(e,t){e.style.setProperty("--om-tint-color",t)}},{key:"GetLocalStorageKey",value:function(e){return"om_theme_"+jOmnis.omnisInsts.find((function(t){return t.elem.id===e})).appID}}]),e}(),S=function(e,t){if(O.isConstantOrDefault(e)){var i=y(e);if(i){var n=i+"Text";if(f[n])return this.getAttributeColorValue(n)}}return this.getColorString(t)},E=function(e,t){if(O.isConstantOrDefault(e)){var i=y(e);if(i){var n=i+"Text";if(f[n])return this.getRGBColorFromJSON(n)}}return t}},6798:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{yZ:function(){return jOmnis},O3:function(){return getWebkitVersion},dl:function(){return getAndroidVersion},LM:function(){return omnis_drag},Wu:function(){return jOmnisRemoteObject},Ft:function(){return eOmnisDataTypes},Gu:function(){return eOmnisDataSubTypes},wO:function(){return WND_FLOAT_NONE},WL:function(){return WND_FLOAT_LEFT},B1:function(){return WND_FLOAT_RIGHT},I7:function(){return WND_FLOAT_LEFT_RIGHT},dO:function(){return WND_FLOAT_TOP},UL:function(){return WND_FLOAT_BOTTOM},sh:function(){return WND_FLOAT_TOP_BOTTOM},OA:function(){return WND_FLOAT_LEFT_RIGHT_CENTER},Yg:function(){return WND_FLOAT_TOP_BOTTOM_CENTER},Ph:function(){return WND_FLOAT_ALL_CENTER},lU:function(){return WND_WC_MENUBAR},Vf:function(){return WND_WC_TOOLBAR_TOP},YP:function(){return WND_WC_STATUSBAR},e9:function(){return WND_WC_TOOLBAR_BOTTOM},Bg:function(){return WND_WC_TOOLBAR_LEFT},db:function(){return WND_WC_TOOLBAR_RIGHT},N4:function(){return WND_WC_MAIN_HEADER},ge:function(){return WND_WC_HORZ_HEADER},Jl:function(){return WND_WC_VERT_HEADER},B3:function(){return WND_WC_HEADER_BUTTON},jJ:function(){return WND_WC_CLIENT},RT:function(){return WND_WC_HORZ_FOOTER},Ik:function(){return WND_WC_FOOTER_BUTTON},jI:function(){return eResizeModes},PE:function(){return eSMinfoCols},Ks:function(){return eDoMethodFlags},eJ:function(){return sMissingMethods},Km:function(){return eSupportedNativeOSs},bN:function(){return eClientPlatforms},yf:function(){return jOmnisVal},YB:function(){return jStyles},SQ:function(){return jOverlayId},kt:function(){return eClientStorage},IL:function(){return jIcons},I4:function(){return eDesignMessageTypes}});var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2526),core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1817),core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_symbol_iterator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2165),core_js_modules_es_symbol_iterator__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_symbol_iterator__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2222),core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9554),core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_array_includes__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6699),core_js_modules_es_array_includes__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_array_includes__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2772),core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6992),core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_array_last_index_of__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(4986),core_js_modules_es_array_last_index_of__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_array_last_index_of__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(7042),core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(561),core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9653),core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es_object_get_own_property_names__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(6210),core_js_modules_es_object_get_own_property_names__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es_object_get_own_property_names__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_es_object_keys__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(7941),core_js_modules_es_object_keys__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es_object_keys__WEBPACK_IMPORTED_MODULE_13__),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(1539),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_14__),core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(8674),core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_15__),core_js_modules_es_regexp_constructor__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(4603),core_js_modules_es_regexp_constructor__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(core_js_modules_es_regexp_constructor__WEBPACK_IMPORTED_MODULE_16__),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(9714),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_17__),core_js_modules_es_string_includes__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(2023),core_js_modules_es_string_includes__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(core_js_modules_es_string_includes__WEBPACK_IMPORTED_MODULE_18__),core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(8783),core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_19__),core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(4723),core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_20__),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5306),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_21__),core_js_modules_es_string_search__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(4765),core_js_modules_es_string_search__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(core_js_modules_es_string_search__WEBPACK_IMPORTED_MODULE_22__),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(3123),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_23__),core_js_modules_es_string_starts_with__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(6755),core_js_modules_es_string_starts_with__WEBPACK_IMPORTED_MODULE_24___default=__webpack_require__.n(core_js_modules_es_string_starts_with__WEBPACK_IMPORTED_MODULE_24__),core_js_modules_es_string_trim__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(3210),core_js_modules_es_string_trim__WEBPACK_IMPORTED_MODULE_25___default=__webpack_require__.n(core_js_modules_es_string_trim__WEBPACK_IMPORTED_MODULE_25__),core_js_modules_esnext_string_replace_all__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(7207),core_js_modules_esnext_string_replace_all__WEBPACK_IMPORTED_MODULE_26___default=__webpack_require__.n(core_js_modules_esnext_string_replace_all__WEBPACK_IMPORTED_MODULE_26__),core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(4747),core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_27___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_27__),core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(3948),core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_28___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_28__),_loading_overlay__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(4555),_omn_cli__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(1614),_ssz__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(9522),_mdetect__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(9675),_omn_dlg__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(6062),_wrapper_interface__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(7153),_omn_theme__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(5304),error_stack_parser__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(9180),error_stack_parser__WEBPACK_IMPORTED_MODULE_36___default=__webpack_require__.n(error_stack_parser__WEBPACK_IMPORTED_MODULE_36__),_controls_ctl_base__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__(6353);function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var eOmnisDataTypes={fftNone:20,fftCharacter:21,fftBoolean:22,fftDate:23,fftSequence:24,fftNumber:25,fftInteger:26,fftPicture:27,fftBinary:28,fftList:29,fftRdef:30,fftCrb:31,fftFieldname:32,fftItemref:33,fftCalc:34,fftConstant:35,fftRow:36,fftObject:37,fftObjref:38},eOmnisDataSubTypes={default:0,intShort:32,int32:0,int64:64,numberShort:32,numberRealDps:31,characterSimple:0,characterNational:1,date1900:0,date1980:1,date2000:2,dateTime1900:3,dateTime1980:4,dateTime2000:5,time:6,dateTimeC:7,timestamp:1e3,dpFdtimedefault:4,listRow:1},eIconSizeModifiers={k16x16:-1879048192,k32x32:-1610612736,k48x48:-1073741824},omnis_animation_id=1,WND_FLOAT_NONE=0,WND_FLOAT_LEFT=1,WND_FLOAT_RIGHT=2,WND_FLOAT_LEFT_RIGHT=3,WND_FLOAT_TOP=4,WND_FLOAT_BOTTOM=8,WND_FLOAT_TOP_BOTTOM=12,WND_FLOAT_LEFT_RIGHT_CENTER=1,WND_FLOAT_TOP_BOTTOM_CENTER=4,WND_FLOAT_ALL_CENTER=5,WND_WC_MENUBAR=32,WND_WC_TOOLBAR_TOP=64,WND_WC_STATUSBAR=128,WND_WC_TOOLBAR_BOTTOM=256,WND_WC_TOOLBAR_LEFT=512,WND_WC_TOOLBAR_RIGHT=1024,WND_WC_MAIN_HEADER=2048,WND_WC_HORZ_HEADER=4096,WND_WC_VERT_HEADER=8192,WND_WC_HEADER_BUTTON=16384,WND_WC_CLIENT=32768,WND_WC_HORZ_FOOTER=65536,WND_WC_FOOTER_BUTTON=131072,eResizeModes={none:0,center:1,keepaspect:2,ignoreaspect:3},eSMinfoCols={recipient:1,anum1:2,anum2:3,minLevel:4},eDoMethodFlags={completionEvent:1,clientOnly:2,noOverlay:4,noLog:8},sMissingMethods={},eSupportedNativeOSs=["iOS","android","WP8","blackberry","Windows"];omnis.prototype.eScreenOrientation={Portrait:1,Landscape:2};var eClientPlatforms={Unknown:-1,Windows:0,macOS:1,Linux:2,iOS:3,Android:4},cIconFileMinLength=9,eClientStorage={temp:"temp",session:"session",local:"local"},cOmnisClientLocalePref="omnis_jsclient_locale",platformUpper;window.addEventListener("pageshow",(function(e){e.persisted&&jOmnis.resumeCachedInstances()})),window.addEventListener("pagehide",(function(e){jOmnis.disconnectInstances(e.persisted)})),window.addEventListener("load",(function(){jOmnis.inAppWrapper()||jOmnis.manualStartup||jOmnis.startup(),jOmnis.inChrome()&&window.addEventListener("unload",(function(){jOmnis.disconnectInstances(!1)}))})),window.addEventListener("error",(function(e){jOmnis.handleError(e,null,e.message)})),window.addEventListener("blur",(function(e){jOmnis.preventFocusEvents=!0,window.addEventListener("focusin",(function(e){setTimeout((function(){jOmnis.preventFocusEvents=!1}),0)}),{capture:!0,once:!0})})),omnis.prototype.getLocaleStringsURLs=function(){function e(){supportedLanguages.indexOf(n)>-1&&(t[1]=n,i.push(t.join("")))}(!window.supportedLanguages||window.supportedLanguages.length<1)&&(window.supportedLanguages=[]);var t=["scripts/locale/strings_","base",".js"],i=[t.join("")],n=jOmnis.getClientLocale().toLowerCase();return e(),n.length>2&&(n=n.substr(0,2),e()),i},omnis.prototype.clientPlatform=(platformUpper=navigator.platform.toUpperCase(),/IPHONE|IPAD|IPOD/g.test(platformUpper)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1?eClientPlatforms.iOS:navigator.userAgent.toUpperCase().includes("ANDROID")?eClientPlatforms.Android:0==platformUpper.indexOf("MAC")?eClientPlatforms.macOS:0==platformUpper.indexOf("WIN")?eClientPlatforms.Windows:platformUpper.indexOf("LINUX")>-1?eClientPlatforms.Linux:eClientPlatforms.Unknown);var checkOrientation=function(){jOmnis.handleOrientationChange()};function omnis(){if((0,_mdetect__WEBPACK_IMPORTED_MODULE_32__.zU)(),this.fontHeights={},this.shiftKey=this.altOrOptionKey=this.cmdKey=this.ctrlKey=!1,this.popup=null,this.overlay=null,this.overlayLock=0,this.omnisInsts=[],this.touchDevice="ontouchstart"in window,this.mobileDevice=_mdetect__WEBPACK_IMPORTED_MODULE_32__.Kq||_ssz__WEBPACK_IMPORTED_MODULE_31__.oM,this.mDeviceId="",this.useiScroll=this.touchDevice,this.registeredStyleSheetObjects=[],this.overlayManager=new _loading_overlay__WEBPACK_IMPORTED_MODULE_29__.Z,window.usePrototypeVisibilityChanges=!0,"undefined"!=typeof omnisandroid?window.wrapperInterface=new _wrapper_interface__WEBPACK_IMPORTED_MODULE_34__.Nq(_wrapper_interface__WEBPACK_IMPORTED_MODULE_34__.Xw.ANDROID):navigator.appVersion.indexOf("Windows")>-1&&navigator.appVersion.indexOf("WebView")>-1?window.wrapperInterface=new _wrapper_interface__WEBPACK_IMPORTED_MODULE_34__.Nq(_wrapper_interface__WEBPACK_IMPORTED_MODULE_34__.Xw.WINDOWS):window.webkit&&webkit.messageHandlers&&webkit.messageHandlers.jsBridge&&(window.wrapperInterface=new _wrapper_interface__WEBPACK_IMPORTED_MODULE_34__.Nq(_wrapper_interface__WEBPACK_IMPORTED_MODULE_34__.Xw.iOS)),this.iOS=this.clientPlatform==eClientPlatforms.iOS,this.iOS&&!this.wrapperInterface){var e=document.createElement("IFRAME");e.setAttribute("src","http://www.omnis.net/__iOSwrapper"),document.documentElement.appendChild(e),e.parentNode.removeChild(e),e=null}this.windowsPhone=navigator.appVersion.indexOf("Windows Phone")>-1,(0,_mdetect__WEBPACK_IMPORTED_MODULE_32__.OC)()&&(this.isBB=!0,void 0!==navigator.cascades&&null!=navigator.cascades&&(window.wrapperInterface=new _wrapper_interface__WEBPACK_IMPORTED_MODULE_34__.Nq(_wrapper_interface__WEBPACK_IMPORTED_MODULE_34__.Xw.BLACKBERRY))),this.desktopBrowserTesting=!1,this.touchStartEvent=this.touchDevice?"touchstart":"mousedown",this.touchMoveEvent=this.touchDevice?"touchmove":"mousemove",this.touchEndEvent=this.touchDevice?"touchend":"mouseup";var t=document.body||document.documentElement;this.savedBodyOverflow=t.style.overflow,this.browserStylePrefix="",this.usewktranslate=!1,this.transitionProperty="transitionProperty",this.transitionTimingFunctionProperty="transitionTimingFunction",this.transitionDurationProperty="transitionDuration",this.transformOriginProperty="transformOrigin",this.transformProperty="transform",this.transformPropertyValue="transform",this.transitionEndEvent="transitionend",this.defaultTiming="cubic-bezier(0,0,0.25,1)",this.animationsInProgress=[],this.isAndroid=navigator.userAgent.toLowerCase().indexOf("android")>-1&&-1==navigator.userAgent.indexOf("windows"),this.modalDialogOpen=0;var i=!this.isAndroid&&!this.inChromeiOS()&&!this.inFirefoxiOS()&&"onorientationchange"in window?"orientationchange":"resize";!this.mobileDevice||this.inAppWrapper()&&wrapperInterface.firesResizeEvents||window.addEventListener(i,(function(e){jOmnis.handleOrientationChange(e,!0)}),!1),this.inAppWrapper()&&wrapperInterface.firesResizeEvents||window.addEventListener("resize",(function(e){jOmnis.handleResize(e)}),!1),document.addEventListener("copy",(function(e){for(var t="BODY"===e.target.tagName?document.activeElement:e.target;t&&t.parentNode&&!jOmnis.hasClass(t,"omnis-prevent-copy");){if(t.omnisObject){var i=t.omnisObject.callMethodEx("$clipboardcopy",eDoMethodFlags.clientOnly|eDoMethodFlags.noLog|eDoMethodFlags.noOverlay);if(i){if(i instanceof omnis_raw_list)for(var n=0;n<i.lstData.length;n++)e.clipboardData.setData(i.lstData[n][0],i.lstData[n][1]);else e.clipboardData.setData("text/plain",i);e.preventDefault()}else t.omnisObject.handleEvent(e)&&e.preventDefault();break}t=t.parentNode}})),window.addEventListener&&window.addEventListener("keydown",(function(e){jOmnis.checkServerComms(e)}),!0),this.mDisableKeyboard=!1,this.devicePixelRatio=window.devicePixelRatio&&!this.iOS&&this.mobileDevice?window.devicePixelRatio:1,isInIE()>0&&DetectWindowsPhone()&&(this.devicePixelRatio=2),this.sizeRatio=1;var n=getWebkitVersion();(n>0&&n<537||isInIE()>0)&&(this.sizeRatio=this.devicePixelRatio),this.lastOrientation=-1,this.requiresOrientationChecking=this.mobileDevice&&"undefined"==typeof wrapperInterface&&void 0!==window.orientation,this.requiresOrientationChecking&&(this.lastOrientation=window.orientation),this.orientationChangeMayNotHaveCorrectSizes="undefined"==typeof wrapperInterface&&this.clientPlatform===eClientPlatforms.iOS,this.curScreenSize=-1,this.curScreenSizeConst=0,this.curScreenWidth=-1,this.curScreenHeight=-1,this.yesString="Yes",this.yesAccel="y",this.noString="No",this.noAccel="n",this.okString="OK",this.cancelString="Cancel",this.fn=new _omn_cli__WEBPACK_IMPORTED_MODULE_30__.cD,this.platformName="Desktop",this.iOS?this.platformName=eSupportedNativeOSs[0]:this.isAndroid?this.platformName=eSupportedNativeOSs[1]:this.isBB?this.platformName=eSupportedNativeOSs[3]:this.windowsPhone&&(this.platformName=eSupportedNativeOSs[2]),this.browserHasPoorPdfSupport=function(){return!(!this.iOS&&!this.isAndroid)}.call(this),this.deepCopy=function(e){var t,i=e;if(e&&"object"===_typeof(e))for(t in i="[object Array]"===Object.prototype.toString.call(e)?[]:{},e)i[t]=this.deepCopy(e[t]);return i},this.isEqual=function(e,t){if(e===t)return!0;var i=null==e?[]:Object.getOwnPropertyNames(e),n=null==t?[]:Object.getOwnPropertyNames(t);if(i.length!=n.length)return!1;for(var r=0;r<i.length;r++){var s=i[r];switch(_typeof(e[s])){case"object":if(!this.isEqual(e[s],t[s]))return!1;break;case"number":if(isNaN(e[s])&&isNaN(t[s]))break;default:if(e[s]!=t[s])return!1}}return!0},this.eventIsTouchEvent=function(e){return e&&void 0!==e.changedTouches},window.addEventListener&&(window.addEventListener("dragstart",(function(e){jOmnis.dragStart(e)}),!0),window.addEventListener("dragover",(function(e){jOmnis.dragOver(e)}),!0),window.addEventListener("drop",(function(e){jOmnis.drop(e)}),!0),window.addEventListener("dragend",(function(e){jOmnis.dragEnd(e)}),!0))}omnis.prototype.inChromeiOS=function(){return void 0===this.mInChromeiOS&&(this.mInChromeiOS=-1!==navigator.userAgent.toLowerCase().indexOf("crios")),this.mInChromeiOS},omnis.prototype.inFirefoxiOS=function(){return void 0===this.mInFirefoxiOS&&(this.mInFirefoxiOS=-1!==navigator.userAgent.toLowerCase().indexOf("fxios")),this.mInFirefoxiOS},omnis.prototype.inAppWrapper=function(e){var t=void 0!==window.wrapperInterface;return t&&e?wrapperInterface.supportsFeature(e):t};var jOmnis=new omnis;function transitionEnded(){jOmnis.clearAnimations(this);for(var e=this;e;){if(e.omnisObject)return void e.omnisObject.transitionEnded(this);e=e.parentNode}}function getWebkitVersion(){var e=navigator.userAgent.toLowerCase().indexOf("applewebkit/");if(e>-1){var t=navigator.userAgent.toLowerCase().substr(e);return t=t.substr(12,t.indexOf(" ")-12),parseFloat(t)}return-1}function getAndroidVersion(){var e=navigator.userAgent.indexOf("Android ");if(e>-1){var t=navigator.userAgent.substr(e);for(t=t.substr(8,t.indexOf(";")-8);t.lastIndexOf(".")>t.indexOf(".");)t=t.substr(0,t.lastIndexOf("."));return parseFloat(t)}return-1}function omnisAnimation(e,t,i){this.ctrl=e,this.elem=t,this.animationId=omnis_animation_id++,this.systemEventType=i,document.addEventListener(i,this,!1)}omnis.prototype.makeIdent=function(e,t){return(e<<8)+t},omnis.prototype.instIndexFromIdent=function(e){return e>>8},omnis.prototype.formIndexFromIdent=function(e){return 255&e},omnis.prototype.defaultParameter=function(e,t){return null==e?t:e},omnis.prototype.getURLParameters=function(){var e=document.URL,t={},i=e.indexOf("?");if(-1==i)return null;for(var n=e.substring(i+1).split("&"),r=0;r<n.length;r++){var s=n[r].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t},omnis.prototype.parseInteger=function(e){var t=parseInt(e);return t||0},omnis.prototype.rgbFromCssColor=function(e){return new RGBColor(e).rgb},omnis.prototype.getClientLocale=function(){var e=this.getPreferredClientLocale();return!e&&navigator&&(navigator.language?e=navigator.language:navigator.browserLanguage?e=navigator.browserLanguage:navigator.systemLanguage?e=navigator.systemLanguage:navigator.userLanguage&&(e=navigator.userLanguage)),e?e.replace("-","_"):"en"},omnis.prototype.getPreferredClientLocale=function(){if(null==this.mCurrentLocalePref){if(void 0!==window.wrapperInterface){var e=window.wrapperInterface.getLocale();if(e)var t=e+""}else try{t=localStorage.getItem(cOmnisClientLocalePref)}catch(e){}this.mCurrentLocalePref=t||!1}return this.mCurrentLocalePref},omnis.prototype.setPreferredClientLocale=function(e,t){this.inAppWrapper(eWrapperFeature.PREFERRED_LOCALE)?wrapperInterface.setPreferredLocale(e):this.setPreference(eClientStorage.local,cOmnisClientLocalePref,e,t)},omnis.prototype.clearPreferredClientLocale=function(e){this.inAppWrapper(eWrapperFeature.PREFERRED_LOCALE)?wrapperInterface.clearPreferredLocale():e.coreLocalStorage.removeItem(cOmnisClientLocalePref)},omnis.prototype.setPreference=function(e,t,i,n){if(e!==eClientStorage.temp||n)switch(e){case eClientStorage.temp:n.tempStorage||(n.tempStorage={}),n.tempStorage[t]=i+"";break;case eClientStorage.session:sessionStorage.setItem(t,i+"");break;case eClientStorage.local:default:if(void 0!==window.wrapperInterface&&window.wrapperInterface.wrapperFeatures[eWrapperFeature.STORED_PREFS])return window.wrapperInterface.savePreference(t,i+""),!0;n.coreLocalStorage.setItem(t,i+"")}},omnis.prototype.loadPreference=function(e,t,i,n,r){if(e!==eClientStorage.temp||i){switch(e){case eClientStorage.temp:if(i.tempStorage)var s=i.tempStorage[t];break;case eClientStorage.session:s=sessionStorage.getItem(t);break;case eClientStorage.local:default:if(void 0!==window.wrapperInterface&&window.wrapperInterface.wrapperFeatures[eWrapperFeature.STORED_PREFS])return window.wrapperInterface.loadPreference(t,i.index,n,r),!0;s=localStorage.getItem(t)}null==s&&(s=""),i.formGet(n).setData(r,s)}},omnis.prototype.getAttribute=function(e,t,i){var n=e.getAttribute(t);return null==n?i:n},omnis.prototype.getAttributeAsBool=function(e,t,i){var n=e.getAttribute(t);return null==n?i:0!=Number(n)},omnis.prototype.getObjectVisible=function(e){return!(!this.mDesign||this.mDesignCanChangeVis)||this.getAttributeAsBool(e,"data-visible",!0)},omnis.prototype.getAttributeList=function(elem,attributeName,primarySeparator){var result=[],scriptText=elem.getAttribute(attributeName);if(scriptText&&scriptText.length)if(primarySeparator&&primarySeparator.length)for(var scriptText=elem.getAttribute(attributeName),scriptTextArr=scriptText.split(primarySeparator),i=0;i<scriptTextArr.length;i++)result[i]=eval("["+scriptTextArr[i]+"]");else result=eval("["+scriptText+"]");return result},omnis.prototype.getStyle=function(e,t,i){jStyles.setElem(e);var n=i?jStyles.getInt(t):jStyles.get(t);return jStyles.done(),n},omnis.prototype.setBorderRadius=function(e,t){"number"==typeof t&&0!=t&&(t+="");for(var i=null==t||0==t.length||0===t?[0]:t.split("-"),n="",r=0;r<i.length;r++)n+=i[r]+"px ";e.style.borderRadius=n},omnis.prototype.disableTextSelection=function(e,t,i){var n,r=t?i:"none",s=e.style;return"webkitUserSelect"in s?(n=s.webkitUserSelect,s.webkitUserSelect=r):"MozUserSelect"in s?(n=s.MozUserSelect,s.MozUserSelect=r):"userSelect"in s?(n=s.userSelect,s.userSelect=r):e.setAttribute("unselectable",t?"off":"on"),n},omnis.prototype.getWindowClientSize=function(){var e={width:0,height:0};if(this.has100PercentHTMLElement){var t=document.documentElement.getBoundingClientRect();e.width=t.width,e.height=t.height}else"number"==typeof window.innerWidth?(e.width=window.innerWidth,e.height=window.innerHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(e.width=document.body.clientWidth,e.height=document.body.clientHeight);return e},omnis.prototype.getWindowClientScroll=function(){var e={XOffset:0,YOffset:0};return"number"==typeof window.pageYOffset?(e.YOffset=window.pageYOffset,e.XOffset=window.pageXOffset):document.body&&(document.body.scrollLeft||document.body.scrollTop)?(e.YOffset=document.body.scrollTop,e.XOffset=document.body.scrollLeft):document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)&&(e.YOffset=document.documentElement.scrollTop,e.XOffset=document.documentElement.scrollLeft),e},omnis.prototype.addClass=function(e,t){"string"==typeof t&&(t=t.split(" "));var i=e.classList;if(i)for(var n=0;n<t.length;n++)try{i.add(t[n])}catch(e){}},omnis.prototype.removeClass=function(e,t){"string"==typeof t&&(t=t.split(" "));var i=e.classList;if(i)for(var n=0;n<t.length;n++)i.remove(t[n])},omnis.prototype.hasClass=function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1},omnis.prototype.animate=function(e,t,i,n){var r=Object.keys(t);e.style[this.transitionProperty]=r.toString(),e.style[this.transitionDurationProperty]=i+"ms";for(var s=0;s<r.length;s++)e.style[r[s]]=t[r[s]];return e.addEventListener(this.transitionEndEvent,n||transitionEnded,!1),n||transitionEnded},omnis.prototype.clearAnimations=function(e,t){e.style[this.transitionProperty]="none",e.style[this.transitionDurationProperty]="0ms",e.removeEventListener(this.transitionEndEvent,t||transitionEnded,!1)},omnis.prototype.getCurrentActiveControl=function(){for(var e=document.activeElement;!e.omnisObject&&e.parentElement;)e=e.parentElement;return e&&e.omnisObject||null},omnis.prototype.getOmnisLeft=function(e){var t=e.style.left,i=t.indexOf("px");return-1==i?e.offsetLeft:parseInt(t.substr(0,i))},omnis.prototype.getOmnisTop=function(e){var t=e.style.top,i=t.indexOf("px");return-1==i?e.offsetTop:parseInt(t.substr(0,i))},omnis.prototype.getOmnisWidth=function(e,t){var i=e.offsetWidth;if(i)t&&"DIV"==e.tagName&&(jStyles.setElem(e),i-=jStyles.getInt("border-left-width"),i-=jStyles.getInt("border-right-width"),jStyles.done());else{var n=e.style.width,r=n.indexOf("px");-1!=r&&(i=parseInt(n.substr(0,r)))}return i},omnis.prototype.getOmnisHeight=function(e,t){var i=e.offsetHeight;if(i)t&&"DIV"==e.tagName&&(jStyles.setElem(e),i-=jStyles.getInt("border-top-width"),i-=jStyles.getInt("border-bottom-width"),jStyles.done());else{var n=e.style.height,r=n.indexOf("px");-1!=r&&(i=parseInt(n.substr(0,r)))}return i},omnis.prototype.getOmnisWidthFromStyle=function(e,t){var i=e.offsetWidth,n=e.style.width,r=n.indexOf("px");return-1!=r&&(i=parseInt(n.substr(0,r))),t&&"DIV"==e.tagName&&(jStyles.setElem(e),i-=jStyles.getInt("border-left-width"),i-=jStyles.getInt("border-right-width"),jStyles.done()),i},omnis.prototype.getOmnisHeightFromStyle=function(e,t){var i=e.offsetHeight,n=e.style.height,r=n.indexOf("px");return-1!=r&&(i=parseInt(n.substr(0,r))),t&&"DIV"==e.tagName&&(jStyles.setElem(e),i-=jStyles.getInt("border-top-width"),i-=jStyles.getInt("border-bottom-width"),jStyles.done()),i},omnis.prototype.setOmnisLeft=function(e,t){e.style.left=t+"px"},omnis.prototype.setOmnisTop=function(e,t){e.style.top=t+"px"},omnis.prototype.setOmnisWidth=function(e,t,i,n){n&&"DIV"==e.tagName&&(i||jStyles.setElem(e),t-=jStyles.getInt("border-left-width"),t-=jStyles.getInt("border-right-width"),t-=jStyles.getInt("padding-left"),t-=jStyles.getInt("padding-right"),i||jStyles.done()),t<0&&(t=0),e.style.width=t+"px"},omnis.prototype.setOmnisHeight=function(e,t,i,n){n&&"DIV"==e.tagName&&(i||jStyles.setElem(e),t-=jStyles.getInt("border-top-width"),t-=jStyles.getInt("border-bottom-width"),t-=jStyles.getInt("padding-top"),t-=jStyles.getInt("padding-bottom"),i||jStyles.done()),t<0&&(t=0),e.style.height=t+"px"},omnis.prototype.setOmnisRect=function(e,t,i,n,r,s){e.style.left=t+"px",e.style.top=i+"px";var o=s&&"DIV"==e.tagName;o&&jStyles.setElem(e),this.setOmnisWidth(e,n,o,s),this.setOmnisHeight(e,r,o,s),o&&jStyles.done()},omnis.prototype.getTotalWidth=function(e,t){jStyles.setElem(e);var i=jStyles.getInt("width");return t&&(i+=jStyles.getInt("border-left-width"),i+=jStyles.getInt("border-right-width"),i+=jStyles.getInt("padding-left"),i+=jStyles.getInt("padding-right"),i+=jStyles.getInt("margin-left"),i+=jStyles.getInt("margin-right")),jStyles.done(),i},omnis.prototype.getTotalHeight=function(e,t){jStyles.setElem(e);var i=jStyles.getInt("height");return t&&(i+=jStyles.getInt("border-top-width"),i+=jStyles.getInt("border-bottom-width"),i+=jStyles.getInt("padding-top"),i+=jStyles.getInt("padding-bottom"),i+=jStyles.getInt("margin-top"),i+=jStyles.getInt("margin-bottom")),jStyles.done(),i},omnis.prototype.getContainerControl=function(e){for(var t=e.parentNode;!t.omnisObject||t.omnisObject===e.omnisObject;)if(!(t=t.parentNode))return null;return t.omnisObject},omnis.prototype.floatRect=function(e,t,i,n){if(e>=WND_WC_MENUBAR){var r=e;r!=WND_WC_MENUBAR&&r!=WND_WC_CLIENT&&r!=WND_WC_TOOLBAR_TOP&&r!=WND_WC_TOOLBAR_BOTTOM&&r!=WND_WC_HORZ_HEADER&&r!=WND_WC_HORZ_FOOTER&&r!=WND_WC_MAIN_HEADER&&r!=WND_WC_STATUSBAR||(e|=WND_FLOAT_RIGHT),r==WND_WC_TOOLBAR_RIGHT&&(e|=WND_FLOAT_LEFT_RIGHT),r!=WND_WC_TOOLBAR_BOTTOM&&r!=WND_WC_STATUSBAR||(e|=WND_FLOAT_TOP_BOTTOM),r!=WND_WC_TOOLBAR_LEFT&&r!=WND_WC_TOOLBAR_RIGHT&&r!=WND_WC_CLIENT&&r!=WND_WC_VERT_HEADER||(e|=WND_FLOAT_BOTTOM)}return e?(e&WND_FLOAT_LEFT_RIGHT&&(WND_FLOAT_LEFT_RIGHT_CENTER==e||WND_FLOAT_ALL_CENTER==e?t[0]+=i/2:(e&WND_FLOAT_LEFT_RIGHT)==WND_FLOAT_LEFT_RIGHT?t[0]+=i:t[2]+=i),e&WND_FLOAT_TOP_BOTTOM&&(WND_FLOAT_TOP_BOTTOM_CENTER==e||WND_FLOAT_ALL_CENTER==e?t[1]+=n/2:(e&WND_FLOAT_TOP_BOTTOM)==WND_FLOAT_TOP_BOTTOM?t[1]+=n:t[3]+=n),e):0},omnis.prototype.addStyleSheet=function(e){var t;return this.mStyleRuleArray?this.mFreeStyleRuleArrayEntries.length?(t=this.mFreeStyleRuleArrayEntries.pop(),this.mStyleRuleArray[t]=e):(t=this.mStyleRuleArray.length,this.mStyleRuleArray.push(e)):(this.mStyleRuleArray=["",e],this.mFreeStyleRuleArrayEntries=[],t=1),this.stylesAltered(),t},omnis.prototype.removeStyleSheet=function(e){if(e){if(!this.mStyleRuleArray)return;e+1==this.mStyleRuleArray.length?this.mStyleRuleArray.length=e:(this.mStyleRuleArray[e]="",this.mFreeStyleRuleArrayEntries.push(e))}},omnis.prototype.clearStyleSheets=function(){this.mStyleSheet&&(this.mStyleSheet.parentNode.removeChild(this.mStyleSheet),this.mStyleSheet=null,this.mStyleRuleArray=null)},omnis.prototype.stylesAltered=function(){this.mStyleRulesAltered=!0,this.mDeferApplyStyles||this.mStyleTimeout||(this.mStyleTimeout=setTimeout((function(){jOmnis.mStyleTimeout=0,jOmnis.applyStyles()}),0))},omnis.prototype.applyStyles=function(){if(this.mStyleRulesAltered){this.mStyleRulesAltered=!1;var e=document.getElementsByTagName("head");if(!e.length)return null;var t,i=this.mStyleRuleArray.join("");this.mStyleSheet||(this.mStyleSheet=document.createElement("style"),t=!0);var n=this.mStyleSheet;n.type="text/css",null!=n.styleSheet?n.styleSheet.cssText=i:null!=n.textContent?n.textContent=i:n.innerHTML=i,t&&e[0].appendChild(n);for(var r=0;r<this.registeredStyleSheetObjects.length;r++)this.registeredStyleSheetObjects[r].styleSheetsUpdated()}},omnis.prototype.registerStyleSheetObject=function(e){for(var t=0;t<this.registeredStyleSheetObjects.length;++t)if(e.uniqueID==this.registeredStyleSheetObjects[t].uniqueID)return;this.registeredStyleSheetObjects.push(e)},omnis.prototype.unregisterStyleSheetObject=function(e){for(var t=0;t<this.registeredStyleSheetObjects.length;++t)if(e.uniqueID==this.registeredStyleSheetObjects[t].uniqueID)return void this.registeredStyleSheetObjects.splice(t,1)},omnis.prototype.getColorString=function(e){return 1===jOmnis.omnisInsts.length?jOmnis.omnisInsts[0].theme.getColorString(e,0):(e>16777215&&(e=16777215),e<0&&(e=0),"rgb("+(255&e)+","+(e>>8&255)+","+(e>>16&255)+")")},omnis.prototype.getColorStringWithAlpha=function(e,t){return 1===jOmnis.omnisInsts.length?jOmnis.omnisInsts[0].theme.getColorString(e,0,t/255):(e>16777215&&(e=16777215),e<0&&(e=0),"rgba("+(255&e)+","+(e>>8&255)+","+(e>>16&255)+","+t/255+")")},omnis.prototype.getColorStringForElement=function(e,t,i,n){var r=document.createElement("div");r.className=t,r.style.visibility="hidden",e.appendChild(r);var s=window.getComputedStyle(r),o=new RGBColor(s[i]);return e.removeChild(r),n?"rgb("+o.r+","+o.g+","+o.b+");rgba("+o.r+","+o.g+","+o.b+","+o.a/255+")":"rgb("+o.r+","+o.g+","+o.b+")"},omnis.prototype.extractColor=function(e){if(null==e)return null;var t=e.indexOf(";");return-1==t?e:-1!=e.indexOf("0.00")?"transparent":e.substr(t+1)},omnis.prototype.extractSolidColor=function(e){var t=e.indexOf(";");if(-1!=t&&(e=e.substr(0,t)),e.length>0){if("#"==e[0])return e;if(-1!=e.indexOf("rgb(")){var i=e.replace(/rgb\(|\)/g,"").split(","),n=parseInt(i[0],10).toString(16),r=parseInt(i[1],10).toString(16),s=parseInt(i[2],10).toString(16);return"#"+(1==n.length?"0":"")+n+(1==r.length?"0":"")+r+(1==s.length?"0":"")+s}}return e},omnis.prototype.applyColorValueToColorPair=function(e,t){var i=e.indexOf(";");if(-1==i)return e;var n=e.substr(i+1);return this.getColorString(t)+";"+this.applyColorValueToColor(n,t)},omnis.prototype.applyColorValueToColor=function(e,t){var i=1;if(0===e.indexOf("rgb")){var n=e.replace(/rgba?\(|\)/g,"").split(",");void 0!==n[3]&&(i=parseFloat(n[3]))}return"rgba("+(255&t)+","+(t>>8&255)+","+(t>>16&255)+","+i+")"},omnis.prototype.applyAlphaValueToColorPair=function(e,t){var i=e.indexOf(";");if(-1==i)return e;var n=e.substr(0,i),r=e.substr(i+1);return n+";"+this.applyAlphaValueToColor(r,t)},omnis.prototype.applyAlphaValueToColor=function(e,t){var i=255,n=255,r=255;if(0===e.indexOf("rgb")){var s=e.replace(/rgba?\(|\)/g,"").split(",");i=parseInt(s[0],10),n=parseInt(s[1],10),r=parseInt(s[2],10)}return t<0?t=0:t>255&&(t=255),"rgba("+i+","+n+","+r+","+t/255+")"},omnis.prototype.setBackgroundFromOmnisDefinition=function(e,t,i){t=jOmnis.defaultParameter(t,"data-backgroundcolor"),i=jOmnis.defaultParameter(i,e);var n=e.getAttribute(t);if(null!=n){var r=n.split(";");i.style.backgroundColor=r[1]}},omnis.prototype.startup=function(){function e(){jOmnis.onLoad()}var t=jOmnis.getLocaleStringsURLs();t?jOmnis.loadResources(t,e,e,!0):e()},omnis.prototype.onLoad=function(){try{localStorage.getItem("OM_DEBUG")&&eval("debugger;")}catch(e){var locale=this.getClientLocale(),errorText=jGetOmnisString(null,"local_storage_unavailable_error",locale);if(errorText)return void alert(errorText)}if(document.addEventListener("visibilitychange",(function(){jOmnis.pageVisibilityChanged()})),this.inSafari()&&window.addEventListener("beforeunload",(function(){jOmnis.beforeUnload||jOmnis.disconnectInstances(!1)})),this.mQueryParams=this.getURLParameters(),jOmnis.mDesign=this.mQueryParams&&this.mQueryParams.omnisDesign?1*this.mQueryParams.omnisDesign:0,jOmnis.mDesign){jOmnis.mDesignUnq=this.mQueryParams.omnisUnq?1*this.mQueryParams.omnisUnq:0,jOmnis.mDesignTempList="__design_temp_list",jOmnis.mDesignAnimate=!1;var omnisPlat=this.mQueryParams?1*this.mQueryParams.omnisPlat:-1;1!==omnisPlat&&2!==omnisPlat||window.devicePixelRatio&&window.devicePixelRatio!=omnisPlat&&(document.body.style.transformOrigin="0 0",document.body.style.transform="scale("+omnisPlat/window.devicePixelRatio+")")}else jOmnis.mDesignUnq=0;function buildScreenSizes(e){for(var t=jOmnis.getAttributeList(e,"data-dss"),i=screenSizeEntries.length,n=0;n<t.length;++n){var r=t[n],s=possibleScreenSizes[r];if(!s)throw"Screen size not defined:"+t[n];if(!eScreenSize[r])throw"Screen size constant not defined:"+eScreenSize[r];if(screenSizeEntries.push({portrait:!0,width:s.width,height:s.height,id:i++,constant:eScreenSize[r]}),s.width!=s.height){if(r=r.replace("Portrait","Landscape"),!eScreenSize[r])throw"Screen size constant not defined:"+eScreenSize[r];screenSizeEntries.push({portrait:!1,width:s.height,height:s.width,id:i++,constant:eScreenSize[r]})}}}if(this.has100PercentHTMLElement="100%"===document.documentElement.style.width&&"100%"===document.documentElement.style.height,this.disconnectInstances(!1),this.setWindowDimensions(),this.lastOrientation=this.getScreenOrientation(),this.inFirefox())this.defaultBorderWidth=2;else{var input=document.createElement("INPUT");input.style.borderWidth="",input.style.borderStyle="",document.body.appendChild(input),this.defaultBorderWidth=(input.offsetWidth-input.clientWidth)/2,document.body.removeChild(input)}var div=document.createElement("DIV");div.className="ctrl-base-selected",document.body.appendChild(div),jStyles.setElem(div),this.defaultSelectedLineColor=jStyles.get("background-color"),this.defaultSelectedLineTextColor=jStyles.get("color"),jStyles.done(),document.body.removeChild(div),this.setKeyFunctions();for(var omnisElems=[],j=1;j<=100;++j){var y=document.getElementById("omnisobject"+j);if(null==y)break;omnisElems[j-1]=y}if(omnisElems.length){var load=function e(){buildScreenSizes(omnisElems[0]);var t=omnisElems[0].getAttribute("data-screensize");_this.calcScreenSize("window"==t);var n=_this.omnisInsts.length,r=omnisElems[i],s=new omnis_inst(n,r,"window"==t,omnisElems[i].getAttribute("data-commstimeout"));_this.omnisInsts[n]=s,s.inRequest?setTimeout(e,10):(s.connect(),++i<omnisElems.length?setTimeout(e,10):(jOmnis.hideOverlay(!0),sendDeviceRequest("formLoaded","",null),jOmnis.sendDOMEvent(window,"omnisReady",!1)))},loadOnceIdFound=function e(){jOmnis.mDeviceId.length>0?load():setTimeout(e,50)},i=0,_this=this;jOmnis.showOverlay(!0),this.inAppWrapper()&&!this.mDeviceId?(sendDeviceRequest("getID","jOmnis.mDeviceId = arg1",null),loadOnceIdFound()):load()}},omnis.prototype.reload=function(e,t){this.omnisInsts[0].disconnect(!0),this.omnisInsts[0].reloading=!0;var i=document.getElementById("omnisobject1"),n=i.cloneNode(!1);i.style.visibility="hidden",i.id="omnisobjectOld",n.id="omnisobject1",n.setAttribute(_omn_theme__WEBPACK_IMPORTED_MODULE_35__.O6,e),t&&(n.style.backgroundImage=t),i.before(n);var r=n.getAttribute("data-screensize"),s=this.omnisInsts.length,o=new omnis_inst(s,n,"window"==r,n.getAttribute("data-commstimeout"),this.omnisInsts[0]);this.omnisInsts[s]=o,o.connect()},omnis.prototype.pageVisibilityChanged=function(){if(this.omnisInsts.length){var e=document.hidden;this.omnisInsts.forEach((function(t){t.suspendedToCache||(e?t.suspend(omnis_inst.eTaskSuspendConditions.Inactive):t.resume(omnis_inst.eTaskSuspendConditions.Inactive))}))}},omnis.prototype.disconnectInstances=function(e){return this.omnisInsts.length&&(jOmnis.showOverlay(!0),this.omnisInsts.forEach((function(t){!e||!t.suspendConditions&omnis_inst.eTaskSuspendConditions.Cached?t.disconnect():t.suspend(omnis_inst.eTaskSuspendConditions.Cached)})),jOmnis.hideOverlay(!0),e||(this.omnisInsts=[],this.destroyedAllInsts=!0)),!0},omnis.prototype.resumeCachedInstances=function(){this.omnisInsts.length?(jOmnis.showOverlay(!0),this.omnisInsts.forEach((function(e){e.suspended?e.resume(omnis_inst.eTaskSuspendConditions.Cached):e.connect()})),jOmnis.hideOverlay(!0)):this.destroyedAllInsts&&window.location.reload()},omnis.prototype.loadResources=function(e,t,i,n){var r=0,s=this,o={successful:[],failed:[]};!function a(){r<e.length?s.loadResource(e[r++]).then((function(){o.successful.push(e[r-1]),a()})).catch((function(t){o.failed.push(e[r-1]),i&&!n?i():a()})):0===o.failed.length?t():i(o)}()},omnis.prototype.loadResource=function(e,t){var i;return document.omnisDynamicResources||(document.omnisDynamicResources={}),document.omnisDynamicResources[e]?i=document.omnisDynamicResources[e]:(i=new Promise((function(i,n){t||(e.indexOf(".js")>-1?t="JS":e.indexOf(".css")>-1?t="CSS":n("Resource url '"+e+"' not detected as .js or .css")),function(e,t,i,n){var r,s=setTimeout((function(){n("Timeout loading "+t)}),3e4);"JS"===e?(r=document.createElement("script")).src=t:"CSS"===e&&((r=document.createElement("link")).setAttribute("href",t),r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"));r.onload=function(){if(clearTimeout(s),r.sheet&&r.sheet.cssRules&&0===r.sheet.cssRules.length)return n(t);setTimeout((function(){i()}),0)},r.onerror=function(){clearTimeout(s),n(t)},document.head.appendChild(r)}(t,e,i,n)})),document.omnisDynamicResources[e]=i),i},omnis.prototype.calcScreenSize=function(e){if(this.mobileDevice&&(e=!1),_ssz__WEBPACK_IMPORTED_MODULE_31__.oM)e=!0;else if(this.mDesign&&this.mQueryParams.omnisSsz){this.curScreenSizeConst=this.mQueryParams.omnisSsz;for(var t=screenSizeEntries.length,i=0;i<t;i++){if((c=screenSizeEntries[i]).constant==this.curScreenSizeConst){this.curScreenSize=c.id;break}}return void(this.curScreenSize&&(document.body.style.overflow="hidden",this.savedBodyOverflow="hidden"))}var n,r=(e?window.innerWidth:screen.width)/jOmnis.sizeRatio,s=(e?window.innerHeight:screen.height)/jOmnis.sizeRatio;if(this.mobileDevice&&((n=this.inAppWrapper()?"landscape"==window.wrapperInterface.getOrientation():"orientation"in window?DetectBlackBerryTablet()||DetectBlackBerry()?0==window.orientation||180==window.orientation:90==Math.abs(window.orientation):window.innerWidth>window.innerHeight)&&r<s||!n&&r>s)){var o=r;r=s,s=o}if(r!=this.curScreenWidth||s!=this.curScreenHeight){this.curScreenWidth=r,this.curScreenHeight=s;var a=-1,l=eScreenSize.Desktop;if(!this.mobileDevice&&(r>=1024||s>=1024))a=0,l=eScreenSize.Desktop;else{var m=r<s,u=2147483647;for(t=screenSizeEntries.length,i=this.mobileDevice&&t>1?1:0;i<t;i++){var c;if((c=screenSizeEntries[i]).portrait==m||0==i||c.width==c.height){var h=Math.abs(this.curScreenWidth-c.width)+Math.abs(this.curScreenHeight-c.height);h<u&&(u=h,a=c.id,l=c.constant)}}-1==a&&(a=0,l=eScreenSize.Desktop)}this.curScreenSize=a,this.curScreenSizeConst=l}},omnis.prototype.portraitSize=function(e){return 0==e?0:screenSizeEntries[e].portrait?e:e-1},omnis.prototype.landscapeSize=function(e){return 0==e?0:screenSizeEntries[e].portrait?e+1:e},omnis.prototype.canFloatHorz=function(e,t){return 0!=e&&(0!=(e&WND_FLOAT_RIGHT)&&0==(e&WND_FLOAT_LEFT)?!t:!!t&&(e==WND_WC_TOOLBAR_LEFT||e==WND_WC_TOOLBAR_RIGHT||e==WND_WC_VERT_HEADER||e==WND_WC_CLIENT))},omnis.prototype.canFloatVert=function(e,t){return 0!=e&&(0!=(e&WND_FLOAT_BOTTOM)&&0==(e&WND_FLOAT_TOP)?!t:!!t&&(e==WND_WC_MENUBAR||e==WND_WC_TOOLBAR_TOP||e==WND_WC_STATUSBAR||e==WND_WC_TOOLBAR_BOTTOM||e==WND_WC_MAIN_HEADER||e==WND_WC_HORZ_HEADER||e==WND_WC_CLIENT||e==WND_WC_HORZ_FOOTER))},omnis.prototype.getOmnisInst=function(e){if(e>=0&&e<this.omnisInsts.length)return this.omnisInsts[e];if(this.mDesign)for(var t=0;t<this.omnisInsts.length;++t){var i=this.omnisInsts[t];if(!i.reloading)return i}return null},omnis.prototype.getOmnisForm=function(e,t){var i=this.getOmnisInst(e);return i?i.formGet(t):null},omnis.prototype.getOmnisFormControl=function(e,t,i){var n=this.getOmnisForm(e,t);return n?n.findChildUID(i):null},omnis.prototype.handleEvent=function(e,t,i,n){try{if(this.modalDialogOpen&&"focus"==e.type){for(var r=this.getEventCurrentTarget(e),s=r,o=!1;null!=s&&"dialog"!=s.id&&"dialogfile_uploadform"!=s.id;)s=s.parentNode;if(null==s?(r.blur(),this.lastModalDialogFocus&&this.lastModalDialogFocus.focus()):"dialogfile_uploadform"===s.id&&(o=!0),this.lastModalDialogFocus=s,!o)return!0}var a;if(this.currentEvent=e,this.eventCurrentTarget=t,3==arguments.length)a=this.getOmnisForm(this.instIndexFromIdent(i),this.formIndexFromIdent(i));else{if((a=this.getOmnisFormControl(this.instIndexFromIdent(i),this.formIndexFromIdent(i),n))&&!a.isActive())return;a&&a.rowNumber&&a.rowCtrl.setLineNumber(a.rowNumber)}a&&(this.relatedObject=a,a.handleEvent(e),this.relatedObject=null),this.currentEvent=null}catch(e){this.handleError(e)}},omnis.prototype.sendDOMEvent=function(e,t,i){var n=this.createDOMEvent(t,i);e.dispatchEvent(n)},omnis.prototype.createDOMEvent=function(e,t){var i;try{i=new Event(e,{bubbles:!!t})}catch(n){(i=document.createEvent("Event")).initEvent(e,!!t,!0)}return i.isArtificial=!0,i},omnis.prototype.getEventCurrentTarget=function(e){return e.currentTarget?e.currentTarget:this.eventCurrentTarget?this.eventCurrentTarget:e.srcElement},omnis.prototype.getNextBlurElem=function(e,t){var i;if(i=e.explicitOriginalTarget?e.explicitOriginalTarget:jOmnis.inIE11OrLater()||jOmnis.inOpera()?document.activeElement:e.relatedTarget||e.toElement,t)return i;for(;i&&!i.omnisObject;)i=i.parentNode;return i},omnis.prototype.handleEventPreventDefault=function(e,t){return(t=this.defaultParameter(t,!1))&&(e.cancelBubble=!0),e.preventDefault(),"mouseover"===e.type},omnis.prototype.checkServerComms=function(e){return!!this.mKeepKeysEnabled||(!(this.mDisableKeyboard||null!=this.overlay&&!jOmnisMenuHandler.isContextMenuOpen())||(this.stopEventNow(e),!1))},omnis.prototype.canTabToObject=function(e,t){return e?e instanceof ctrl_cgrid||e instanceof ctrl_subform?e.getNextPrevTabObject(null,t):e.canTabToObject():null},omnis.prototype.recordKeyStates=function(e){this.shiftKey=e.shiftKey,this.altOrOptionKey=e.altKey,this.cmdKey=e.metaKey?e.metaKey:e.ctrlKey,this.ctrlKey=e.ctrlKey},omnis.prototype.setKeyFunctions=function(){document.body.onkeydown=function(e){jOmnis.recordKeyStates(e)},document.body.onkeypress=function(e){jOmnis.recordKeyStates(e)},document.body.onblur=function(e){jOmnis.shiftKey=jOmnis.altOrOptionKey=jOmnis.cmdKey=jOmnis.ctrlKey=!1},document.body.onkeyup=function(e){if(jOmnis.recordKeyStates(e),0==jOmnis.modalDialogOpen){var t=e.keyCode||e.which;if(27==t||13==t){var i=null,n=document.activeElement;if(null!=n){for(;null!=n.parentNode&&null==n.omnisObject&&null==n.formObj;)n=n.parentNode;i=n.omnisObject||n.formObj}if(null!=i){var r=function(e){var t=e?"okObject":"cancelObject",n=i instanceof ctrl_subform,r=n?i.form.getSubform(i.subformIndex):i.form,s=r[t];if(!s&&n)for(;r&&!s&&!(null===(o=r.subFormObj)||void 0===o?void 0:o.mSFS);){var o;s=(r=r.parentForm)[t]}return s};if(27==t){if((!i.mAcceptsEscape||i.sendNextCancelEvent)&&!i.form.inst.preventOkCancelKeyObject){var s=r(!1);s&&!s.elem.disabled&&(i.mSendChangeOnOkCancel&&!i.elem.disabled&&(jOmnis.eventCurrentTarget=i.getClientElem(),i.handleEvent(jOmnis.createDOMEvent("change"))),jOmnis.eventCurrentTarget=s.getClientElem(),s.handleEvent(jOmnis.createDOMEvent(s.okKeyEventName))),i.sendNextCancelEvent=!1}}else if((!i.mAcceptsReturn||i.sendNextOkEvent)&&!i.form.inst.preventOkCancelKeyObject){i.mSendChangeOnOkCancel&&!i.elem.disabled&&(jOmnis.eventCurrentTarget=i.getClientElem(),i.handleEvent(jOmnis.createDOMEvent("change")));var o=r(!0);o&&!o.elem.disabled&&window.setTimeout((function(){jOmnis.eventCurrentTarget=o.getClientElem(),jOmnis.sendDOMEvent(o.getClientElem(),o.okKeyEventName)}),0),i.sendNextOkEvent=!1}i.form.inst.preventOkCancelKeyObject=!1}}}}},omnis.prototype.stopEventNow=function(e){"keydown"!=e.type&&"keypress"!=e.type&&"keyup"!=e.type||this.recordKeyStates(e),e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.handleEventPreventDefault(e)},omnis.prototype.getScreenOrientation=function(){return jOmnis.inAppWrapper()&&wrapperInterface.orientation?wrapperInterface.getOrientationConstant():screen.orientation&&screen.orientation.type?screen.orientation.type.indexOf("portrait")>-1?jOmnis.eScreenOrientation.Portrait:jOmnis.eScreenOrientation.Landscape:void 0!==window.orientation?90===Math.abs(+window.orientation)?jOmnis.eScreenOrientation.Landscape:jOmnis.eScreenOrientation.Portrait:this.curWindowWidth>this.curWindowHeight?jOmnis.eScreenOrientation.Landscape:jOmnis.eScreenOrientation.Portrait},omnis.prototype.handleOrientationChange=function(e,t){if(this.orientationChangeTimeout&&(clearTimeout(this.orientationChangeTimeout),this.orientationChangeTimeout=null),this.orientationChangeMayNotHaveCorrectSizes){if(window.innerWidth!==this.lastWindowWidth||window.innerHeight!==this.lastWindowHeight)return this.lastWindowWidth=window.innerWidth,this.lastWindowHeight=window.innerHeight,void(this.orientationChangeTimeout=setTimeout((function(){jOmnis.handleOrientationChange(e,t)}),200))}else if(this.requiresOrientationChecking){if(-1!==this.lastOrientation&&this.lastOrientation==window.orientation)return void(this.orientationChangeTimeout=setTimeout((function(){jOmnis.handleOrientationChange({},t)}),500));this.lastOrientation=window.orientation}this.setWindowDimensions();var i=this.getScreenOrientation();if(!t||i!==this.lastOrientation){this.lastOrientation=i,document.body&&(document.body.scrollLeft=document.body.scrollTop=0);for(var n=0;n<this.omnisInsts.length;n++)0===n&&this.calcScreenSize(this.omnisInsts[n]),this.omnisInsts[n].handleOrientationChange(e)}},omnis.prototype.handleResize=function(e){var t=document.getElementById("dialog_mask");t&&doSizeDialogMask(t);var i=this.getWindowClientSize(),n=this.getWindowClientScroll(),r=document.getElementById("dialog");r&&(r.style.left=(i.width-r.offsetWidth)/2+"px",r.style.top=(i.height-r.offsetHeight)/2+"px");var s=document.getElementById("dialogfile_uploadform");s&&(s.style.left=(i.width-s.offsetWidth)/2+"px",s.style.top=(i.height-s.offsetHeight)/2+"px");var o=document.getElementById("dialogfile_overlay");o&&(o.style.width=i.width+n.XOffset-20+"px",o.style.height=i.height+n.YOffset-20+"px");var a=document.querySelector(".omnis-picker-modal-open, .omnis-calendar-modal-open");a&&a.omnisObject&&a.omnisObject.sizeChanged(),jOmnis.setWindowDimensions();for(var l=0;l<jOmnis.omnisInsts.length;l++){var m=jOmnis.omnisInsts[l],u=m.formGet(-1);u&&(u.isResponsive||u.resizeMode)&&(m.mResizeTimeout||function(e,t){e.mResizeTimeout=setTimeout((function(){e.layoutComponents=[],t.applyResizeMode(),e.doLayoutComponents(),e.mResizeTimeout=null}),200)}(m,u))}},omnis.prototype.setWindowDimensions=function(){if(jOmnis.inAppWrapper()&&wrapperInterface.firesResizeEvents)this.curWindowWidth=wrapperInterface.width,this.curWindowHeight=wrapperInterface.height;else if(this.has100PercentHTMLElement){var e=document.documentElement.getBoundingClientRect();this.curWindowWidth=e.width,this.curWindowHeight=e.height}else this.curWindowWidth=window.innerWidth,this.curWindowHeight=window.innerHeight},omnis.prototype.showDialogEx=function(e,t,i,n,r,s,o,a,l,m,u,c,h){showDialog(e,t,i,n,r,s,o,a,l,m,u,c,h)},omnis.prototype.okMessage=function(e,t,i){showDialog(e,t,"message",0,0,null,!1,!0,!1,new Array(new button(this.okString,!0,"")),null,i,!1)},omnis.prototype.handleError=function(e,t,i){t||(t=this.omnisInsts[0]),"string"==typeof e&&(i||(i=e),e=new Error(e));var n=i||jGetExceptionText(t,e),r=jOmnis.relatedObject;r&&(r instanceof ctrl_base?n+="\n////Related Control: "+r.form.omnisclass+"."+r.objName+"//\n":r instanceof omnis_form&&(n+="\n////Related Form: "+r.omnisclass+"//\n"));var s=new Date,o="".concat(s.getHours(),":").concat(s.getMinutes(),":").concat(s.getSeconds(),".").concat(s.getMilliseconds());console.group("Error: ".concat(n.replaceAll("////"," ").replaceAll("//"," ")," %c(at ").concat(o,")"),"font-style: italic; font-weight: lighter;");try{var a=error_stack_parser__WEBPACK_IMPORTED_MODULE_36___default().parse(e);try{a.forEach((function(e){console.log("%c ".concat(e.getFunctionName()," %c -- ").concat(e.getSource().trim()),"font-weight: bold; color: white; background-color: rgb(163,9,69);","color: auto; background-color: auto;")}))}catch(e){}console.groupEnd()}catch(e){}"undefined"!=typeof stack&&stack.length>0?n+="//("+stack[0].functionName+")":e instanceof ErrorEvent&&(n+="////"+e.filename.replace(/http[s]*:\/\//,"")+"//line: "+e.lineno+" col: "+e.colno),this.okMessage(jGetOmnisString(t,"error"),n),jOmnis.mDesign&&setTimeout((function(){destroyDialog()}),5e3)},omnis.prototype.getScrollbarWidth=function(){if(void 0===this.mScrollbarWidth){var e=document.createElement("div");e.style.width=e.style.height="100px",e.style.overflow="auto",e.style.visibility="hidden";var t=document.createElement("div");t.style.width=t.style.height="150px",e.appendChild(t),document.body.appendChild(e),this.mScrollbarWidth=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return this.mScrollbarWidth},omnis.prototype.setOpacity=function(e,t){var i=null==t?1:t/255;e.style.opacity=i},omnis.prototype.showOverlay=function(e,t,i){this.hideOverlay();var n=this.overlayManager.addOverlay("",i,"",_loading_overlay__WEBPACK_IMPORTED_MODULE_29__.Z.STANDARD_OVERLAY_CLASS);return this.isServerComms=e,!e||t&&!this.overlayLock||null!=this.overlayTimer||(this.overlayTimer=setTimeout((function(){jOmnis.overlayTimer=null,jOmnis.overlay&&(jOmnis.makeOverlayActivityIndicatorVisible(),jOmnis.overlay.style.cursor="wait")}),1e3)),n},omnis.prototype.createUniqueMaskID=function(){if(jOmnis.dialogMaskIDs||(jOmnis.dialogMaskIDs=[]),jOmnis.dialogMaskIDs.length<1)var e=1;else t=jOmnis.dialogMaskIDs,e=Math.max.apply(null,t)+1;var t;return jOmnis.dialogMaskIDs.push(e),e},omnis.prototype.removeDialogMaskID=function(e){var t=jOmnis.dialogMaskIDs.indexOf(e);t>-1&&jOmnis.dialogMaskIDs.splice(t,1)},omnis.prototype.getPopupZIndex=function(e,t){if(t||(t=0),e&&e.subFormObj){if(e.subFormObj.dialogMask)var i=!0;else for(;e.parentForm&&e.subFormObj;){if(e.subFormObj.dialogMask){i=!0;break}e=e.parentForm}if(i)return+e.subFormObj.dialogMask.style.zIndex+1+t+""}return _omn_dlg__WEBPACK_IMPORTED_MODULE_33__.VB+t+""},omnis.prototype.makeOverlayActivityIndicatorVisible=function(){this.overlay&&(this.overlay.style[this.transitionTimingFunctionProperty]="ease-in",this.overlay.style[this.transitionDurationProperty]="2000ms",this.overlay.style[this.transitionProperty]="opacity",this.setOpacity(this.overlay,255))},omnis.prototype.hideOverlay=function(e){this.overlay&&0==this.overlayLock&&(null!=this.overlayTimer&&(clearTimeout(this.overlayTimer),this.overlayTimer=null),this.isServerComms=!1,this.overlayManager.removeOverlay())},omnis.prototype.lockOverlay=function(e){e?++this.overlayLock:this.overlayLock>0&&--this.overlayLock},omnis.prototype.startTranslateAnimation=function(e,t,i,n,r,s){r&&this.animationsInProgress.push(new omnisAnimation(r,e,this.transitionEndEvent)),e.style[this.transitionProperty]=this.transformPropertyValue,e.style[this.transitionTimingFunctionProperty]=s||this.defaultTiming,e.style[this.transitionDurationProperty]=n+"ms",e.style[this.transformOriginProperty]="0% 0%",e.style[this.transformProperty]=this.usewktranslate?wk_translateOpen+t+"px,"+i+"px"+wk_translateClose:"translate("+t+"px,"+i+"px)"},omnisAnimation.prototype.handleEvent=function(e){if(e.type==this.systemEventType&&e.target===this.elem){document.removeEventListener(this.systemEventType,this,!1),this.ctrl.mTranslateAnimationFinished=!0,this.ctrl.handleEvent(e),this.ctrl.mTranslateAnimationFinished=!1;for(var t=0;t<jOmnis.animationsInProgress.length;++t)if(jOmnis.animationsInProgress[t].animationId==this.animationId){jOmnis.animationsInProgress.splice(t,1);break}}},omnis.prototype.addSwipeListener=function(e,t,i,n,r){var s,o;function a(t){e.removeEventListener(jOmnis.touchMoveEvent,l),e.removeEventListener(jOmnis.touchEndEvent,m),s=null,t&&i(0,r)}function l(t){jOmnis.touchDevice&&t.touches.length>1?(a(!0),n({target:e,offset:o,cancelled:!0})):(t.preventDefault(),o=(jOmnis.touchDevice?t.touches[0].pageX:t.pageX)-s,i(-o,0))}function m(t){a(!1),n({target:e,offset:o})}(this.touchDevice||this.desktopBrowserTesting&&window.addEventListener)&&e.addEventListener(this.touchStartEvent,(function(i){o=0,jOmnis.touchDevice&&1!=i.touches.length||!t(i)||(s=jOmnis.touchDevice?i.touches[0].pageX:i.pageX,e.addEventListener(jOmnis.touchMoveEvent,l,!1),e.addEventListener(jOmnis.touchEndEvent,m,!1))}),!1)},omnis.prototype.setFontSize=function(e,t){e.style.fontSize=0==t?"medium":t+"pt"},omnis.prototype.getElemPosRelativeToAncestor=function(e,t){var i={x:0,y:0,w:0,h:0};if(null==e||e==document.body)return i;null==t&&(t=document.body);var n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return i.x=n.left-r.left,i.y=n.top-r.top,i.w=n.width,i.h=n.height,i},omnis.prototype.getWrapperDimensions=function(e,t,i){if(!this.inAppWrapper())throw"getWrapperDimensions() called while not in wrapper app";var n={Width:0,Height:0,Left:0,Top:0,floatControls:window.wrapperInterface.getFloatControls(),canScrollH:window.wrapperInterface.getCanScrollH(),canScrollV:window.wrapperInterface.getCanScrollV()},r=window.wrapperInterface.getScreenHeight(),s=window.wrapperInterface.getScreenWidth();s/=this.devicePixelRatio,r/=this.devicePixelRatio;var o=window.wrapperInterface.getStatusBarHeight();n.Width=Math.floor(s),n.Height=Math.floor(r-o);var a=i.mPositionInfo.getLayoutInfo(e);return n.floatControls||(n.Left=Math.floor(n.canScrollH?0:Math.max(0,(n.Width-a.width)/2)),n.Top=Math.floor(n.canScrollV?0:Math.max(0,(n.Height-a.height)/2))),n},omnis.prototype.setDefaultDateFormatCustom=function(e){this.mDefaultDateFormatCustom=e+""},omnis.prototype.getDefaultDateFormatCustom=function(){return null==this.mDefaultDateFormatCustom||0==this.mDefaultDateFormatCustom.length?"D m y":this.mDefaultDateFormatCustom},omnis.prototype.getLocaleTimeFormat=function(){return this.mLocaleTimeFormat},omnis.prototype.getLocaleShortDateFormat=function(){return this.mLocaleShortDateFormat},omnis.prototype.getLocaleShortDateTimeFormat=function(){return this.mLocaleShortDateTimeFormat},omnis.prototype.getLocaleMediumDateFormat=function(){return this.mLocaleMediumDateFormat},omnis.prototype.getLocaleMediumDateTimeFormat=function(){return this.mLocaleMediumDateTimeFormat},omnis.prototype.getLocaleLongDateFormat=function(){return this.mLocaleLongDateFormat},omnis.prototype.getLocaleLongDateTimeFormat=function(){return this.mLocaleLongDateTimeFormat},omnis.prototype.getLocaleFullDateFormat=function(){return this.mLocaleFullDateFormat},omnis.prototype.getLocaleFullDateTimeFormat=function(){return this.mLocaleFullDateTimeFormat},omnis.prototype.getDateFormat=function(e,t){switch(e){case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_37__.i8.none:return null;case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_37__.i8.time:return this.getLocaleTimeFormat();case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_37__.i8.shortdate:return this.getLocaleShortDateFormat();case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_37__.i8.shortdatetime:return this.getLocaleShortDateTimeFormat();case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_37__.i8.mediumdate:return this.getLocaleMediumDateFormat();case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_37__.i8.mediumdatetime:return this.getLocaleMediumDateTimeFormat();case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_37__.i8.longdate:return this.getLocaleLongDateFormat();case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_37__.i8.longdatetime:return this.getLocaleLongDateTimeFormat();case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_37__.i8.fulldate:return this.getLocaleFullDateFormat();case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_37__.i8.fulldatetime:return this.getLocaleFullDateTimeFormat();case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_37__.i8.custom:return t&&t.length>0?t:this.getDefaultDateFormatCustom()}return null},omnis.prototype.showModalDialog=function(){++this.modalDialogOpen},omnis.prototype.hideModalDialog=function(){--this.modalDialogOpen,this.lastModalDialogFocus=null},omnis.prototype.trim=function(e,t){return this.ltrim(this.rtrim(e,t),t)},omnis.prototype.ltrim=function(e,t){return t=t||"\\s",e.replace(new RegExp("^["+t+"]+","g"),"")},omnis.prototype.rtrim=function(e,t){return t=t||"\\s",e.replace(new RegExp("["+t+"]+$","g"),"")},omnis.prototype.parseJSON=function(e){return JSON.parse(e,(function(e,t){if(t&&"object"==_typeof(t)){if(t.lstRow||t.lstData||t.lstDef)return new omnis_raw_list(t);if(null!=t.dtY||null!=t.dtH)return new omnis_date(t)}return t}))},omnis.prototype.escapeHTML=function(e,t,i,n){function r(e){return n?"<span class='".concat(n,"'>").concat(e,"</span>"):e}if(!e)return"";if("string"!=typeof e)return e;if(-1!=e.search(/[&<>\'\"]/)&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\'/g,"&#39;").replace(/\"/g,"&quot;")),!t)return r(e);function s(e,t){var i="<span style='";return null!=e&&(i+="string"==typeof e?"color:"+e+";":"color:"+jOmnis.getColorString(e)+";"),null!=t&&(i+="font-weight:"+(t&_controls_ctl_base__WEBPACK_IMPORTED_MODULE_37__.g.bold?"bold;":"normal;"),i+="font-style:"+(t&_controls_ctl_base__WEBPACK_IMPORTED_MODULE_37__.g.italic?"italic;":"normal;"),i+="text-decoration:"+jOmnis.fontStyleToTextDecoration(t)+";"),i+="'>"}for(var o,a,l,m=!1,u="";;){var c=e.search(/\x1b./);if(-1==c){m?u=r(u+e):u+=r(e);break}u+=e.substr(0,c);var h=(e=e.substr(c)).substr(1,1);switch(h){case"":case"":if(2!=e.search(/([0-9]|[A-F]){8}#/))throw jGetOmnisException(this.omnisInsts[0],"omnis_badstyleesc");i||(l&&(u+="</span>"),h==String.fromCharCode(1)?o=parseInt(e.substr(2,8),16):a=parseInt(e.substr(2,8),16),u+=s(o,a),l=!0),e=e.slice(11);break;case"\b":l&&(u+="</span>");var d=e.indexOf("#"),f=jIcons.selectIcon(e.substring(2,d));f=f.replace(/&amp;/g,"&");var p="";if(jIcons.isSVG(f))p=o?"--om-tint-color:".concat(this.getColorString(o),";"):"";else p="vertical-align:top";u=r(u)+jIcons.getHtml(f,"1px",null,p),l&&(u+=s(o,a)),e=e.slice(d+1);break;case"":if(-1==(_=e.indexOf("#")))throw jGetOmnisException(this.omnisInsts[0],"omnis_badhtmlesc");if(!i){var g=e.substr(2,_-2);u+=s(g=g.replaceAll("@","#"),a)}e=e.slice(_+1);break;case"2":u+="<br>",m=!0,e=e.slice(2);break;case"3":var _;if(-1==(_=e.indexOf("#")))throw jGetOmnisException(this.omnisInsts[0],"omnis_badhtmlesc");var y=parseInt(e.substr(2,_-2),16);u+=this.unescapeHTMLEx(e.substr(_+1,y)),e=e.slice(_+1+y);break;case"4":l&&(u+="</span>",l=!1),o=a=null,e=e.slice(2);break;default:throw jGetOmnisException(this.omnisInsts[0],"omnis_escnotsupp")}}return l&&(u+="</span>"),u},omnis.prototype.unescapeHTML=function(e){return e?"string"!=typeof e?e:e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#39;/g,"'").replace(/&quot;/g,'"'):""},omnis.prototype.escapeHTMLEx=function(e){return e?("string"!=typeof e||-1!=e.search(/[&<>\'\"]/)&&(e=e.replace(/&/g,"").replace(/</g,"").replace(/>/g,"").replace(/\'/g,"").replace(/\"/g,"")),e):""},omnis.prototype.unescapeHTMLEx=function(e){return e?"string"!=typeof e?e:e.replace(/\x01/g,"&").replace(/\x02/g,"<").replace(/\x03/g,">").replace(/\x04/g,"'").replace(/\x05/g,'"'):""},omnis.prototype.stripStyles=function(e){if(!e)return"";if("string"!=typeof e)return"number"==typeof e?e+"":"object"===_typeof(e)?e.toString():e;for(var t="";;){var i=e.search(/\x1b./);if(-1==i){t+=e;break}switch(t+=e.substr(0,i),(e=e.substr(i)).substr(1,1)){case"":case"":if(2!=e.search(/([0-9]|[A-F]){8}#/))throw jGetOmnisException(this.omnisInsts[0],"omnis_badstyleesc");e=e.slice(11);break;case"\b":case"":var n=e.indexOf("#");e=e.slice(n+1);break;case"2":case"4":e=e.slice(2);break;case"3":var r=e.indexOf("#");if(-1==r)throw jGetOmnisException(this.omnisInsts[0],"omnis_badhtmlesc");var s=parseInt(e.substr(2,r-2),16);e=e.slice(r+1+s);break;default:throw jGetOmnisException(this.omnisInsts[0],"omnis_escnotsupp")}}return t},omnis.prototype.fontStyleToTextDecoration=function(e){return e&_controls_ctl_base__WEBPACK_IMPORTED_MODULE_37__.g.underline&&e&_controls_ctl_base__WEBPACK_IMPORTED_MODULE_37__.g.linethrough?"underline line-through":e&_controls_ctl_base__WEBPACK_IMPORTED_MODULE_37__.g.underline?"underline":e&_controls_ctl_base__WEBPACK_IMPORTED_MODULE_37__.g.linethrough?"line-through":"none"},omnis.prototype.getCssFontStyle=function(e){var t="font-weight: ".concat(e&_controls_ctl_base__WEBPACK_IMPORTED_MODULE_37__.g.bold?"bold":"normal",";");return t+="font-style: ".concat(e&_controls_ctl_base__WEBPACK_IMPORTED_MODULE_37__.g.italic?"italic":"normal",";"),t+="text-decoration: ".concat(this.fontStyleToTextDecoration(e),";")},omnis.prototype.setSingleTimeout=function(e,t,i,n){e[t]&&window.clearTimeout(e[t]),i&&(e[t]=window.setTimeout((function(){e[t]=null,i.call(e)}),n))},omnis.prototype.parseCommaSeparatedList=function(e){for(var t,i=[],n=!1,r=0,s=0,o=0;t=e[o];o++)"\\"!==t?(","===t?n||(a(e.slice(s,o)),s=o+1):"'\"".indexOf(t)>-1&&!r&&(t===n?n=!1:n||(n=t)),r=0):r^=1;if(n)throw SyntaxError("expected matching "+n);return s<o&&a(e.slice(s,o)),i;function a(e){try{if(e.length){var t=e.substr(0,1);return'"'==t||"'"==t?i.push(e.substr(1,e.length-2)):i.push(+e)}}catch(e){}i.push(e)}},omnis.prototype.inIE11OrLater=function(){return null!=this.mInIE11OrLater||(this.mInIE11OrLater=!!navigator.userAgent.match(/Trident\/7.0.*rv:11.0/)),this.mInIE11OrLater},omnis.prototype.inEdge=function(){return null==this.mInEdge&&(this.mInEdge=!!navigator.userAgent.match(/Edge\//)),this.mInEdge},omnis.prototype.inChrome=function(){return null==this.mInChrome&&(this.mInChrome=!!window.chrome&&/google/i.test(navigator.vendor)),this.mInChrome},omnis.prototype.inMS=function(){return null==this.mInMS&&(this.mInMS=this.inEdge()||this.inIE11OrLater()),this.mInMS},omnis.prototype.inSafari=function(){if(null==this.mInSafari){var e=navigator.userAgent.toLowerCase();this.mInSafari=-1!==e.indexOf(" safari/")&&-1===e.indexOf(" chrom")&&null!==e.match(/ version\/([\w.]+)/gi),this.mInSafari&&(this.mSafariVersion=parseFloat(e.match(/ version\/([\w.]+)/gi)[0].split("/")[1]))}return this.mInSafari},omnis.prototype.safariVersion=function(){return null==this.mInSafari&&this.inSafari(),this.mSafariVersion},omnis.prototype.inFirefox=function(){return null!=this.mInFirefox||(this.mInFirefox=-1!=navigator.userAgent.toLowerCase().indexOf("firefox")),this.mInFirefox},omnis.prototype.inOpera=function(){if(null!=this.mInOpera)return this.mInOpera;this.mInOpera=!1;try{this.mInOpera=void 0!==document.body.style.OTransition}catch(e){}return this.mInOpera},omnis.prototype.setYesNoOkCancel=function(e){if(e){var t=e.split("|");this.yesString=t[0],this.noString=t[1],this.okString=t[2],this.cancelString=t[3],this.dpChar=t[4],this.thouChar=t[5],""==this.thouChar&&(this.thouChar=" "),this.ordinalDateSuffixes=t[6];var i=this.yesString.substr(0,1),n=this.noString.substr(0,1);i==n?(this.yesAccel=null,this.noAccel=null):(this.yesAccel=i,this.noAccel=n)}},omnis.prototype.getMethod=function(e,t,i){var n=e.mMethodMapArray?e.mMethodMapArray[i+1]:null;if(n&&t in n){if(null==n[t])return null;if(-1!=i)return e.form.curInhLevel=i,n[t];var r=n[t];if(null!=r)return e.form.curInhLevel=r,(n=e.mMethodMapArray[r+1])[t]}e.mMethodMapArray||(e.mMethodMapArray=[]),n||(n={},e.mMethodMapArray[i+1]=n);var s=e.form,o=s.omnislib+"_"+s.omnisclass+"_";if(e.objNumber&&(o+=e.objNumber+"_"),o+=t,o=(o+="_").toLowerCase().replace(/./g,(function(e){return e>="a"&&e<="z"||e>="0"&&e<="9"||"_"==e||"$"==e?e:"_"})),-1!=i){if(e[o+=i])return e.form.curInhLevel=i,n[t]=o,o}else for(var a=0;a<=10;++a)if(e[o+a])return o+=a,n[t]=a,e.form.curInhLevel=a,(n=e.mMethodMapArray[a+1])||(n={},e.mMethodMapArray[a+1]=n),n[t]=o,o;return n[t]=null,null},omnis.prototype.doMethod=function(e,t,i,n){var r,s,o,a=this.currentForm,l=t.form.curInhLevel,m=eAnums.none;switch(e){case eAnums.priv:null!=(s=this.getMethod(t,i,t.form.curInhLevel))?o=t:t!=t.form&&(s=jOmnis.getMethod(t.form,i,t.form.curInhLevel),o=t.form);break;case eAnums.$cfield:s=this.getMethod(t,i,-1),o=t,m=eAnums.$cfield;break;case eAnums.$cinst:s=this.getMethod(t.form,i,-1),o=t.form,m=eAnums.$cinst;break;case eAnums.$cwind:var u=t.form.$cwind();s=this.getMethod(u,i,-1),this.currentForm=u,o=u,m=eAnums.$cwind}if(null!=s)r=o[s].apply(o,Array.prototype.slice.call(arguments,4));else if(n&eDoMethodFlags.clientOnly){if(r=null,0==(n&eDoMethodFlags.noLog)&&!sMissingMethods[i]){sMissingMethods[i]=!0;var c="Client-executed method '"+i+"' not found";if(a.inst.offlinemode)throw new Error(c);a.inst.designServer&&jOmnis.log(c)}}else{var h=new omnis_list(null),d=h.addRow(0);h.setData(eSMinfoCols.recipient,d,m,!0),h.setData(eSMinfoCols.anum1,d,i,!0),h.setData(eSMinfoCols.anum2,d,eAnums.none,!0),h.setData(eSMinfoCols.minLevel,d,t.form.curInhLevel,!0);for(var f=4;f<arguments.length;++f)d=h.addRow(0),h.setData(1,d,arguments[f],!0);r=t.form.inst.sendMethod(this.currentForm.index,1*t.objNumber,h.getListData(),n&eDoMethodFlags.completionEvent?i+"_return":null)}return t.form.curInhLevel=l,this.currentForm=a,r},omnis.prototype.discardEvent=function(){this.mClientEventDiscarded=!0,this.currentEvent&&jOmnis.stopEventNow(this.currentEvent)},omnis.prototype.soundBell=function(){this.getOmnisInst(0).playSound(["beep.wav","beep.mp3"])},omnis.prototype.getHashCT=function(){this.ctBaseDate||(this.ctBaseDate=new Date(2011,10,1,0,0,0,0));var e=new Date-this.ctBaseDate;return Math.round(e/1e3*60)},omnis.prototype.cToChar=function(e){if(null==e)return"NULL";if("string"==typeof e)return e;if("number"==typeof e)return"."!=this.dpChar?(e+"").replace(".",jOmnis.dpChar):e+"";if("object"==_typeof(e)){if(e instanceof omnis_date){var t=e.toJavaScriptDate();return e=t.dateFormat(e.getFormat(),null,null!=e.dtH)}}else if("boolean"==typeof e)return e?this.yesString:this.noString;return e+""},omnis.prototype.isInteger=function(e){return"string"==typeof e&&(e=e.replace(/^0*/,"")),parseFloat(e)==parseInt(e,10)&&!isNaN(e)},omnis.prototype.getValue=function(e,t){return e.getValue(t)},omnis.prototype.setValue=function(e,t,i){return e.setValue(t,i)},omnis.prototype.getProperty=function(e,t){return e.getProperty(t)},omnis.prototype.setPropCli=function(e,t,i){return e.setPropCli(t,i)},omnis.prototype.getSelected=function(e){return e.getSelected()},omnis.prototype.setSelected=function(e,t){return e.setPropCli(eListProperties.selected,t)},omnis.prototype.copyValue=function(e){var t,i,n;if(null!=e)if(e instanceof omnis_raw_list)(t={lstRow:e.lstRow,lstDef:e.lstDef,lstData:e.lstData}).lstRow||(t.lstLSEL=[],t.lstL=e.lstL,e.lstLSEL&&(t.lstLSEL=e.lstLSEL)),t=this.parseJSON(JSON.stringify(t,(function(e,t){if(!(e.length>2&&e.startsWith("__")&&this[e]instanceof Object))return t}))),i=e.__form,n=e.__obj,(e=t).__form=i,e.__obj=n;else if(e instanceof omnis_date)e=new omnis_date(e);else if(e instanceof omnis_list_row)if(e.mList&&e.mList.lstData&&e.mRowNumber>=1&&e.mRowNumber<=e.mList.lstData.length){var r=e.mList.lstRow?e.mList.lstData:e.mList.lstData[e.mRowNumber-1];t={lstRow:1,lstDef:e.mList.lstDef,lstData:r},t=this.parseJSON(JSON.stringify(t,(function(e,t){if(!(e.length>2&&e.startsWith("__")&&this[e]instanceof Object))return t}))),i=e.mList.__form,n=e.mList.__obj,(e=t).__form=i,e.__obj=n}else e=null;return e},omnis.prototype.convertDataType=function(e,t,i,n,r,s){if(null==e)return e;switch(t){case eOmnisDataTypes.fftCharacter:if("string"!=typeof e)if("number"==typeof e)e+="";else if("boolean"==typeof e)e=e?jOmnis.yesString:jOmnis.noString;else if(e instanceof omnis_date){e.dateComps=s;var o=e.toJavaScriptDate();e=o.dateFormat(e.getFormat(),null,null!=e.dtH)}else{if(!this.noConvException)throw jGetOmnisException(this.omnisInsts[0],"omnis_convchar",r);e=""}e.length>n&&(e=e.substr(0,n));break;case eOmnisDataTypes.fftBoolean:var a=1*e;if(isNaN(a)){if(!this.noConvException)throw jGetOmnisException(this.omnisInsts[0],"omnis_convbool",r);e=0}e=0!=a;break;case eOmnisDataTypes.fftNumber:if(e*=1,isNaN(e)){if(!this.noConvException)throw jGetOmnisException(this.omnisInsts[0],"omnis_convnum",r);e=0}break;case eOmnisDataTypes.fftSequence:case eOmnisDataTypes.fftInteger:if(e*=1,isNaN(e)){if(!this.noConvException)throw jGetOmnisException(this.omnisInsts[0],"omnis_convint",r);e=0}e=Math.round(e);break;case eOmnisDataTypes.fftList:if(1!=i){if(!(e instanceof omnis_raw_list)){if(!this.noConvException)throw jGetOmnisException(this.omnisInsts[0],"omnis_convlist",r);e=null;break}e.lstRow&&(e.lstData=[e.lstData],e.lstLSEL=[],e.lstL=0,e.lstRow=0);break}case eOmnisDataTypes.fftRow:if(e instanceof omnis_list_row){var l=e.mRowNumber;(e=jOmnis.copyValue(e.mList)).lstL=l}else if(!(e instanceof omnis_raw_list)){if(!this.noConvException)throw jGetOmnisException(this.omnisInsts[0],"omnis_convrow",r);e=null;break}if(!e.lstRow){var m={lstRow:1,lstDef:[].concat(e.lstDef)};e.lstL&&e.lstL<=e.lstData.length?m.lstData=e.lstData[e.lstL-1]:m.lstData=[];var u=e.__form,c=e.__obj;(e=new omnis_raw_list(m)).__form=u,e.__obj=c;break}break;case eOmnisDataTypes.fftDate:if(!(e instanceof omnis_date)){if(0!==e||jOmnis.zeroDatesAreNow){if(""===e)break;o=Date.parseDate(e+"",jOmnis.mHashFDT)}else o=Date.getOmnisEpoch();if(null==o&&(o=Date.parseDate(e+"",jOmnis.mHashFD)),null==o&&(o=Date.parseDate(e+"",jOmnis.mHashFT)),!(o&&o instanceof Date)){if(!this.noConvException)throw jGetOmnisException(this.omnisInsts[0],"omnis_convdate",r);e=null;break}o.dateComps=s,e=new omnis_date(o)}break;case eOmnisDataTypes.fftBinary:case eOmnisDataTypes.fftObject:break;default:if(!this.noConvException){for(var h in eOmnisDataTypes)if(eOmnisDataTypes[h]==t){t=h;break}throw jGetOmnisException(this.omnisInsts[0],"omnis_convbad",r,t)}e=null}return e},omnis.prototype.beginTextBlock=function(e,t,i){e&&null!=this.mTextBlock||(this.mTextBlock=""),this.mTextBlockLineCr=t,this.mTextBlockLineLf=i},omnis.prototype.appendToTextBlock=function(e,t,i,n){this.mTextBlock+=e,t&&(this.mTextBlock+="\r"),i&&(this.mTextBlock+="\n"),n&&(this.mTextBlock+="\r\n")},omnis.prototype.appendLineToTextBlock=function(e){this.appendToTextBlock(e,this.mTextBlockLineCr,this.mTextBlockLineLf,!this.mTextBlockLineCr&&!this.mTextBlockLineLf)},omnis.prototype.getTextBlock=function(){return this.mTextBlock+""},omnis.prototype.log=function(e){window.console&&console.log&&console.log(e)};var jZeroes="00000000000000";omnis.prototype.round=function(e,t){var i=e.indexOf(".");-1!=i&&(e.length-i-1>t&&(e=e.substr(0,i)+e.substr(i+1,t)+"."+e.substr(i+1+t),e=(e=""+Math.round(e)).length>=t?e.substr(0,e.length-t)+"."+e.substr(e.length-t):"0."+jZeroes.substr(0,t-e.length)+e));return 1*e},omnis.prototype.padDecimalPlaces=function(e,t){if(t>0&&t<=14){var i=e.indexOf(this.dpChar);if(-1==i)e=e+this.dpChar+jZeroes.substr(0,t);else{var n=e.length-i-1;n<t&&(e+=jZeroes.substr(0,t-n))}}return e.substr(0,1)==this.dpChar&&(e="0"+e),e},omnis.prototype.sfsButtEvent=function(e,t,i,n,r){var s=jOmnis.getOmnisInst(t);if(s){var o=s.mSFS[i];o&&o.buttonEvent(e,n,r)}},omnis.prototype.appendResizeDiv=function(e,t){if(!jOmnis.mobileDevice){e.mResizeDiv=document.createElement("DIV");var i=this.getWindowClientSize(),n=this.getWindowClientScroll(),r="position:absolute;z-index:9998;left:0px;top:0px;width:"+(i.width+n.XOffset-20)+"px; height:"+(i.height+n.YOffset-20)+"px;padding:0px;";e.mResizeDiv.style.cssText=r,e.mResizeDiv.style.cursor=t.style.cursor,document.body.appendChild(e.mResizeDiv)}},omnis.prototype.removeResizeDiv=function(e){e.mResizeDiv&&(document.body.removeChild(e.mResizeDiv),e.mResizeDiv=null)},omnis.prototype.restoreFocus=function(e){for(var t,i=e;e;){if(e.omnisObject){t=e.omnisObject;break}e=e.parentNode}jOmnis.mDisableBeforeID=t?t.uniqueID:0;try{t.restoringFocus=!0,i.focus(),t.restoringFocus=!1,t&&t.mFocusStyle==eBaseFocusStyle.eWithin&&t.handleEvent(jOmnis.createDOMEvent("focusin"))}catch(e){}},omnis.prototype.numberToLocaleAndDps=function(e,t){return null==e?"":("."!=this.dpChar&&(e=e.replace(".",this.dpChar)),e=e.replace(/\x01/g,this.thouChar),null!=t&&(e=jOmnis.padDecimalPlaces(e,t)),e)},omnis.prototype.numberFromLocale=function(e,t){if(null==e)return"";e.indexOf(this.thouChar)>-1&&(e=e.replace(new RegExp("["+this.thouChar+"]","g"),"")),"."!=this.dpChar&&(e=e.replace(jOmnis.dpChar,".")),"-"!=e&&"."!=e||(e="0");var i=1*e;return jOmnisVal.adjustValue(t,i,e)},omnis.prototype.loadcols=function(e){for(var t="",i=1;i<arguments.length;++i){var n=arguments[i],r=this.get_ivar_defn(n);r&&(t+="__this."),t+=n+' = jOmnis.copyValue(__row.getValue("C'+i+'"));'}if(0==t.length&&e.lstDef&&e.lstDef.length){var s=[e];for(i=0;i<e.lstDef.length;++i)s.push(e.lstDef[i][0]);return jOmnis.loadcols.apply(this,s)}return t},omnis.prototype.getOmnisCtrl=function(e){for(;e;){if(e.omnisObject)return e.omnisObject;e=e.parentNode}return null},omnis.prototype.dragHilite=function(e){var t=this.mCurrentDragHilite;e!=t&&t&&this.removeClass(t,"omnis-drop-target"),this.mCurrentDragHilite=e,e&&this.addClass(e,"omnis-drop-target")},omnis.prototype.dragStart=function(e){var t=this.getOmnisCtrl(e.target);t&&(!t.mDragEnabled||t.form.inst.inRequest||t.elem.disabled?this.stopEventNow(e):(this.inEdge()&&(e.dataTransfer.effectAllowed="copy"),this.inFirefox()&&!t.mAutoDragData&&e.dataTransfer.setData("text/plain",""),t.sendDragStartEvent(e)))},omnis.prototype.dragOver=function(e){var t=this.getOmnisCtrl(e.target);t&&t.rowCtrl&&!t.mDropMode&&(t=t.rowCtrl),t&&!t.allowDefaultDropHandling&&this.stopEventNow(e),e.dataTransfer.dropEffect="none";var i=!0,n=0;if(!this.mCurrentDrag){if(e.dataTransfer.items)for(var r=e.dataTransfer.items,s=0;s<r.length;++s)"file"==r[s].kind&&++n;if(!n&&e.dataTransfer.types){var o=e.dataTransfer.types;for(s=0;s<o.length;++s)"Files"==o[s]&&++n}if(!n)return}var a=!0;if(t&&!t.mCannotDrop&&t.mDropMode)if(n||t.mDropMode&eBaseDropModes.controlClient&&this.mCurrentDrag)if(!n||t.mDropMode&eBaseDropModes.filesClient){var l=e.target;this.inIE11OrLater()&&(l=document.elementFromPoint(e.clientX,e.clientY));var m=t.mDropId,u=t.getDropTarget(l);if(u)if(i=!1,this.mCurrentDragHilite==u&&m==t.mDropId)a=this.mLastCanDrop;else{var c=n?5:1,h=n?"":this.mCurrentDrag.mDragValue,d=n?"":this.mCurrentDrag.mDragCtrl.objName,f=t.mDropId?t.mDropId:0,p=t.rowNumber;null==(a=t.callMethodEx("$candrop",eDoMethodFlags.noOverlay|eDoMethodFlags.clientOnly|eDoMethodFlags.noLog,c,h,d,f))&&(t.eventParamsAdd("pDragType",c),t.eventParamsAdd("pDragValue",h),t.eventParamsAdd("pDragField",d),t.eventParamsAdd("pDropId",f),t.eventParamsAdd("pDropRow",p),a=!t.sendClientEvent(eBaseEvent.evCanDrop)),a?this.dragHilite(u):i=!0}else a=!1}else a=!1;else a=!1;else a=!1;if(a&&(e.dataTransfer.dropEffect="copy"),this.mLastCanDrop=a,i&&this.dragHilite(null),this.mClearDragHiliteTimer&&clearTimeout(this.mClearDragHiliteTimer),this.mCurrentDragHilite&&n&&(this.mClearDragHiliteTimer=setTimeout((function(){jOmnis.mClearDragHiliteTimer=null,jOmnis.dragHilite(null)}),500)),!this.inChrome()&&this.mScrollLastCtrl==t&&t){var g=t.getDragDropScrollElem?t.getDragDropScrollElem():t.clientElem;if(g&&this.mScrollLastX==e.pageX&&this.mScrollLastY==e.pageY){if(this.mStartedScroll||new Date-this.mStartDate>10){this.mStartedScroll=!0;var _=this.getElemPosRelativeToAncestor(g),y=g.scrollTop,b=g.clientHeight/4;if(this.mScrollLastY>_.y&&this.mScrollLastY<_.y+8)y>0&&(y-=b)<0&&(y=0);else if(this.mScrollLastY>_.y+_.h-8&&this.mScrollLastY<_.y+_.h){var v=g.scrollHeight-g.clientHeight;(y+=b)>v&&(y=v)}g.scrollTop=y}}else this.mStartDate=new Date,this.mStartedScroll=!1;this.mScrollLastX=e.pageX,this.mScrollLastY=e.pageY}this.mScrollLastCtrl=t},omnis.prototype.drop=function(e){this.mClearDragHiliteTimer&&clearTimeout(this.mClearDragHiliteTimer);var t=this.mCurrentDrag?null:e.dataTransfer.files;t&&t.length&&this.dragHilite(null);var i=this.getOmnisCtrl(e.target);if(i&&(i&&i.rowCtrl&&!i.mDropMode&&(i=i.rowCtrl),!i.allowDefaultDropHandling&&(!1===this.mLastCanDrop||t&&t.length)&&this.stopEventNow(e),i.mDropMode&&this.mLastCanDrop))if(t&&t.length)setTimeout((function(){i.sendFileDropEvent(t)}),0);else{var n=jOmnis.mCurrentDrag;setTimeout((function(){i.sendDropEvents(n)}),0)}},omnis.prototype.dragEnd=function(e){var t=this.mCurrentDrag?this.mCurrentDrag.mDragCtrl:null;this.dragHilite(null);var i=this.getOmnisCtrl(e.target);if(i&&i.sendDragFinishedEvent(),t&&t.form.inst.inRequest){var n=t.form.inst;this.showOverlay(!0,!1),this.lockOverlay(!0),this.mDragEndInterval=setInterval((function(){n.inRequest||(jOmnis.lockOverlay(!1),jOmnis.hideOverlay(!0),clearInterval(jOmnis.mDragEndInterval),jOmnis.mDragEndInterval=null)}),1)}},omnis.prototype.removeCurrentDrag=function(){this.mCurrentDrag=null},omnis.prototype.tabFocusTrap=function(e,t,i){e&&t&&i&&(i.shiftKey||document.activeElement!==t?i.shiftKey&&document.activeElement===e&&(t.focus(),i.preventDefault()):(e.focus(),i.preventDefault()))},omnis.prototype.getTabbableElems=function(e){for(var t=e.querySelectorAll("[tabindex]:not([tabindex='-1'])"),i=[],n=0;n<t.length;n++)"hidden"!==getComputedStyle(t[n]).visibility&&i.push(t[n]);return i},omnis.prototype.openDesignWebSocket=function(){var e=this.mQueryParams;if(!this.designWebSocket&&e&&e.omnisBid&&e.omnisPort){var t=new WebSocket("ws://127.0.0.1:"+e.omnisPort+"?oo="+e.omnisBid+"&omnisUnq="+jOmnis.mDesignUnq);this.designWebSocketQueue=[],this.designWebSocket=t,t.onopen=function(){for(var e=0;e<jOmnis.designWebSocketQueue.length;++e)jOmnis.designWebSocket.send(jOmnis.designWebSocketQueue[e]);jOmnis.designWebSocketQueue=null},t.onmessage=function(e){var t=jOmnis.omnisInsts[0];try{var i=JSON.parse(e.data);jDesignPushMessages[i.messageType](i,t.forms[0])}catch(e){jOmnis.handleError(e,t)}},t.onclose=function(e){e.srcElement==jOmnis.designWebSocket&&(jOmnis.designWebSocket=null),jOmnis.openDesignWebSocket()},t.onerror=function(e){jOmnis.handleError(err,jOmnis.omnisInsts[0])}}};var eDesignMessageTypes={cIDMsetTabWidths:1,cIDMrefreshHtml:2,cIDMsetTabOrders:3};function omnis_drag(e){this.mDragCtrl=e,this.mDragValue=e.getDragValue?e.getDragValue():""}function omnis_validator(){this.objects={}}omnis.prototype.sendDesignMessage=function(e){if(this.designWebSocket){var t=JSON.stringify(e);null!=this.designWebSocketQueue?this.designWebSocketQueue.push(t):this.designWebSocket.send(t)}},omnis.prototype.getNearestKey=function(e,t,i){if(!e)throw new Error("No entry for "+i+" in layouts");i*=1;for(var n=Object.keys(t),r=1e7,s=0,o=r,a=0;a<n.length;a++){var l=1*n[a];l<i&&l>s&&(s=l),l<o&&(o=l)}if(s||o==r||(s=o),!s)throw new Error("No responsive entry for "+i+" in layouts");return s},omnis_validator.prototype=function(){function e(e,t){if(e.setSelectionRange)try{e.setSelectionRange(t,t)}catch(e){}else if(e.createTextRange){var i=e.createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select()}}function t(t,i){var n=this,r=this.objects[t.id];if(r&&!r.inOnInput){r.inOnInput=!0;var s=t.value,o=!0,a=!1,l=i.inputType&&(0===i.inputType.indexOf("deleteContent")||"insertText"===i.inputType&&r.negAllowed&&"-"===i.data),m=0;switch(r.dataType){case eOmnisDataTypes.fftInteger:if("."!=jOmnis.dpChar&&(s=s.replace(jOmnis.dpChar,".")),(""==s||jOmnis.isInteger(s)&&-1==s.indexOf(".")||null!=s.match(/^0+$/)||r.negAllowed&&"-"==s)&&(a=!0),a&&(-1!=s.indexOf(" ")||s.match(/\r\n|\r|\n/))&&(a=!1),a&&!r.negAllowed&&-1!=s.indexOf("-")&&(a=!1),l||!a||""!=s||void 0===t.checkValidity||t.checkValidity()||(a=!1),!a)for(var u=0;u<s.length;++u){if(!(45==(g=s.charCodeAt(u))&&r.negAllowed||43==g||g>=48&&g<=57)){m=u;break}}break;case eOmnisDataTypes.fftNumber:var c;l|="insertText"===i.inputType&&i.data===jOmnis.dpChar;var h=24!=r.dataSubtype&&0==(31&r.dataSubtype),d=!1;if("."!=jOmnis.dpChar){var f=s.indexOf(".");-1!=f&&(-1==s.indexOf(jOmnis.dpChar)?c=s=s.replace(".",jOmnis.dpChar):(d=!0,m=f)),s=s.replace(jOmnis.dpChar,".")}if(d||""!=s&&isNaN(s)&&(!r.negAllowed||"-"!=s)||(a=!0),a&&(-1!=s.indexOf(" ")||s.match(/\r\n|\r|\n/))&&(a=!1),a&&!r.negAllowed&&-1!=s.indexOf("-")&&(a=!1),l||!a||""!=s||void 0===t.checkValidity||t.checkValidity()||(a=!1),d||(h||"."!=s&&"-."!=s?h&&a&&-1!=s.indexOf(".")&&(a=!1):a=!0),!a&&!d){var p=!1;for(u=0;u<s.length;++u){var g;if((45!=(g=s.charCodeAt(u))||!r.negAllowed)&&43!=g&&!(g>=48&&g<=57)&&(46!=g||h)||46==g&&p){m=u;break}46==g&&(p=!0)}}break;default:o=!1}if(o){if(!a){var _=t.omnisObject;_&&_.mDataIsFormatted&&(a=!0)}if(a)c&&(t.value=c),this.setCurrentValue(t);else if(t.value=r.currentValue,setTimeout((function(){e.call(n,t,m)}),0),!r.errorHighlighting){r.errorHighlighting=!0;var y=t.className;t.className=y?y+" ctrl_invalid":"ctrl_invalid",setTimeout((function(){t.className=y,r.errorHighlighting=!1}),200)}}r.inOnInput=!1}}return{constructor:omnis_validator,addObject:function(e,i,n,r){var s=this;if(this.removeObject(e),i==eOmnisDataTypes.fftInteger||i==eOmnisDataTypes.fftNumber||i==eOmnisDataTypes.fftSequence){var o={};o.elem=e,o.dataType=i==eOmnisDataTypes.fftSequence?eOmnisDataTypes.fftInteger:i,o.dataSubtype=n,o.negAllowed=null==r||r,e.oninput=function(e){t.call(s,this,e)},this.objects[e.id]=o}},removeObject:function(e){if(this.objects[e.id]){var t=this.objects[e.id];e.oninput&&(e.oninput=null),e.onpropertychange&&(e.onpropertychange=null),t.queuedOnInput&&(e.detachEvent("onkeypress",t.queuedOnInput),t.queuedOnInput=null),e.onpaste&&(e.onpaste=null),delete this.objects[e.id]}},setCurrentValue:function(e){var t=this.objects[e.id];t&&(t.currentValue=e.value)},setNegAllowed:function(e,t){var i=this.objects[e.id];i&&(i.negAllowed=t)},adjustValue:function(e,t,i){var n=this.objects[e.id];if(n)switch(n.dataType){case eOmnisDataTypes.fftInteger:32==n.dataSubtype?t<0?t=0:t>255&&(t=255):64==n.dataSubtype?t<-9007199254740992?t=-9007199254740992:t>9007199254740992&&(t=9007199254740992):t<-2147483647?t=-2147483647:t>2147483647&&(t=2147483647);break;case eOmnisDataTypes.fftNumber:if(24==n.dataSubtype)break;var r=31&n.dataSubtype;t=jOmnis.round(i,r)}return t}}}();var jOmnisVal=new omnis_validator;function omn_getstyles(e){this.elem=null,this.isClone=!1}omn_getstyles.prototype.setElem=function(e){this.done(),e&&!document.body.contains(e)&&(e=e.cloneNode(!1),this.isClone=!0,document.body.appendChild(e)),this.elem=e},omn_getstyles.prototype.get=function(e){var t=this.elem;if(t.currentStyle){if(e.indexOf("-")>0){var i=jOmnis.mStyleNameMap;if(i||(i={},jOmnis.mStyleNameMap=i),i[e])e=i[e];else{var n=e+"",r=e.split("-");e=r[0];for(var s=1;s<r.length;s++){e=e+r[s].toUpperCase().charAt(0)+r[s].substring(1)}i[n]=e}}var o=t.currentStyle[e]}else window.getComputedStyle&&(o=document.defaultView.getComputedStyle(t,null).getPropertyValue(e));return o},omn_getstyles.prototype.getInt=function(e){var t=parseInt(this.get(e));return t||0},omn_getstyles.prototype.done=function(){this.isClone&&(document.body.removeChild(this.elem),this.isClone=!1,this.elem=null)};var jStyles=new omn_getstyles;function isInIE(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}return e}var jOmnisRemoteObject=function(){};function omn_icon_manager(){this.mImgTag="IMG",this.mSvgTag="svg",this.mSvgNamespace="http://www.w3.org/2000/svg",this.mXlinkNamespace="http://www.w3.org/1999/xlink",this.mLastSizeObj={},this.mSVGthemeClass="#omTheme"}jOmnisRemoteObject.prototype=function(){var obj={setValue:function(member,value){if(member in this)this[member]=value;else for(var i=0;i<this.cvarNames.length;++i){var obj=eval(this.cvarNames[i]);if(member in obj){obj[member]=value;break}}},getValue:function(member){var result;if(member in this)result=this[member];else for(var i=0;i<this.cvarNames.length;++i){var obj=eval(this.cvarNames[i]);if(member in obj){result=obj[member];break}}return result&&arguments.length>1?this.getValue.apply(result,Array.prototype.slice.call(arguments,1)):result},getCanAssign:function(e,t){var i=this.getValue(e);return i?i.getCanAssign(t):null},getProperty:function(e,t){var i=this.getValue(e);return i?i.getProperty(t):null},setPropCli:function(e,t,i){var n=this.getValue(e);return n?n.setPropCli(t,i):null},callMethod:function(e){var t=this[e];if(t)return t.apply(this,Array.prototype.slice.call(arguments,1))}};return obj}(),jOmnisRemoteObject.cvars={},omn_icon_manager.prototype.getHtml=function(e,t,i,n,r,s){var o;if(e&&e.length>0){var a=function(){return'style="padding:'+(t||"0")+";margin:0;"+(n?n+";":"")+'" '+(i||"")},l=function(){return s?'<title id="omSvgAlt">'+s+"</title>":""},m=function(){return s?'role="img" aria-labelledby="omSvgAlt" ':""};null==r&&(r=this.getIconSize(e)),n||(n=""),-1===n.indexOf("min-width")&&(n+="".concat(";"===n.charAt(n.length-1)?"":";","min-width:").concat(r.width,"px")),this.isSVG(e)?(e=e.replace(/\&/g,"&amp;"),null!=r.viewBox?(window.isSVGThemerTool&&(e+="&uniqueID=".concat(Math.random())),o="<svg "+m()+'preserveAspectRatio="none" width="'+r.width+'px" height="'+r.height+'px" viewBox="'+r.viewBox+'" style="'+n+'">'+l()+'<use xlink:href="'+e+this.mSVGthemeClass+'"></use></svg>'):o="<svg "+m()+'width="'+r.width+'px" height="'+r.height+'px" xmlns:xlink="'+this.mXlinkNamespace+'" '+a()+">"+l()+'<image width="'+r.width+'" height="'+r.height+'" preserveAspectRatio="none" xlink:href="'+e+'"></image></svg>'):o='<img src="'+e+'" height="'+r.height+'" width="'+r.width+'" alt="'+(s||"")+'" '+a()+"/>"}return o},omn_icon_manager.prototype.replaceOrAddToElem=function(e,t,i,n,r){var s,o;if(!r)for(var a=e.children,l=0;l<a.length;l++){var m=a[l];if(m.tagName==this.mSvgTag||m.tagName==this.mImgTag){s=m;break}}return t&&t.length>0?(this.isSVG(t)?(null==n&&(n=this.getIconSize(t,!1,!0)),null!=n.viewBox?this.prepareThemedSVG(s&&s.tagName==this.mSvgTag?s:o=document.createElementNS(this.mSvgNamespace,this.mSvgTag),t,i,n):this.prepareSVG(s&&s.tagName==this.mSvgTag?s:o=document.createElementNS(this.mSvgNamespace,this.mSvgTag),t,i,n)):t.match(/\.png\??/i)?(null==n&&(n=this.getIconSize(t,!1,!1)),this.prepareIMG(s&&s.tagName==this.mImgTag?s:o=document.createElement(this.mImgTag),t,i,n)):s&&(s.style.display="none",s=null),o&&(null!=s?e.replaceChild(o,s):e.appendChild(o))):s&&(s.style.display="none",s.tagName==this.mImgTag&&(s.alt=""),s=null),o||s},omn_icon_manager.prototype.prepareSVG=function(e,t,i,n){e.firstChild&&e.removeChild(e.firstChild),this.setBasicSvgAttributes(e,n);var r=document.createElementNS(this.mSvgNamespace,"image");r.setAttributeNS(null,"width",n.width+"px"),r.setAttributeNS(null,"height",n.height+"px"),r.setAttributeNS(null,"preserveAspectRatio","none"),r.setAttributeNS(this.mXlinkNamespace,"href",t),null!=i&&(r.onload=i),e.appendChild(r)},omn_icon_manager.prototype.prepareThemedSVG=function(e,t,i,n){e.firstChild&&e.removeChild(e.firstChild),this.setBasicSvgAttributes(e,n),e.setAttribute("preserveAspectRatio","none"),n.viewBox&&n.viewBox.length&&e.setAttribute("viewBox",n.viewBox);var r=document.createElementNS(this.mSvgNamespace,"use");r.setAttributeNS(this.mXlinkNamespace,"href",t+this.mSVGthemeClass),null!=i&&(r.onload=i),e.appendChild(r)},omn_icon_manager.prototype.setBasicSvgAttributes=function(e,t){e.setAttribute("width",t.width+"px"),e.setAttribute("height",t.height+"px"),e.setAttribute("xmlns:xlink",this.mXlinkNamespace),this.setBasicCss(e)},omn_icon_manager.prototype.getIconSize=function(e,t,i){if(!e||"string"!=typeof e)return t?"":{};null==i&&(i=this.isSVG(e));var n={};if(this.mLastSizeObj=n,i){var r=/(\&w=([0-9]+)\&)(h=([0-9]+))(\&v=([0-9 .]*))?/.exec(e);r&&(n.width=+r[2],n.height=+r[4],r[6]&&(n.viewBox=r[6]))}else if(-1!=(e=e.toLowerCase()).indexOf("_16x16"))n.width=n.height=16;else if(-1!=e.indexOf("_32x32"))n.width=n.height=32;else if(-1!=e.indexOf("_48x48"))n.width=n.height=48;else{var s=e.match(/_[0-9]+x[0-9]+.{1}/);if(s){var o=s[0].split("x");n.width=1*o[0].replace("_",""),n.height=1*o[1].substr(0,o[1].length-1)}else-1!=e.indexOf("16.png")||-1!=e.indexOf("16_2x.png")?n.width=n.height=16:-1!=e.indexOf("32.png")?n.width=n.height=32:-1!=e.indexOf("48.png")&&(n.width=n.height=48)}return t?n.width?"background-size:"+n.width+"px "+n.height+"px;":"":n},omn_icon_manager.prototype.getIconBackSize=function(e){var t=this.getIconSize(e);return t.width?t.width+"px "+t.height+"px":""},omn_icon_manager.prototype.prepareIMG=function(e,t,i,n){e.src=t,e.width=n.width,e.height=n.height,e.alt="",this.setBasicCss(e),null!=i&&(e.onload=i)},omn_icon_manager.prototype.setBasicCss=function(e){e.style.margin=0,e.style.padding=0},omn_icon_manager.prototype.getElemWidth=function(e){return e.tagName==this.mSvgTag?e.getBoundingClientRect().width:e.offsetWidth},omn_icon_manager.prototype.getElemHeight=function(e){return e.tagName==this.mSvgTag?e.getBoundingClientRect().height:e.offsetHeight},omn_icon_manager.prototype.isIcon=function(e){return e.tagName==this.mSvgTag||e.tagName==this.mImgTag},omn_icon_manager.prototype.hasIcon=function(e){return null!=this.iconUrl(e)},omn_icon_manager.prototype.iconUrl=function(e){var t;if(e.tagName==this.mImgTag)t=e.src;else if(e.tagName==this.mSvgTag&&e.children.length){var i=e.children[0];i&&(t=i.getAttributeNS(this.mXlinkNamespace,"href"))}return t&&t.length?t:null},omn_icon_manager.prototype.getCheckedImage=function(e){if(!e||!e.length||0==e)return"";var t=e.match(/(.*)(\.svg\?)(.*)/i);if(t)return t[1]+"_c"+t[2]+t[3];var i=e.toLowerCase(),n=i.indexOf("_16x16");if(-1==n&&-1==(n=i.indexOf("_32x32"))&&(n=i.indexOf("_48x48")),-1!=n)return e.substr(0,n+6)+"c"+e.substr(n+6);if(t=i.match(/_[0-9]+x[0-9]+.{1}/)){var r=t[0],s=i.indexOf(r);return-1==s?"":e.substr(0,s+r.length-1)+"c"+e.substr(s+r.length-1)}var o=e.lastIndexOf("."),a=e.lastIndexOf("/"),l=o-(e.lastIndexOf("_2x")>a?6:3),m=e.charAt(l);return o-a-1<cIconFileMinLength||"n"!=m&&"N"!=m?"":e.substr(0,l)+("n"==m?"c":"C")+e.substr(l+1)},omn_icon_manager.prototype.setImageUrl=function(e,t){if(e.tagName==this.mSvgTag){var i=e.firstChild;"title"==i.tagName&&(i=i.nextSibling),i.setAttributeNS(this.mXlinkNamespace,"href",t)}else e.tagName==this.mImgTag?e.src=t:"image"!=e.tagName&&"use"!=e.tagName||e.setAttributeNS(this.mXlinkNamespace,"href",t)},omn_icon_manager.prototype.setWidthHeight=function(e,t,i){if(e.tagName==this.mSvgTag){e.setAttribute("width",t+"px"),e.setAttribute("height",i+"px");var n=e.firstChild;"title"==n.tagName&&(n=n.nextSibling),"image"==n.tagName&&(n.setAttributeNS(null,"width",t),n.setAttributeNS(null,"height",i))}else e.tagName==this.mImgTag&&(e.width=t,e.height=i)},omn_icon_manager.prototype.getEventElement=function(e){var t;return e.tagName==this.mSvgTag?"title"==(t=e.firstChild).tagName&&(t=t.nextSibling):e.tagName==this.mImgTag&&(t=e),t},omn_icon_manager.prototype.selectIcon=function(e){if(this.isSVG(e))return e;var t=jOmnis.omnisInsts[0].resolution;if(-1==e.indexOf(";")){var i=/\/[0-9]*[a-zA-Z]16\.png/i.exec(e);if(t>eResolutions.standard&&i){var n=i[0].indexOf("16.png")+2,r=i[0].slice(0,n)+"_2x"+i[0].slice(n);return e.slice(0,i.index)+r+e.slice(i.index+i[0].length)}return e}if(-1==(n=e.lastIndexOf("/")))return e;var s=e.substr(n+1).split(";");if(t<s.length&&s[t].length>0)return e.substr(0,n+1)+s[t];for(var o=0;o<eResolutions.count;++o)if(s[o]&&s[o].length>0)return e.substr(0,n+1)+s[o];return""},omn_icon_manager.prototype.isSVG=function(e){return null!=e.match(/\.svg\?/i)};var jIcons=new omn_icon_manager,wk_has3d="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,wk_translateOpen="translate"+(wk_has3d?"3d(":"("),wk_translateClose=wk_has3d?",0)":")",jOverlayId="omnis_overlay"},5441:function(e,t,i){i(7042),i(6977),i(1539),i(9714),i(3123);var n=function(){function e(e){var t=(e+"").split("."),i=t[0],n=i.substr(0,1);"-"==n||"+"==n?i=i.substr(1):n="";var r=i.length%3;0==r&&(r=3);for(var s="";i.length>0;)s+=i.substr(0,r),(i=i.substr(r)).length>0&&(s+="",r=3);return t[0]=n+s,t.join(".")}function t(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function i(e,t){for(var i=[];t>0;i[--t]=e);return i.join("")}var r=function e(){return e.cache.hasOwnProperty(arguments[0])||(e.cache[arguments[0]]=e.parse(arguments[0])),e.format.call(null,e.cache[arguments[0]],arguments)};return r.format=function(r,s){var o,a,l,m,u,c,h,d=1,f=r.length,p="",g=[];for(a=0;a<f;a++)if("string"===(p=t(r[a])))g.push(r[a]);else if("array"===p){if((m=r[a])[2])for(o=s[d],l=0;l<m[2].length;l++){if(!o.hasOwnProperty(m[2][l]))throw n('[sprintf] property "%s" does not exist',m[2][l]);o=o[m[2][l]]}else o=m[1]?s[m[1]]:s[d++];if(/[^s]/.test(m[8])&&"number"!=t(o))throw n("[sprintf] expecting number but found %s",t(o));var _;switch(m[8]){case"b":o=o.toString(2);break;case"c":o=String.fromCharCode(o);break;case"D":case"d":o=parseInt(o,10),"D"==m[8]&&(o=e(o));break;case"e":o=m[7]?o.toExponential(m[7]):o.toExponential();break;case"F":case"f":o=m[7]?parseFloat(o).toFixed(m[7]):parseFloat(o),"F"==m[8]&&(_=o,o=e(o));break;case"o":o=o.toString(8);break;case"s":o=(o=String(o))&&m[7]?o.substring(0,m[7]):o;break;case"u":o=Math.abs(o);break;case"x":o=o.toString(16);break;case"X":o=o.toString(16).toUpperCase()}o=null!=_?m[3]&&_>0?"+"+o:o:/[def]/.test(m[8])&&m[3]&&o>0?"+"+o:o,c=m[4]?"0"==m[4]?"0":m[4].charAt(1):" ",h=m[6]-String(o).length,u=m[6]?i(c,h):"",g.push(m[5]?o+u:u+o)}return g.join("")},r.cache={},r.parse=function(e){for(var t=e,i=[],n=[],r=0;t;){if(null!==(i=/^[^\x25]+/.exec(t)))n.push(i[0]);else if(null!==(i=/^\x25{2}/.exec(t)))n.push("%");else{if(null===(i=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxXDF])/.exec(t)))throw"[sprintf] huh?";if(i[2]){r|=1;var s=[],o=i[2],a=[];if(null===(a=/^([a-z_][a-z_\d]*)/i.exec(o)))throw"[sprintf] huh?";for(s.push(a[1]);""!==(o=o.substring(a[0].length));)if(null!==(a=/^\.([a-z_][a-z_\d]*)/i.exec(o)))s.push(a[1]);else{if(null===(a=/^\[(\d+)\]/.exec(o)))throw"[sprintf] huh?";s.push(a[1])}i[2]=s}else r|=2;if(3===r)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";n.push(i)}t=t.substring(i[0].length)}return n},r}();t.Z=n},9522:function(e,t,i){i.d(t,{jX:function(){return n},VV:function(){return r},iH:function(){return s},oM:function(){return o}});var n={Desktop:0,js320x480Portrait:3,js320x480Landscape:4,js768x1024Portrait:9,js768x1024Landscape:10,js345x345:13,js360x640Portrait:14,js360x640Landscape:15},r={js320x480Portrait:{width:320,height:480},js768x1024Portrait:{width:768,height:1024},js345x345:{width:345,height:345},js360x640Portrait:{width:360,height:640}},s=[{portrait:!0,width:1024,height:1024,id:0,constant:n.Desktop}],o=!1},7153:function(e,t,i){i.d(t,{Nq:function(){return s},kE:function(){return o},_N:function(){return a},LB:function(){return l},Xw:function(){return n},JY:function(){return r}});i(1539),i(8674),i(5306);var n={ANDROID:"android",iOS:"iOS",BLACKBERRY:"blackberry",WINDOWS:"windows"},r={NATIVE_DIALOGS:"nativeDialogs",DEVICE_ID:"deviceID",SHOW_PDF:"showPDF",STORED_PREFS:"storedPrefs",PRINT_PDF:"printPDF",PUSH_NOTIFICATIONS:"pushNotifications",PREFERRED_LOCALE:"preferredLocale",DEVICE_SECURE:"deviceSecure"};function s(e){var t=this,i=e;this.width=0,this.height=0,this.orientation="",this.showStatusBar=!0,this.floatControls=!0,this.scaleForm=!1,this.canScrollV=this.canScrollH=!1,this.maintainAspectRatio=!1,this.wrapperFeatures={},this.firesResizeEvents=!1,this.supportsFeature=function(e){return this.wrapperFeatures[e]},this.setWrapperValues=function(e){var i=!1,n=!1;for(var s in e)if(e.hasOwnProperty(s)){var o=e[s];switch(s){case"deviceID":this.deviceId=o;break;case"width":t.width!=o&&(t.width=o,n=!0);break;case"height":t.height!=o&&(t.height=o,n=!0);break;case"orientation":o!=t.orientation&&(t.orientation=o,i=!0);break;case"isMobile":try{jOmnis.mobileDevice=o}catch(e){console.log(e.message)}break;case"floatControls":t.floatControls=o;break;case"scaleForm":t.scaleForm=o;break;case"features":for(var a=o,l=0;l<a.length;l++)r[a[l]]&&(t.wrapperFeatures[r[a[l]]]=!0);break;case"locale":this.preferredLocale=o;break;case"deviceSecure":this.deviceSecure=o}}if(!this.hasInitialized){var m=function(){jOmnis.mDeviceId=u||"",jOmnis.startup()};this.hasInitialized=!0;var u=this.deviceId;if(jOmnis&&document.body)m();else var c=setInterval((function(){jOmnis&&document.body&&(clearInterval(c),m())}),50)}n&&jOmnis&&jOmnis.handleResize(),i&&jOmnis&&(t.orientationChangeTimeout&&clearTimeout(t.orientationChangeTimeout),this.orientationChangeTimeout=setTimeout((function(){jOmnis.handleOrientationChange(null),t.orientationChangeTimeout=null}),200))},this.getLocale=function(){return this.preferredLocale?this.preferredLocale:i==n.ANDROID?omnisandroid.getLocale():void 0},this.getDeviceSecure=function(){return this.deviceSecure},this.hasFeature=function(e){return!!this.wrapperFeatures[e]};var s=function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.promise=new Promise((function(e,n){i.doResolve=e,i.doReject=n,t()}))};this.getOfflineResourceContent=function(e){if(this.resourcePromise)return Promise.reject("Already fetching resource content for another file");return this.resourcePromise=new s((function(){l("getResourceContent","wrapperInterface.getOfflineResourceContent_return.apply(wrapperInterface, arguments);",e)})),this.resourcePromise.promise},this.getOfflineResourceContent_return=function(e){null!=e?this.resourcePromise.doResolve(atob(e)):this.resourcePromise.doReject(),this.resourcePromise=null},this.setPreferredLocale=function(e){l("setPreferredLocale",null,e)},this.clearPreferredLocale=function(){l("setPreferredLocale",null,null)},this.getOrientation=function(){return i===n.ANDROID&&this.legacy?omnisandroid.isLandscape()?"landscape":"portrait":t.orientation},this.getOrientationConstant=function(){return"landscape"===this.getOrientation()?jOmnis.eScreenOrientation.Landscape:jOmnis.eScreenOrientation.Portrait},this.getFloatControls=function(){return i===n.ANDROID&&this.legacy?omnisandroid.getFloatControls():t.floatControls},this.getScreenHeight=function(){return i===n.ANDROID&&this.legacy?omnisandroid.getAvailScreenHeight():t.height},this.getScreenWidth=function(){return i===n.ANDROID&&this.legacy?omnisandroid.getAvailScreenWidth():t.width},this.getHasStatusBar=function(){return i===n.ANDROID&&this.legacy?omnisandroid.getDesignHasMobileTitle():t.showStatusBar},this.getStatusBarHeight=function(){return t.getHasStatusBar()?20:0},this.getCanScrollH=function(){return i===n.ANDROID&&this.legacy?omnisandroid.getCanScrollH():t.canScrollH},this.getCanScrollV=function(){return i===n.ANDROID&&this.legacy?omnisandroid.getCanScrollV():t.canScrollV},this.getMaintainAspectRatio=function(){return i===n.ANDROID&&this.legacy?omnisandroid.getMaintainAspectRatio():t.maintainAspectRatio},this.sendDeviceRequest=function(e){switch(i){case n.iOS:if(t.iOSv3)window.webkit.messageHandlers.jsBridge.postMessage(JSON.parse(e));else{null!=e&&(e=e.replace(/\\/g,"%5C"));var r=document.createElement("IFRAME");r.setAttribute("src","http://www.omnis.net/iOSJavaScriptURL"+e),document.documentElement.appendChild(r),r.parentNode.removeChild(r),r=null}break;case n.ANDROID:omnisandroid.handleJavaScriptRequest(e);break;case n.BLACKBERRY:navigator.cascades.postMessage(e);break;case n.WINDOWS:window.omnisWrapper.notifyWrapper(e)}},this.showPDF=function(e){if(i===n.ANDROID&&this.legacy)omnisandroid.showPDF(e);else{if(!t.wrapperFeatures[r.SHOW_PDF])throw"Wrapper does not support showPdf";l("showPDF",null,e)}},this.enablePushNotifications=function(e){l("enablePushNotifications",null,!!e)},this.savePreference=function(e,i){var n={key:e,value:i};if(!t.wrapperFeatures[r.STORED_PREFS])throw"Wrapper does not support savePreference";l("savePref",null,n)},this.loadPreference=function(e,i,n,s){var o={key:e,omnisIndex:i,formIndex:n,dataIndex:s};if(!t.wrapperFeatures[r.STORED_PREFS])throw"Wrapper does not support loadPreference";l("loadPref",null,o)},this.printPDF=function(e,i){t.wrapperFeatures[r.PRINT_PDF]?l("printPDF","",{URL:e,Name:i}):console.log("PDF Printing has not yet been implemented for this wrapper")},this.setInstanceVar=function(e,t,i,n){null==n&&(n=""),jOmnis.getOmnisInst(e).formGet(t).setData(i,n)},function(){switch(i){case n.BLACKBERRY:!function(){var e=t;navigator.cascades.onmessage=function(t){var i=JSON.parse(t);if("QUERY"==i.MESSAGE){e.width=i.WIDTH,e.height=i.HEIGHT,e.orientation=i.ORIENTATION,e.floatControls=i.FLOAT,e.scaleForm=i.SCALE,e.canScrollV=i.SCROLLV,e.canScrollH=i.SCROLLH,e.maintainAspectRatio=i.ASPECT;var n=!1;if(("landscape"===e.orientation&&e.width<e.height||"portrait"===e.orientation&&e.width>e.height)&&(n=!0),n){var r=e.width;e.width=e.height,e.height=r}}else if("ORIENTATIONCHANGE"==i.MESSAGE)e.orientation!=i.ORIENTATION&&(e.orientation=i.ORIENTATION,e.width=i.WIDTH,e.height=i.HEIGHT,n=!1,("landscape"===e.orientation&&e.width<e.height||"portrait"===e.orientation&&e.width>e.height)&&(n=!0),n&&(r=e.width,e.width=e.height,e.height=r),jOmnis.handleOrientationChange(null));else if("GetFormAddress"==i.MESSAGE){var s=new Function("arg1",i.retID);s(t)}else"ExecuteSQL"==i.MESSAGE?omnis_sql_callbackFromWrapper(t):(s=new Function("arg1",i.retID))(i.DATA)};try{var i={ID:"QueryData"};navigator.cascades.postMessage(JSON.stringify(i)),i=null}catch(e){}}();break;case n.ANDROID:void 0!==omnisandroid.init?omnisandroid.init():(t.legacy=!0,void 0!==omnisandroid.getWrapperFeatures?t.wrapperFeatures=JSON.parse(omnisandroid.getWrapperFeatures()):(t.wrapperFeatures[r.NATIVE_DIALOGS]=!0,t.wrapperFeatures[r.DEVICE_ID]=!0,t.wrapperFeatures[r.SHOW_PDF]=!0));break;case n.iOS:t.iOSv3=t.firesResizeEvents=!!(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.jsBridge),t.wrapperFeatures[r.DEVICE_ID]=!0;case n.WINDOWS:}}()}function o(e,t,i,r,o,a,l,m,u){null==window.wrapperInterface&&(window.wrapperInterface=new s(n.iOS)),window.wrapperInterface.width=e,window.wrapperInterface.height=t,window.wrapperInterface.orientation=i,window.wrapperInterface.showStatusBar=1==r,window.wrapperInterface.floatControls=1==o,window.wrapperInterface.scaleForm=1==a,window.wrapperInterface.maintainAspectRatio=1==l,window.wrapperInterface.canScrollH=1==m,window.wrapperInterface.canScrollV=1==u}function a(e){window.wrapperInterface.orientation=e;var t=!1;if(("landscape"===window.wrapperInterface.orientation&&window.wrapperInterface.width<window.wrapperInterface.height||"portrait"===window.wrapperInterface.orientation&&window.wrapperInterface.width>window.wrapperInterface.height)&&(t=!0),t){var i=window.wrapperInterface.width;window.wrapperInterface.width=window.wrapperInterface.height,window.wrapperInterface.height=i,window.wrapperInterface.showStatusBar&&("landscape"===window.wrapperInterface.orientation?(window.wrapperInterface.width+=20,window.wrapperInterface.height-=20):"portrait"===window.wrapperInterface.orientation&&(window.wrapperInterface.height-=20,window.wrapperInterface.width+=20))}jOmnis.handleOrientationChange(null)}var l=function(e,t,i){if(jOmnis.inAppWrapper()){var n={ID:e,retID:t,Data:i},r=JSON.stringify(n);window.wrapperInterface.sendDeviceRequest(r)}}}}]);