/*! Omnis Studio 10.22 31896. JS: 31896 */
(self.webpackChunkomnis_webpack=self.webpackChunkomnis_webpack||[]).push([[321],{5161:function(e,t,s){"use strict";s(6990),s(5603),s(4305);var i=s(6353),n=s(5459),r=s(6056),o=s(4555),a=s(1614),l=s(6062),h=s(6798),c=(s(1539),s(9714),{kYear:1,kMonth:2,kWeek:3,kDayofYear:4,kQuarter:5,kMonthofQuarter:6,kWeekofQuarter:7,kDayofQuarter:8,kWeekofMonth:9,kDay:10,kHour:19,kMinute:20,kSecond:21,kCentiSecond:22}),u=1,m=2;function d(e,t){var s,i,n,r;(e&&void 0!==e.dateComps?(this.__hasDateComponent=(e.dateComps&u)>0,this.__hasTimeComponent=!t&&(e.dateComps&m)>0):e&&void 0!==e.__hasTimeComponent?(this.__hasDateComponent=e.__hasDateComponent,this.__hasTimeComponent=!t&&e.__hasTimeComponent):(this.__hasDateComponent=!0,this.__hasTimeComponent=!t&&!0),null==e&&(e=new Date),e instanceof Date)?(jOmnis.useLocalTime||!this.__hasTimeComponent?(this.dtY=e.getFullYear(),this.dtM=e.getMonth()+1,this.dtD=e.getDate(),s=e.getHours(),i=e.getMinutes(),n=e.getSeconds(),r=e.getMilliseconds()):(this.dtY=e.getUTCFullYear(),this.dtM=e.getUTCMonth()+1,this.dtD=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),n=e.getUTCSeconds(),r=e.getUTCMilliseconds()),!this.__hasTimeComponent||0==s&&0==i&&0==n&&0==r||(this.dtH=s,this.dtN=i,0==n&&0==r||(this.dtS=n,0!=r&&(this.dtG=Math.round(r/10))))):("dtY"in e&&(this.dtY=e.dtY,this.dtM=e.dtM,this.dtD=e.dtD),this.__hasTimeComponent&&"dtH"in e&&(this.dtH=e.dtH,this.dtN=e.dtN,this.dtS=e.dtS,this.dtG=e.dtG))}d.prototype.toString=function(){return this.toJavaScriptDate().dateFormat(this.getFormat(),!0,this.__hasTimeComponent)},d.prototype.valueOf=function(){return this.toJavaScriptDate().getTime()},d.prototype.toJavaScriptDate=function(){var e=new Date;return e.__hasDateComponent=!1!==this.__hasDateComponent,e.__hasTimeComponent=!1!==this.__hasTimeComponent,jOmnis.useLocalTime||!this.__hasTimeComponent?(this.dtY&&e.setFullYear(this.dtY),this.dtM&&(e.setDate(1),e.setMonth(this.dtM-1)),this.dtD&&e.setDate(this.dtD),null!=this.dtH&&this.__hasTimeComponent?(e.setHours(this.dtH),e.setMinutes(this.dtN),null!=this.dtS?e.setSeconds(this.dtS):e.setSeconds(0),null!=this.dtG?e.setMilliseconds(10*this.dtG):e.setMilliseconds(0)):(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0))):(this.dtY&&e.setUTCFullYear(this.dtY),this.dtM&&(e.setUTCDate(1),e.setUTCMonth(this.dtM-1)),this.dtD&&e.setUTCDate(this.dtD),null!=this.dtH?(e.setUTCHours(this.dtH),e.setUTCMinutes(this.dtN),null!=this.dtS?e.setUTCSeconds(this.dtS):e.setUTCSeconds(0),null!=this.dtG?e.setUTCMilliseconds(10*this.dtG):e.setUTCMilliseconds(0)):(e.setUTCHours(0),e.setUTCMinutes(0),e.setUTCSeconds(0),e.setUTCMilliseconds(0))),e},d.prototype.equals=function(e){return null!=e&&e instanceof d&&(this.dtY==e.dtY&&this.dtM==e.dtM&&this.dtD==e.dtD&&this.dtH==e.dtH&&this.dtN==e.dtN&&this.dtS==e.dtS&&this.dtG==e.dtG)},d.getHasTime=function(e){return!!(e&&e instanceof d)&&"dtH"in e},d.prototype.add=function(e,t){switch(e){case c.kYear:var s=new d(this);return s.dtY+=t,2==s.dtM&&29==s.dtD&&(s.dtY%4||!(s.dtY%100)&&s.dtY%400)&&s.dtD--,s;case c.kQuarter:t*=3;case c.kMonth:case c.kMonthofQuarter:var i=this.toJavaScriptDate(),n=this.dtD>=28;i.setMonth(i.getMonth()+t);var r=i.getDate();return n&&r<=3&&(i=new Date(1*i-864e5*r)),new d(i);case c.kWeek:case c.kWeekofQuarter:case c.kWeekofMonth:t*=7;case c.kDay:case c.kDayofYear:case c.kDayofQuarter:t*=24;case c.kHour:t*=60;case c.kMinute:t*=60;case c.kSecond:t*=100;case c.kCentiSecond:return t*=10,i=this.toJavaScriptDate(),new d(i=new Date(1*i+t),!this.__hasTimeComponent)}return null},d.prototype.getFormat=function(){if(!this.__form)return this.__hasDateComponent?this.__hasTimeComponent?jOmnis.mHashFDT:jOmnis.mHashFD:this.__hasTimeComponent?jOmnis.mHashFT:jOmnis.mHashFDT;var e=this.__form;if(this.__dataIndex>=1&&this.__dataIndex<=e.instanceVars.lstDef.length){var t=e.getDefn(this.__dataIndex);if(t){var s=t[2];if(6==s)return jOmnis.mHashFT;if(s>=0&&s<=2)return jOmnis.mHashFD}}};s(2526),s(1817),s(2165),s(2772),s(6992),s(561),s(9653),s(7941),s(8783),s(5306),s(4765),s(6755),s(3948);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}var _=1,f={Current:0,Selected:-1,Deselected:-2};function g(e){null==e?this.list={lstRow:0,lstDef:[],lstData:[],lstLSEL:[],lstL:0}:"object"==p(e)&&"lstDef"in e?this.list=e:"string"==typeof e&&e.indexOf("lstDef")>=0?this.list=JSON.parse(e):this.list={lstRow:0,lstDef:[],lstData:[],lstLSEL:[],lstL:0}}g.addCol=function(e,t,s){if("string"==typeof s||null==s)e.push([t,21,255,1e8,0,0]);else if("boolean"==typeof s)e.push([t,22,0,0,0,0]);else if("number"==typeof s)parseFloat(s)!=parseInt(s,10)||isNaN(s)?e.push([t,25,24,0,0,0]):e.push([t,26,0,0,0,0]);else if(s instanceof omnis_date){if(s.__hasDateComponent)var i=s.__hasTimeComponent?7:0;else i=s.__hasTimeComponent?6:7;e.push([t,23,i,0,0,0])}else{if("object"!=p(s))throw"Cannot convert object member to Omnis row member";Array.isArray(s)||s instanceof g||s instanceof omnis_raw_list&&!s.lstRow?e.push([t,29,0,0,0,0]):e.push([t,29,1,0,0,0])}},g.convertOmnisRowToJavaScriptObject=function(e){for(var t={},s=e.lstDef,i=e.lstData,n=0;n<s.length;++n){var r=s[n][0];r&&r.length||(r="C"+(n+1)),t[r]=i[n]}return t},g.convertJavaScriptArrayToOmnisList=function(e){var t={lstRow:0,lstDef:[],lstData:[],lstLSEL:[],lstL:0};this.addCol(t.lstDef,null,e[0]);for(var s=0;s<e.length;++s){var i=e[s];null!==i&&"object"===p(i)&&(i=Array.isArray(i)?this.convertJavaScriptArrayToOmnisList(i):this.convertJavaScriptObjectToOmnisRow(i,!1)),t.lstData[s]=[i],t.lstLSEL[s]=0}return t},g.convertJavaScriptObjectToOmnisRow=function(e,t,s){function i(e,t){return JSON.parse(JSON.stringify(e,(function(e,s){if(!(e.length>2&&e.startsWith("__")&&this[e]instanceof Object))return t&&"string"==typeof s&&(s=s.replace(/\n/g,"\r")),s})))}var n={lstRow:1,lstDef:[],lstData:[]};if(t&&jControl.rowDefn)n.lstDef=jControl.rowDefn;else{if(e instanceof omnis_raw_list)return n.lstDef=e.lstDef,n.lstData=e.lstData,n.lstRow=e.lstRow,n;if(e instanceof omnis_date)return i(e,!1);n.lstDef=[];for(var r=Object.keys(e),o=0;o<r.length;++o){var a=r[o],l=e[a];this.addCol(n.lstDef,a,l)}}for(o=0;o<n.lstDef.length;++o){var h=e[n.lstDef[o][0]];s&&"string"==typeof h&&(h=h.replace(/\n/g,"\r")),null!==h&&"object"===p(h)&&(h instanceof g&&(h=h.getListData()),h=h instanceof omnis_raw_list?i(h,s):h instanceof omnis_date?i(h,!1):Array.isArray(h)?this.convertJavaScriptArrayToOmnisList(h):this.convertJavaScriptObjectToOmnisRow(h,!1)),n.lstData[o]=h}return n},g.prototype.setData=function(e,t,s,i){var n=this.findColumn(e);if(n>0){var r=this.getRowArray(t);if(r&&(n<=r.length||i))return r[n-1]=s,!0}return!1},g.prototype.getData=function(e,t){var s=this.findColumn(e);if(s>0){var i=this.getRowArray(t);if(i&&s<=i.length)return i[s-1]}return null},g.prototype.getChar=function(e,t,s){var i=this.getData(e,t);return s&&0==i||null==i?i="":i.toString&&(i=i.toString()),i},g.prototype.search=function(e,t,s,i,n){var r=0,o=this.findColumn(e);if(o){for(var a=this.getRowCount(),l=1;l<=a;l++){if(this.getRowArray(l)[o-1]==t){if(r||(r=l),!i)break;this.setRowSelectionState(l,!0)}else n&&this.setRowSelectionState(l,!1)}s&&this.setCurrentRow(r)}return r},g.prototype.getRowSelectionState=function(e){if(!this.list.lstRow){var t=this.rowToIndex(e),s=this.list.lstLSEL;return!!(s&&-1!=t&&t<s.length)&&s[t]}return null},g.prototype.setRowSelectionState=function(e,t){if(!this.list.lstRow){var s=this.rowToIndex(e),i=this.list.lstLSEL;if(i&&-1!=s)return i[s]=t,!0}return!1},g.prototype.setRowSelectionStateAllRows=function(e){if(!this.list.lstRow)for(var t=this.getRowCount(),s=this.list.lstLSEL,i=0;i<t;i++)s[i]=e;return!1},g.prototype.getCurrentRow=function(){return this.list.lstRow?1:this.list.lstL},g.prototype.setCurrentRow=function(e){return!this.list.lstRow&&(e>=0&&e<=this.list.lstData.length&&(this.list.lstL=e,!0))},g.prototype.getRowCount=function(){return this.list.lstRow?1:this.list.lstData.length},g.prototype.getColumnCount=function(){return null==this.list.lstDef?0:this.list.lstDef.length},g.prototype.addRow=function(e,t,s){if(this.list.lstRow)return-1;var i=[];if(t)if(s)for(var n=0;n<t;++n)i.push("");else i[t-1]=null;var r=this.list.lstData;if(!(e&&e>0)){var o=this.getRowCount();return r[o]=i,this.list.lstLSEL[o]=0,this.getRowCount()}var a=this.rowToIndex(e);return-1!=a?(r.splice(a,0,i),this.list.lstLSEL.splice(a,0,0),this.indexToRow(a)):void 0},g.prototype.deleteRows=function(e){if(this.list.lstRow)return-1;var t=this.list.lstData,s=this.list.lstLSEL;switch(e){case f.Current:var i=this.getCurrentRow();if(i>0){var n=this.rowToIndex(i);t.splice(n,1),s.splice(n,1)}return i;case f.Selected:case f.Deselected:for(var r=0,o=e==f.Selected?1:0,a=s.length-1;a>=0;--a)s[a]==o&&(t.splice(a,1),s.splice(a,1),r++);return r;default:if(-1!=(n=this.rowToIndex(e)))return t.splice(n,1),s.splice(n,1),e}return 0},g.prototype.findColumn=function(e,t){t=jOmnis.defaultParameter(t,!1);var s=this.columnNameToNumber(e);if(s>=1)return s;var i=this.list.lstDef;if(i)for(var n=0;n<i.length;n++){var r=i[n][_-1];if(t){if(0==r.indexOf(e))return n+1}else if(r==e)return n+1}return null},g.prototype.columnNameToNumber=function(e){return null==e?0:"number"==typeof e?Number(e):(0==e.indexOf("C")||0==e.indexOf("c")?(e=e.toUpperCase(),s="C"+(t=parseInt(e.substr(1)))):s=(t=Number(e)).toString(),s==e?t:0);var t,s},g.prototype.rowToIndex=function(e){return this.list.lstRow?null:e?e>0&&e<=this.getRowCount()?e-1:-1:this.list.lstL-1},g.prototype.indexToRow=function(e){return this.list.lstRow?1:e+1},g.prototype.getRowArray=function(e){if(this.list.lstRow)return this.list.lstData;var t=this.rowToIndex(e);return-1!=t?this.list.lstData[t]:null},g.prototype.getListData=function(){return this.list};s(2222),s(7042),s(2707);var y=1e8,v={rownumber:-358,objtype:-441,selected:-507,objsubtype:-600,objsublen:-601,total:-615,average:-616,minimum:-617,maximum:-618,linecount:-620,linemax:-621,line:-622,colcount:-623,coltype:-630,colsubtype:-631,colsublen:-632};function b(e,t){this.mList=e,this.mColNumber=t}function D(e,t){this.mList=e,this.mRowNumber=t}function C(e){this.mList=e}function O(e,t,s){if("boolean"==typeof e)this.lstRow=e?1:0,this.lstDef=[],this.lstData=[],this.lstRow||(this.lstLSEL=[],this.lstL=0),this.__form=t,this.__obj=s;else{if(e instanceof O)return jOmnis.copyValue(e);this.lstRow=e.lstRow,this.lstDef=e.lstDef,this.lstData=e.lstData,this.lstRow||(this.lstLSEL=e.lstLSEL,this.lstL=e.lstL)}}function E(e,t,s,i){if(0==s)return null;for(var n,r=4==arguments.length,o=e,a=0;a<s&&null!=o;++a){var l=t[a];if(o instanceof O)if(o.lstRow){if(null==(c=o.resolveColumn(l)))return null;r&&a==s-1?(i=o.convertDataType(i,c),o.lstData[c]=i,o=!0):o=o.lstData[c]}else if(jOmnis.isInteger(l)){var h=1*l-1;if(h<0||h>=o.lstData.length)return null;n||(n=new D),n.mList=o,n.mRowNumber=1*l,o=n,r&&a==s-1&&(o=o.assign(i))}else{if(o.lstL<1||o.lstL>o.lstData.length)return null;if(null==(c=o.resolveColumn(l)))return null;r&&a==s-1?(i=o.convertDataType(i,c),o.lstData[o.lstL-1][c]=i,o=!0):o=o.lstData[o.lstL-1][c]}else{if(!(o instanceof D))return null;var c;if(null==(c=o.mList.resolveColumn(l)))return null;if(!(o.mRowNumber>=1&&o.mRowNumber<=o.mList.lstData.length))return null;r&&a==s-1?(i=o.mList.convertDataType(i,c),o.mList.lstData[o.mRowNumber-1][c]=i,!a&&1==s&&"__dataIndex"in o.mList&&(o.mSingleColumn=c+1),o=!0):o=o.mList.lstData[o.mRowNumber-1][c]}}return o}function S(e){var t,s,n,r,o=this,a=[],l=!1,c=!1;if(this.isResponsive=e.serverElem.hasAttribute("data-pi"),this.isResponsive){n=this.eLayoutTypes.responsive;var u=JSON.parse(e.serverElem.getAttribute("data-pi"));for(var m in u)a.push(m.toString());a.sort((function(e,t){return+e>+t?1:-1}))}else u=e.serverElem.hasAttribute("data-ssz")?h.yZ.getAttributeList(e.serverElem,"data-ssz","~"):h.yZ.getAttributeList(e.serverElem,"data-screensize","~"),(n=u.length>1?this.eLayoutTypes.screen:this.eLayoutTypes.single)==this.eLayoutTypes.single&&(e.curScreenSize=0);var d=new function(e){var t={},s=!Array.isArray(e);for(var i in e)t[i]={},t[i].minWidth=t[i].width=s?+i:e[i][0],t[i].minHeight=t[i].height=s?e[i][3]:e[i][1],s||(t[i].minWidth=t[i].minHeight=0);this.updateLayout=function(e,s,i){t[e].width=s,t[e].height=i},this.getLayoutInfo=function(e){return null==e&&(e=r),h.yZ.deepCopy(t[e])},this.getBreakpoints=function(){return s?Object.keys(t).join():null},this.getLayoutNames=function(){return Object.keys(t)},this.updateLayoutInfo=function(e,i,n){t[e]||(t[e]=h.yZ.deepCopy(t[h.yZ.getNearestKey(s,t,e)])),t[e][i]=n}}(u);function p(t,s){if(void 0===r&&(r=n===this.eLayoutTypes.single?0:h.yZ.curScreenSize),e.parentForm&&t&&e.getTrueVisibility()){var o,a=function(t){var s=e.mPositionInfo.getLayoutInfo(l),i=e.subFormObj.horzscroll,n=e.subFormObj.vertscroll,r=e.subFormObj.mSFS&&e.subFormObj.mSFS.scrollable,o=2*e.subFormObj.borderWidth,a=void 0===e.subFormObj.currentLayout?e.subFormObj.form.curScreenSize:e.subFormObj.currentLayout,c=e.subFormObj.cachedPositionInfo.getLayoutInfo(a),u=i?s.width:(t?h.yZ.getOmnisWidth(e.subFormObj.getClientElem()):c.width)-o;u=Math.max(u,s.minWidth);var m=n?s.height:(t?h.yZ.getOmnisHeight(e.subFormObj.getClientElem()):c.height)-o;m=Math.max(m,s.minHeight);var d=t&&e.lastWidth?e.lastWidth:s.width,p=t&&e.lastHeight?e.lastHeight:s.height;return e.floatX=i||r?0:u-d,e.floatY=n||r?0:m-p,r||(h.yZ.setOmnisWidth(e.serverElem,u),h.yZ.setOmnisHeight(e.serverElem,m)),h.yZ.setOmnisWidth(e.subFormObj.clientElem,u+o),h.yZ.setOmnisHeight(e.subFormObj.clientElem,m+o),{width:u,height:m}},l=e.curScreenSize=n===this.eLayoutTypes.single?0:h.yZ.curScreenSize;if(e.curScreenSizeConst!==h.yZ.curScreenSizeConst){e.curScreenSizeConst=h.yZ.curScreenSizeConst;var c=!0}if(this.initSize||(this.initSize=[]),this.initSize[l])h.yZ.curScreenSize>0&&e.mPositionInfo.getLayoutType()===e.mPositionInfo.eLayoutTypes.screen?e.floatX=e.floatY=0:e.subFormObj.wasResizedWhileInvisible&&(e.subFormObj.wasResizedWhileInvisible=!1,o=a(!0));else{this.initSize[l]=!0,o=a(!1);var u=e.subFormObj.horzscroll,m=e.subFormObj.vertscroll,p=e.subFormObj.mSFS&&e.subFormObj.mSFS.scrollable;e.subFormObj.mSFS||!u&&!m||h.yZ.mDesign||(e.subFormObj.elem.style.overflow="hidden"),!m||p||h.yZ.mDesign||(e.subFormObj.elem.style.overflowY="auto"),!u||p||h.yZ.mDesign||(e.subFormObj.elem.style.overflowX="auto"),p&&(e.subFormObj.clientElem.style.overflow="auto")}e.doSetScreenSize(n===this.eLayoutTypes.single?0:h.yZ.curScreenSize),e.floatX=e.floatY=0,o||(o={width:e.getProperty(i.W9.width),height:e.getProperty(i.W9.height)}),e.lastWidth=o.width,e.lastHeight=o.height,d.updateLayout(l,o.width,o.height)}return c}this.getLayoutType=function(){return n},this.getBreakpoints=d.getBreakpoints,this.getLayoutNames=d.getLayoutNames,this.getLayoutInfo=d.getLayoutInfo,this.updateLayoutInfo=d.updateLayoutInfo,this.getLayoutRef=function(){return r},this.update=function(i,o){if(e.getTrueVisibility()||null==r&&this.isResponsive){if(e.isSubform&&!this.isResponsive)l=p.call(this,i);else{if(e.isSubform){var c=e.subFormObj.cachedPositionInfo.getLayoutInfo(e.subFormObj.form.mPositionInfo.getLayoutRef());t=c.width,s=c.height}else this.isResponsive&&h.yZ.mDesign&&!e.isSubform?(t=h.yZ.mDesign,s=e.inst.elem.clientHeight):(t=e.inst.elem.clientWidth,s=e.inst.elem.clientHeight);var u,m;if(this.isResponsive){var v=function(e){for(var t=a.length-1;t>=0;t--)if(e>=+a[t])return a[t];return a[0]}(t);r!=v&&(r=v,l=!0)}else v=n===this.eLayoutTypes.single?0:h.yZ.curScreenSize,r!==v&&(l=!0,r=v,e.curScreenSizeConst=h.yZ.curScreenSizeConst);e.curScreenSize=r;var b=d.getLayoutInfo(r);u=b.width,m=b.height;var D=l||t!=u||s!=m||h.yZ.mDesign;if(l&&(h.yZ.setOmnisWidth(e.serverElem,u),h.yZ.setOmnisHeight(e.serverElem,m)),D&&i){if(!f()){var C,O,E,S=h.yZ.mDesign&&!e.isSubform?null:_(u,m),P=u,M=m;if(S){var w=d.getLayoutInfo(r);P=w.width,M=w.height,h.yZ.setOmnisWidth(e.serverElem,P),h.yZ.setOmnisHeight(e.serverElem,M),e.floatX=S.floatX,e.floatY=S.floatY}if(null===(C=e.subFormObj)||void 0===C?void 0:C.breakpointTransitionAnimationFrame)e.subFormObj.animateTransCompleteAction=function(){g(P,M),y()};else(null===(O=e.subFormObj)||void 0===O?void 0:O.animateTransCompleteAction)&&!(null===(E=e.subFormObj)||void 0===E?void 0:E.pendingAnimateTransCompleteAction)&&(e.subFormObj.animateTransCompleteAction=null),g(P,M),y()}e.doSetScreenSize(r,l),e.floatX=0,e.floatY=0,e.getTrueVisibility()||(e.mNotifyControlsOnVisible=!0)}}o&&l&&e.canSendEvent(eBaseEvent.evLayoutChanged)&&e.sendEvent(0,eBaseEvent.evLayoutChanged,[["pBreakpoint",+e.curScreenSize]]),i&&(l=!1)}};var _=function(i,n){var o,a,l=d.getLayoutInfo(r),c=l.minWidth,u=l.minHeight,m=t-i,p=s-n;if(e.isResponsive||e.isSubform||(!h.yZ.mobileDevice||gResponsiveDesign)&&(e.resizeMode==eResizeModes.keepaspect||e.resizeMode==eResizeModes.ignoreaspect)){e.isSubform||e.resizeMode==eResizeModes.ignoreaspect?((o=i+m)<c&&(o=c),(a=n+p)<u&&(a=u)):i/n>t/s?(o=i+m)<c?(o=c,a=u):(a=Math.round(o/i*n))<u&&(a=u):(a=n+p)<u?(o=c,a=u):(o=Math.round(a/n*i))<c&&(o=c);var _=(!h.yZ.mDesign||e.isSubform)&&(o>t||a>s),f=_?"auto":"hidden";return!e.isSubform&&f!==document.body.style.overflow&&h.yZ.getScrollbarWidth()>0&&(h.yZ.mDesign&&!e.isSubform||(document.body.style.overflow=f),document.body.offsetHeight,o!==i&&(o+=e.inst.elem.clientWidth-t),a!==n&&(a+=e.inst.elem.clientHeight-s)),d.updateLayout(r,o,a),e.needWindowScroll=_,{floatX:o-i,floatY:a-n}}return e.needWindowScroll=i>t||n>s,null},f=function(){if(!o.isResponsive&&h.yZ.inAppWrapper()&&h.yZ.mobileDevice){var t=e.serverElem.parentNode.parentNode;if(0==r)return t.style[h.yZ.transformProperty]="",!1;var s=h.yZ.getWrapperDimensions(r,e.serverElem,e);if(t.style.left=null==s?0:s.Left+"px",t.style.top=null==s?0:s.Top+"px",t.style[h.yZ.transformProperty]="",s.floatControls&&(o.floatDone||(o.floatDone=[]),!o.floatDone[r]&&e.mChildren.length>0)){o.floatDone[r]=!0;var i=d.getLayoutInfo(r);e.floatX=s.Width-i.width,e.floatX<0&&s.canScrollH?e.floatX=0:h.yZ.setOmnisWidth(e.serverElem,i.width+e.floatX);var n=i.width+e.floatX;e.floatY=s.Height-(i.height-20),e.floatY<0&&s.canScrollV?e.floatY=0:h.yZ.setOmnisHeight(e.serverElem,i.height+e.floatY);var a=i.height+e.floatY;d.updateLayout(r,n,a)}return t.parentNode.style.width=s.Width+"px",t.parentNode.style.height=s.Height+"px",t.parentNode.style.background=e.serverElem.style.background,!0}return!1},g=function(i,n){if(r||e.isResponsive){if(e.isResponsive)if(e.isSubform){var o=h.yZ.mDesign?e.subFormObj.elem:e.subFormObj.clientElem,a=i>t||n>s;if(h.yZ.mDesign?(o.style.overflowY=e.subFormObj.vertscroll&&a?"scroll":"hidden",o.style.overflowX=e.subFormObj.horzscroll&&a?"scroll":"hidden"):o.style.overflow=a?"auto":"hidden",t!==o.clientWidth&&h.yZ.getScrollbarWidth()>0){var l=t-o.clientWidth;h.yZ.setOmnisWidth(e.serverElem,e.serverElem.clientWidth-l)}}else e.serverElem.style.overflow=h.yZ.mDesign?"visible":"hidden"}else{var c=e.serverElem.getAttribute("data-sbs"),u=e.serverElem.style;null!=c?(c*=1,u.overflowY=1&c?"auto":"hidden",u.overflowX=2&c?"auto":"hidden"):u.overflow="hidden"}},y=function(){if(!c){c=!0;var t=e.serverElem;"auto"!=t.style.overflowY&&setTimeout((function(){t.scrollTop=0}),0),"auto"!=t.style.overflowX&&setTimeout((function(){t.scrollLeft=0}),0)}}}b.prototype.getProperty=function(e){if(this.mColNumber>this.mList.lstDef.length)return null;switch(e){case v.objtype:case v.coltype:return this.mList.lstDef[this.mColNumber-1][1];case v.objsubtype:case v.colsubtype:return this.mList.lstDef[this.mColNumber-1][2];case v.objsublen:case v.colsublen:return this.mList.lstDef[this.mColNumber-1][3];case eBaseProperties.ident:return this.mColNumber;case eBaseProperties.name:return this.mList.lstDef[this.mColNumber-1][0];case eBaseProperties.count:return this.$count(!1);case v.total:return this.mList.total(this.mColNumber-1,!1);case v.minimum:return this.mList.minimum(this.mColNumber-1,!1);case v.maximum:return this.mList.maximum(this.mColNumber-1,!1);case v.average:return this.mList.average(this.mColNumber-1,!1)}return null},b.prototype.callMethod=function(e,t){switch(e){case"$count":return this.$count(t);case"$total":return this.mList.total(this.mColNumber-1,t);case"$minimum":return this.mList.minimum(this.mColNumber-1,t);case"$maximum":return this.mList.maximum(this.mColNumber-1,t);case"$average":return this.mList.average(this.mColNumber-1,t)}return null},b.prototype.getCanAssign=function(e){return e!=eBaseProperties.ident},b.prototype.setPropCli=function(e,t){if(this.mColNumber>this.mList.lstDef.length)return!1;switch(e){case v.coltype:if(0==(t*=1))return!1;this.mList.lstDef[this.mColNumber-1][1]=t;break;case v.colsubtype:if(0==(t*=1))return!1;this.mList.lstDef[this.mColNumber-1][2]=t;break;case v.colsublen:t*=1,this.mList.lstDef[this.mColNumber-1][3]=t;break;case eBaseProperties.name:if("string"!=typeof t||0==t.length)return!1;var s=this.mList.resolveColumn(t);if(s&&s+1!=this.mColNumber)return!1;this.mList.lstDef[this.mColNumber-1][0]=t;break;default:return!1}return this.mList.markAsModified(),!0},b.prototype.remselduplicates=function(e,t,s){if(this.lstRow)return 0;e=jOmnis.defaultParameter(e,!1),t=jOmnis.defaultParameter(t,!1);var i=this.mList;if(e){var n="C"+this.mColNumber;t?i.$sort((function(e){return jOmnis.fn.upp(jOmnis.getValue(e,n))}),!1):i.$sort((function(e){return jOmnis.getValue(e,n)}),!1)}var r=!1;function o(e,t){t!=i.lstLSEL[e-1]&&(r=!0,i.lstLSEL[e-1]=t)}var a=this.mColNumber-1,l=i.lstData.length,h=i.lstData[l-1][a];t&&"string"==typeof h&&(h=h.toUpperCase());var c=0;i.checkWrapper(),s||o(l,0);for(var u=l-1;u>=1;u--){s||o(u,0);var m=i.lstData[u-1][a];t&&"string"==typeof h&&(m=m.toUpperCase()),m!=h?h=m:(c++,s?i.__list.deleteRows(u+1):o(u+1,1))}return(r||s&&c)&&i.markAsModified(),c},b.prototype.$removeduplicates=function(e,t){return this.remselduplicates(e,t,!0)},b.prototype.$selectduplicates=function(e,t){return this.remselduplicates(e,t,!1)},b.prototype.$clear=function(){return!(this.mColNumber>this.mList.lstDef.length)&&(this.mList.initColumn(this.mColNumber),!0)},b.prototype.$count=function(e){if(e=jOmnis.defaultParameter(e,!1),this.mColNumber>this.mList.lstDef.length)return 0;var t=0,s=this.mColNumber-1;if(this.mList.lstRow)return e||null==this.mList.lstData[s]?0:1;for(var i=0;i<this.mList.lstData.length;++i)e&&!this.mList.islinesel(i+1)||null!=this.mList.lstData[i][s]&&++t;return t},D.prototype.getValue=function(){return E(this,arguments,arguments.length)},D.prototype.setValue=function(){if(this.mSingleColumn=0,arguments.length>=2&&E(this,arguments,arguments.length-1,arguments[arguments.length-1])){if(this.mSingleColumn){var e=this.mList.__form;if(!e.disableAutomaticUpdates){var t=this.mList.__dataIndex,s=t%65536,i=Math.floor(t/65536);e.generateAutomaticUpdate(s-1,i-1,"#1COL",this.mRowNumber,this.mSingleColumn)}}else this.mList.markAsModified();return!0}return!1},D.prototype.xaddValue=function(){var e=E(this,arguments,arguments.length-1);return E(this,arguments,arguments.length-1,e+=arguments[arguments.length-1])&&this.mList.markAsModified(),E(this,arguments,arguments.length-1)},D.prototype.xsubValue=function(){var e=E(this,arguments,arguments.length-1);return E(this,arguments,arguments.length-1,e-=arguments[arguments.length-1])&&this.mList.markAsModified(),E(this,arguments,arguments.length-1)},D.prototype.xmulValue=function(){var e=E(this,arguments,arguments.length-1);return E(this,arguments,arguments.length-1,e*=arguments[arguments.length-1])&&this.mList.markAsModified(),E(this,arguments,arguments.length-1)},D.prototype.xdivValue=function(){var e=E(this,arguments,arguments.length-1);return E(this,arguments,arguments.length-1,e/=arguments[arguments.length-1])&&this.mList.markAsModified(),E(this,arguments,arguments.length-1)},D.prototype.assign=function(e){return null!=e&&(e instanceof O?e.lstRow?t=e.lstData:e.lstL>=1&&e.lstL<=e.lstData.length&&(t=e.lstData[e.lstL-1]):e instanceof D&&e.mRowNumber>=1&&e.mRowNumber<=e.mList.lstData.length&&(t=e.mList.lstData[e.mRowNumber-1]),!!t&&(this.mList.checkWrapper(),this.mList.copyArgumentsToRow.apply(this.mList,[this.mRowNumber].concat(t)),!0));var t},D.prototype.getProperty=function(e){switch(e){case v.line:case v.rownumber:return this.mRowNumber;case v.selected:return this.mList.islinesel(this.mRowNumber)}return null},D.prototype.getCanAssign=function(e){return v.selected==e},D.prototype.setPropCli=function(e,t){return e===v.selected&&(!!(this.mList.lstLSEL&&this.mRowNumber>=1&&this.mRowNumber<=this.mList.lstLSEL.length)&&(this.mList.lstLSEL[this.mRowNumber-1]=1*t!=0?1:0,this.mList.markAsModified(),!0))},D.prototype.$assignrow=function(e,t){var s=this.tempSetListLine(),i=this.mList.$assignrow(e,t);return this.mList.lstL=s,i},D.prototype.$clear=function(){var e=this.mList.$cols();this.mList.actingOnRow=this.mRowNumber;for(var t=e.$first(),s=!0;t&&s;)s=t.$clear(),t=e.$next(t);return delete this.mList.actingOnRow,s},D.prototype.$assigncols=function(){var e=this.tempSetListLine(),t=this.mList.$assigncols.apply(this.mList,arguments);return this.mList.lstL=e,t},D.prototype.$loadcols=function(){var e=this.tempSetListLine();this.mList.$loadcols.apply(this.mList,arguments),this.mList.lstL=e},D.prototype.tempSetListLine=function(){var e=this.mList.lstL;return this.mList.lstL=this.mRowNumber,e},C.prototype.getValue=function(e){var t=this.mList.resolveColumn(e);return null==t?null:new b(this.mList,t+1)},C.prototype.getProperty=function(e,t){var s=this.getValue(e);return s?s.getProperty(t):null},C.prototype.getCanAssign=function(e,t){var s=this.getValue(e);return!!s&&s.getCanAssign(t)},C.prototype.setPropCli=function(e,t,s){var i=this.getValue(e);return!!i&&i.setPropCli(t,s)},C.prototype.$count=function(){return this.mList.lstDef.length},C.prototype.$add=function(e,t,s,i,n){var r;return(r="string"==typeof e?this.createRdefEntry(arguments[0],arguments[1],arguments[2],arguments[3]):this.createRdefEntry(t,s,i,n,e[0]))?(this.mList.lstDef||(this.mList.lstDef=[]),this.mList.lstDef.push(r),this.mList.initColumn(this.mList.lstDef.length),new b(this.mList,this.mList.lstDef.length)):null},C.prototype.$addafter=function(e,t,s,i,n,r){var o,a,l="[object Array]"===Object.prototype.toString.call(e)?t:e;if(l&&l instanceof b){if(l.mList!=this.mList)return null;o=l.mColNumber+1}else jOmnis.isInteger(l)&&(o=1*l+1);return null==o?null:(a=l==e?this.createRdefEntry(arguments[1],arguments[2],arguments[3],arguments[4]):this.createRdefEntry(s,i,n,r,e[1]))?this.insertColumn(o,a):null},C.prototype.$addbefore=function(e,t,s,i,n,r){var o,a="[object Array]"===Object.prototype.toString.call(e)?t:e;if(a&&a instanceof b){if(a.mList!=this.mList)return null;o=a.mColNumber}else jOmnis.isInteger(a)&&(o=1*a);if(null==o)return null;if(a==e)var l=this.createRdefEntry(arguments[1],arguments[2],arguments[3],arguments[4]);else l=this.createRdefEntry(s,i,n,r,e[1]);return l?this.insertColumn(o,l):null},C.prototype.createRdefEntry=function(e,t,s,i,n){if(129==t?t=eOmnisDataTypes.fftList:229==t?t=eOmnisDataTypes.fftRow:t==eOmnisDataTypes.fftDate&&s>=1e3&&(s=eOmnisDataSubTypes.dpFdtimedefault+8*(s-1e3)),null!=this.mList.resolveColumn(null==t&&null!=n?n:e))return null;if(null==t){var r=jOmnis.currentForm.getDataIndex(null!=n?n:e,null,!1);if(0!=r)return[].concat(jOmnis.currentForm.getDefn(r));t=eOmnisDataTypes.fftCharacter,s=0,i=y}return[e,t,s,i,0,0]},C.prototype.insertColumn=function(e,t){return this.mList.lstDef.splice(e-1,0,t),this.mList.insertColumn(e),this.mList.initColumn(e),new b(this.mList,e)},C.prototype.$remove=function(e){var t;if(e instanceof b&&e.mList==this.mList?t=e.mColNumber:jOmnis.isInteger(e)&&(t=1*e),null==t||t<1||t>this.mList.lstDef.length)return!1;if(t-=1,this.mList.lstDef.splice(t,1),this.mList.lstRow)this.mList.lstData.splice(t,1);else for(var s=0;s<this.mList.lstData.length;++s)this.mList.lstData[s].splice(t,1);this.mList.markAsModified()},C.prototype.$appendlist=function(e,t){if(!O.isRawList(e,!1))return!1;for(var s=new b(this.mList,1),i=1;i<=this.mList.lstDef.length;++i){s.mColNumber=i;var n=t(s);e.lstData.push(e.convertTypes(n)),e.lstLSEL.push(0)}return e.markAsModified(),!0},C.prototype.$insertlist=function(e,t,s){if(!O.isRawList(e,!1))return!1;e.checkWrapper();for(var i=new b(this.mList,1),n=1;n<=this.mList.lstDef.length;++n){i.mColNumber=n;var r=s(i),o=e.__list.addRow(t+n-1,e.__list.getColumnCount());e.lstData[o-1]=e.convertTypes(r)}return e.markAsModified(),!0},C.prototype.$makelist=function(e){for(var t=null,s=new b(this.mList,1),i=1;i<=this.mList.lstDef.length;++i){s.mColNumber=i;var n=e(s);1==i&&(t=O.defineMakelistResult(n)),t.lstData.push(n),t.lstLSEL.push(0)}return t},C.prototype.$findident=function(e){return jOmnis.isInteger(e)&&(e*=1)>=1&&e<=this.mList.lstDef.length?new b(this.mList,e):null},C.prototype.$findname=function(e){return this.getValue(e)},C.prototype.$first=function(){return this.mList.lstDef.length>0?new b(this.mList,1):null},C.prototype.$next=function(e){return e&&e instanceof b&&e.mList==this.mList&&e.mColNumber<this.mList.lstDef.length?new b(this.mList,e.mColNumber+1):null},C.prototype.$sendall=function(e,t){if(null==e)return!1;for(var s=new b(this.mList,1),i=1;i<=this.mList.lstDef.length;++i)s.mColNumber=i,(null==t||t(s))&&e(s);return!0},O.prototype.islinesel=function(e){return!!(this.lstLSEL&&e>=1&&e<=this.lstLSEL.length)&&!!this.lstLSEL[e-1]},O.prototype.selline=function(e,t){if(this.lstLSEL)return this.lstLSEL[e-1]=t},O.prototype.resolveColumn=function(e){if(this.checkWrapper(),!e)return null;if(jOmnis.isInteger(e))return 1*e-1;var t=this.__list.findColumn(e);return t?t-1:null},O.prototype.getValue=function(){return E(this,arguments,arguments.length)},O.prototype.setValue=function(){if("[object Array]"===Object.prototype.toString.call(arguments[1])&&this.__form.setData(this.__dataIndex,arguments[arguments.length-1],"#NCELL",arguments[1],null,!0,"a"),this.lstRow&&2==arguments.length){var e=this.resolveColumn(arguments[0]);if(null!=e){var t=this.convertDataType(arguments[1],e);return this.lstData[e]=jOmnis.copyValue(t),this.markAsModified(e),!0}}else if(arguments.length>=2&&E(this,arguments,arguments.length-1,arguments[arguments.length-1]))return this.markAsModified(),!0;return!1},O.prototype.xaddValue=function(){var e=E(this,arguments,arguments.length-1);return E(this,arguments,arguments.length-1,e+=arguments[arguments.length-1])&&this.markAsModified(),E(this,arguments,arguments.length-1)},O.prototype.xsubValue=function(){var e=E(this,arguments,arguments.length-1);return E(this,arguments,arguments.length-1,e-=arguments[arguments.length-1])&&this.markAsModified(),E(this,arguments,arguments.length-1)},O.prototype.xmulValue=function(){var e=E(this,arguments,arguments.length-1);return E(this,arguments,arguments.length-1,e*=arguments[arguments.length-1])&&this.markAsModified(),E(this,arguments,arguments.length-1)},O.prototype.xdivValue=function(){var e=E(this,arguments,arguments.length-1);return E(this,arguments,arguments.length-1,e/=arguments[arguments.length-1])&&this.markAsModified(),E(this,arguments,arguments.length-1)},O.prototype.getSelected=function(e){if(jOmnis.isInteger(e)){var t=1*e-1;return!!(this.lstLSEL&&t>=0&&t<this.lstLSEL.length)&&!!this.lstLSEL[t]}return null},O.prototype.setSelected=function(e,t){if(jOmnis.isInteger(e)){var s=1*e-1;if(this.lstLSEL&&s>=0&&s<this.lstData.length){var i=!!t;return!!this.lstLSEL[s]!=i&&(this.lstLSEL[s]=i?1:0,this.markAsModified()),!0}}return!1},O.prototype.getProperty=function(e){switch(e){case v.linecount:return this.lstRow?1:this.lstData.length;case v.linemax:return this.lstRow?1:null;case v.line:return this.lstRow?null:this.lstL;case v.colcount:return this.lstDef?this.lstDef.length:0}return null},O.prototype.getCanAssign=function(e){return e!=v.linemax&&e!=v.colcount&&!this.lstRow},O.prototype.setPropCli=function(e,t){if(arguments.length>2){for(var s=this,i=0;i<arguments.length-2;i+=2)s=s.getValue(arguments[i],arguments[i+1]);var n=s.setPropCli(arguments[arguments.length-2],arguments[arguments.length-1]);return n&&this.markAsModified(),n}if(!jOmnis.isInteger(t))return!1;switch(t*=1,e){case v.linecount:if(t<0||this.lstRow)return!1;if(t<this.lstData.length)this.lstData.splice(t,this.lstData.length-t);else if(t>this.lstData.length){for(var r=[],o=0;o<this.lstDef.length;++o)this.lstDef[o][1]==eOmnisDataTypes.fftInteger||this.lstDef[o][1]==eOmnisDataTypes.fftNumber||this.lstDef[o][1]==eOmnisDataTypes.fftSequence?r.push(0):r.push(null);for(var a=t-this.lstData.length;a>0;--a)this.lstData.push([].concat(r))}if(t<this.lstLSEL.length)this.lstLSEL.splice(t,this.lstLSEL.length-t);else if(t>this.lstLSEL.length)for(a=t-this.lstLSEL.length;a>0;--a)this.lstLSEL.push(0);return this.lstL>t&&(this.lstL=0),this.markAsModified(),!0;case v.line:return t>=0&&t<=this.lstData.length+1&&!this.lstRow&&(this.lstL!=t&&(this.lstL=t,this.markAsModified(null,"#L")),!0)}return!1},O.prototype.$define=function(){if(this.mRedefine||(this.lstDef=[],this.lstData=[],this.lstRow||(this.lstL=0,this.lstLSEL=[])),!(arguments.length<=1)){for(var e=arguments[0],t=1;t<arguments.length;++t){var s=e[t-1],i=!1;if(this.__obj){var n=this.__obj.get_ivar_defn(s);n&&(i=!0,this.lstDef[t-1]=n)}if(!i){var r=this.__obj?0:this.__form.getDataIndex(s,null,!1);this.lstDef[t-1]=0!=r?this.__form.getDefn(r):O.createRdefEntry(s,arguments[t],t)}this.lstRow&&!this.mRedefine&&(this.lstData[t-1]="")}return this.markAsModified(),!0}},O.prototype.$redefine=function(){return this.mRedefine=!0,this.$define.apply(this,Array.prototype.slice.call(arguments,0)),delete this.mRedefine,!0},O.prototype.$definefromsqlclass=function(){this.lstDef=[],this.lstData=[],this.lstRow||(this.lstL=0,this.lstLSEL=[]);for(var e=arguments.length/4,t=0;t<e;++t){var s=4*t;this.lstDef.push([arguments[s],arguments[s+1],arguments[s+2],arguments[s+3],0,0])}if(this.lstRow)for(t=0;t<e;++t){var i;switch(this.lstDef[t][1]){case eOmnisDataTypes.fftCharacter:i="";break;case eOmnisDataTypes.fftInteger:case eOmnisDataTypes.fftSequence:case eOmnisDataTypes.fftNumber:i=0;break;case eOmnisDataTypes.fftBoolean:i=!1;break;default:i=null}this.lstData[t]=i}return this.markAsModified(),!0},O.prototype.$copydefinition=function(e){return!!(e&&e instanceof O)&&(this.$clear(),this.lstDef=jOmnis.deepCopy(e.lstDef),this.lstRow&&this.lstDef.length>0&&(this.lstData[this.lstDef.length-1]=""),!0)},O.prototype.$addcols=function(){var e=parseInt(arguments.length/4);4*e!==arguments.length&&this.throwListException("omn_list_badaddcols"),this.lstDef||(this.lstDef=[]);for(var t=this.$cols(),s=0;s<e;++s){var i=4*s;t.$add(arguments[i]+"",arguments[i+1],arguments[i+2],arguments[i+3])}},O.prototype.$first=function(e,t,s){if(e=jOmnis.defaultParameter(e,!1),t=jOmnis.defaultParameter(t,!1),this.lstRow)return null;var i=null,n=this.lstData.length;if(n>0){var r=this.nextMatchingRow(t?n:1,e,t,s);r>0?(this.lstL=r,i=new D(this,r)):this.lstL=0,this.markAsModified()}return i},O.prototype.$next=function(e,t,s,i){if(t=jOmnis.defaultParameter(t,!1),s=jOmnis.defaultParameter(s,!1),this.lstRow)return null;var n=null,r=this.lstData.length;if(r>0){var o=0;if(e&&e instanceof D){if(e.mList!=this)return null;o=e.mRowNumber}else jOmnis.isInteger(e)&&(o=1*e);o||(o=this.lstL),s?--o<0&&(o=r):o++,(o=o>0&&o<=r?this.nextMatchingRow(o,t,s,i):0)>0?(this.lstL=o,n=new D(this,o)):this.lstL=0,this.markAsModified()}return n},O.prototype.nextMatchingRow=function(e,t,s,i){var n,r;i&&(n=new D(this,1),r=this.lstL);var o=this.lstData.length;if(t||i)for(;e>0;){var a=!0;if(t&&!this.islinesel(e)&&(a=!1),a&&i&&(n.mRowNumber=e,this.lstL=e,a=0!=i(n),this.lstL=r),a)break;s?e--:++e>o&&(e=0)}return e},O.prototype.$add=function(){if(this.lstRow)return null;this.checkWrapper();var e=this.__list.addRow(0,this.__list.getColumnCount());return this.copyArgumentsToRow.apply(this,[e].concat(Array.prototype.slice.call(arguments,0)))},O.prototype.$addafter=function(){if(this.lstRow)return null;this.checkWrapper();var e=this.__list.addRow(arguments[0]+1,this.__list.getColumnCount());return this.copyArgumentsToRow.apply(this,[e].concat(Array.prototype.slice.call(arguments,1)))},O.prototype.$addbefore=function(){if(this.lstRow)return null;this.checkWrapper();var e=this.__list.addRow(arguments[0],this.__list.getColumnCount());return this.copyArgumentsToRow.apply(this,[e].concat(Array.prototype.slice.call(arguments,1)))},O.prototype.copyArgumentsToRow=function(e){if(e!=INVALID_LIST_OPERATION){var t=this.__list.getColumnCount(),s=arguments.length-1;s>t&&(s=t);for(var i=1;i<=s;++i)this.lstData[e-1][i-1]=jOmnis.copyValue(arguments[i]),arguments[i]instanceof O&&(this.lstData[e-1][i-1].__lstParent=this);if(this.convertTypes(this.lstData[e-1]),s<t)for(i=s;i<t;++i){var n=this.lstDef[i];if(n){var r;switch(n[1]){case eOmnisDataTypes.fftCharacter:r="";break;case eOmnisDataTypes.fftInteger:case eOmnisDataTypes.fftSequence:case eOmnisDataTypes.fftNumber:r=0;break;case eOmnisDataTypes.fftBoolean:r=!1}this.lstData[e-1][i]=r}}return this.markAsModified(),new D(this,e)}return null},O.prototype.$remove=function(e){var t;switch(e instanceof D&&e.mList==this?t=e.mRowNumber:jOmnis.isInteger(e)&&(t=1*e),this.checkWrapper(),t){case-1:return this.__list.deleteRows(eListDeleteRow.Selected),this.markAsModified(),!0;case-2:return this.__list.deleteRows(eListDeleteRow.Deselected),this.markAsModified(),!0}return t>=1&&t<=this.lstData.length&&(this.__list.deleteRows(t),this.markAsModified(),!0)},O.prototype.$clear=function(){this.lstData=[],this.lstRow||(this.lstLSEL=[],this.lstL=0),this.markAsModified()},O.prototype.$merge=function(e,t,s,i){if(i=jOmnis.defaultParameter(i,!1),this.lstRow)return!1;var n=0;O.isRawList(e)||e instanceof D&&(n=e.mRowNumber,e=e.mList),i&&(this.lstData=[]),this.checkWrapper(),e.checkWrapper();for(var r=this.__list.getColumnCount(),o=e.__list.getColumnCount(),a=[],l=1;l<=o;l++){var h=0;((h=t?this.__list.findColumn(e.lstDef[l-1][0]):l)<=0||h>r)&&(h=0),a[l]=h}var c=1,u=e.__list.getRowCount();n>0&&(c=n,u=n<=u?n:0);for(var m=c;m<=u;m++)if(!s||e.islinesel(m)){var d=this.__list.addRow(0,r);for(l=1;l<=o;l++){var p;if(h=a[l])p=e.lstRow?e.lstData[l-1]:e.lstData[m-1][l-1],this.lstData[d-1][h-1]=jOmnis.copyValue(p)}}return this.markAsModified(),!0},O.prototype.checkWrapper=function(){null==this.__list&&(this.__list=new omnis_list(this))},O.prototype.markAsModified=function(e,t,s,i){if("__dataIndex"in this){if(s instanceof Array){for(var n=this,r=0;r<s.length-2;r+=2)n=n.lstData[s[r]-1][s[r+1]-1];var o=n.lstData[s[r]-1][s[r+1]-1]}else o="#L"==t?this.lstL:this;var a=this.__dataIndex;if(null!=e)if(0==Math.floor(a/65536))a=65536*(e+1)+a%65536,o=this.lstData[e];this.__form.setData(a,o,t,s,i,!0,"a")}else if("__lstParent"in this){var l=this.__lstParent.lstData;e:for(var h=0;h<l.length;h++)for(var c=0;c<l[h].length;c++)if(l[h][c]==this){s&&s instanceof Array||(s=[]),s.push(h+1,c+1);break e}this.__lstParent.markAsModified(e,"#NCELL",s,i)}},O.createRdefEntry=function(e,t,s){return null!=t&&"number"==typeof t?jOmnis.isInteger(t)?[e,eOmnisDataTypes.fftInteger,0,0,s,0]:[e,eOmnisDataTypes.fftNumber,24,0,s,0]:null!=t&&"boolean"==typeof t?[e,eOmnisDataTypes.fftBoolean,0,0,s,0]:t&&t instanceof omnis_date?[e,eOmnisDataTypes.fftDate,0,0,s,0]:t&&t instanceof O?[e,eOmnisDataTypes.fftList,1*t.lstRow,0,s,0]:[e,eOmnisDataTypes.fftCharacter,0,y,s,0]},O.defineMakelistResult=function(e){for(var t=new O(!1,jOmnis.currentForm),s=1;s<=e.length;++s)t.lstDef.push(O.createRdefEntry("Col"+s,e[s-1],s));return t},O.prototype.convertTypes=function(e){for(var t=0;t<e.length;++t){var s=this.lstDef[t];if(s){var i=e[t];null!=i&&(e[t]=jOmnis.convertDataType(i,s[1],s[2],s[3],"Row column "+s[0]))}}return e},O.prototype.convertDataType=function(e,t){if(this.lstDef&&t<this.lstDef.length){var s=this.lstDef[t];return jOmnis.convertDataType(e,s[1],s[2],s[3],"column "+s[0])}return e},O.isRawList=function(e,t){return!!(e&&e instanceof O)&&(null==t||(!t&&!e.lstRow||t&&e.lstRow))},O.ParseRow=function(e){var t;return e instanceof D?((t=new O(!0,e.mList.__form,e.mList.__obj)).lstDef=e.mList.lstDef,t.lstData=e.mList.lstData[e.mRowNumber-1]):e instanceof O?e.lstRow?t=new O(e):e.lstL?((t=new O(!0,e.__form,e.__obj)).lstDef=e.lstDef,t.lstData=e.lstData[e.lstL-1]):console.log("Unable to parse a list as a row when it has no current line"):console.log("omnis_list_row.ParseRow() input not in a supported format"),t},O.prototype.$makelist=function(e){if(this.lstRow)return!1;for(var t=null,s=new D(this,1),i=1;i<=this.lstData.length;++i){s.mRowNumber=i;var n=e(s);1==i&&(t=O.defineMakelistResult(n)),t.lstData.push(n),t.lstLSEL.push(0)}return t},O.prototype.$sendall=function(e,t){if(null==e)return!1;for(var s=new D(this,1),i=1;i<=this.lstData.length;++i)s.mRowNumber=i,(null==t||t(s))&&e(s);return!0},O.prototype.$cols=function(){return this.__cols||(this.__cols=new C(this)),this.__cols},O.prototype.$search=function(e,t,s,i,n){if(t=jOmnis.defaultParameter(t,!0),s=jOmnis.defaultParameter(s,!1),i=jOmnis.defaultParameter(i,!0),n=jOmnis.defaultParameter(n,!0),this.lstRow)return 0;var r=new D(this,1),o=0,a=!1,l=!1;i&&!n?a=!0:!i&&n&&(s=!0);var h=t?1:this.lstL+1,c=this.lstL;if(!s||!a)for(var u=h;u<=this.lstData.length;u++){if(s||a){var m=this.islinesel(u);if(s&&!m||a&&m)continue}if(e?(r.mRowNumber=u,this.lstL=u,m=0!=e(r),this.lstL=c):m=!0,i||n)(m&&i||!m&&n&&this.islinesel(u)!=m)&&(this.selline(u,m),l=!0,o||(o=u));else if(m){l=!0,this.lstL=u,o=u;break}}return i||n||(this.lstL=o,l=!0),l&&this.markAsModified(),o},O.prototype.$sort=function(e,t){if(this.lstRow||0==arguments.length)return!1;if(0==this.lstData.length)return!0;for(var s=0;s<this.lstData.length;++s)this.lstData[s].push(s+1,this.islinesel(s+1)?1:0);var i=this.lstL,n=new D(this,1),r=Array.prototype.slice.call(arguments,0),o=arguments.length/2,a=this,l=[].concat(this.lstData);l.sort((function(e,t){for(var s=0,i=0;i<o;++i){var l=r[2*i],h=e[e.length-2];n.mRowNumber=h,a.lstL=h;var c=l(n);h=t[t.length-2],n.mRowNumber=h,a.lstL=h;var u=l(n);if(r[2*i+1]){var m=c;c=u,u=m}if("number"==typeof c)s=c-u;else if(c instanceof omnis_date&&u instanceof omnis_date){s=c.toJavaScriptDate()-u.toJavaScriptDate()}else s="boolean"==typeof c?c==u?0:!c&&u?-1:1:c==u?0:c<u?-1:1;if(0!=s)break}return s})),this.lstData=l,this.lstLSEL=[],this.lstL=i;for(s=0;s<this.lstData.length;++s){var h=this.lstData[s],c=h.length-1;this.selline(s+1,0!=(1&h[c])),0!=(2&h[c])&&(this.lstL=s+1),h.splice(c-1,2)}return this.markAsModified(),!0},O.prototype.$totc=function(e,t){for(var s=0,i=1;i<=this.lstData.length;++i){var n=!t;if(n||(n=this.islinesel(i)),n)s+=e(new D(this,i))}return s},O.prototype.$assigncols=function(){var e;if(this.lstRow)e=this.lstData;else{if(!this.lstL)return!1;(e=this.lstData[this.lstL-1])||this.throwListException("omn_list_badrow")}for(var t=0;t<arguments.length;++t)e[t]=jOmnis.copyValue(arguments[t]);return this.markAsModified(),!0},O.prototype.$assignrow=function(e,t){if(!e)return!1;var s=this.lstRow?this.lstData:this.lstData[this.lstL-1],i=O.ParseRow(e);if(!i)return!1;for(var n=0;n<i.lstData.length&&(t||!(n>=s.length));++n){var r=t?this.resolveColumn(i.lstDef[n][0]):n;null!=r&&(s[r]=jOmnis.copyValue(i.lstData[n]))}return this.markAsModified(),!0},O.prototype.$loadcols=function(e,t){return e(this,t),!0},O.prototype.insertColumn=function(e){if(e-=1,this.lstRow)this.lstData.splice(e,0,null);else for(var t=0;t<this.lstData.length;++t){this.lstData[t].splice(e,0,null)}},O.prototype.initColumn=function(e){var t;switch(e-=1,this.lstDef[e][1]){case eOmnisDataTypes.fftCharacter:t="";break;case eOmnisDataTypes.fftSequence:case eOmnisDataTypes.fftNumber:case eOmnisDataTypes.fftInteger:t=0;break;case eOmnisDataTypes.fftBoolean:t=!1;break;default:t=null}if(this.lstRow)this.lstData[e]=t;else if(this.actingOnRow)this.lstData[this.actingOnRow-1][e]=t;else for(var s=0;s<this.lstData.length;++s){this.lstData[s][e]=t}this.markAsModified()},O.prototype.total=function(e,t){var s=0,i=this.lstData;if(this.lstRow)return t?0:this.lstData[e];for(var n=0;n<i.length;++n)if(!t||this.islinesel(n+1)){var r=i[n][e];null!=r&&(s+=r)}return s},O.prototype.average=function(e,t){var s=0,i=this.lstData;if(this.lstRow)return t?0:this.lstData[e];if(!i.length)return 0;for(var n=0,r=0;r<i.length;++r)if(!t||this.islinesel(r+1)){var o=i[r][e];null!=o&&(s+=o,++n)}return n?s/n:0},O.prototype.minimum=function(e,t){var s=null,i=this.lstData;if(this.lstRow)return t?0:this.lstData[e];for(var n=0;n<i.length;++n)if(!t||this.islinesel(n+1)){var r=i[n][e];(null==s||null!=r&&r<s)&&(s=r)}return s},O.prototype.maximum=function(e,t){var s=null,i=this.lstData;if(this.lstRow)return t?0:this.lstData[e];for(var n=0;n<i.length;++n)if(!t||this.islinesel(n+1)){var r=i[n][e];(null==s||null!=r&&r>s)&&(s=r)}return s},O.prototype.getSubset=function(e,t){var s=new O(this,this.__form,this.__obj);s.lstData=[],s.lstLSEL=[],(null==t||t>this.lstData.length-1)&&(t=this.lstData.length-1);for(var i=e;i<=t;i++)s.lstData.push(this.lstData[i]),s.lstLSEL.push(this.lstLSEL[i]);return s},O.prototype.throwListException=function(e){var t;throw t=this.__obj&&this.__obj.__form?this.__obj.__form:this.__form?this.__form.inst:jOmnis.getOmnisInst(0),jGetOmnisException(t,e)},S.prototype.eLayoutTypes={screen:0,single:1,responsive:2};var P=S;function M(e){var t=null;this.addKeyListener=function(s,i){function n(){i.call(e,t),t=null}s.addEventListener("keydown",(function(s){e.form.cancelObject&&27===(s.keyCode||s.which)?jOmnis.stopEventNow(s):(t&&n(),(t=M.getKeyEventData(s))&&!t.changesValue&&n())})),s.addEventListener("keyup",(function(e){t&&n()})),s.addEventListener("keypress",(function(e){t=M.getKeyEventData(e,t),jOmnis.iOS||n()})),s.addEventListener("input",(function(e){t&&n()}))}}M.eOmnisKeyCodes={ESCAPE:32,ENTER:28,BACKSPACE:30,TAB:27,DELETE:34,INSERT:35,UP_ARROW:17,DOWN_ARROW:18,LEFT_ARROW:19,RIGHT_ARROW:20,PAGE_UP:21,PAGE_DOWN:22,HOME:25,END:26},M.eKeyCodes={8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"Meta",92:"Meta",93:"Meta",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",182:"LaunchMyComputer",183:"LaunchCalculator",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},M.eNormalizedKeys={Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Spacebar:" ",OS:"Meta",Win:"Meta",Scroll:"ScrollLock",Del:"Delete",Crsel:"CrSel",Exsel:"ExSel",Esc:"Escape",Apps:"ContextMenu",Exit:"GoHome",MozHomeScreen:"GoHome",MediaNextTrack:"MediaTrackNext",MediaPreviousTrack:"MediaTrackPrevious",FastFwd:"MediaFastForward",VolumeUp:"AudioVolumeUp",VolumeDown:"AudioVolumeDown",VolumeMute:"AudioVolumeMute",Live:"TV",Zoom:"ZoomToggle",SelectMedia:"LaunchMediaPlayer",MediaSelect:"LaunchMediaPlayer",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Decimal:".",Separator:","},M.eKeyModifiers={SHIFT:1,CONTROL:2,ALTorOPTION:4,COMMAND:8},M.getKeyEventData=function(e,t){if(t||(t={char:null,systemKey:0,modifiers:0,changesValue:!1}),229===(e.keyCode||e.which))return t.changesValue=!0,t;if("keypress"==e.type)t.char=e.char||String.fromCharCode(e.charCode||e.which),t.char&&(t.char=t.char.replace(/[\x00-\x1F\x7F-\x9F]/g,"")),t.changesValue=!!t.char;else if("keydown"==e.type){switch(e.key||e.keyCode||e.which){case 8:case"Backspace":t.systemKey=M.eOmnisKeyCodes.BACKSPACE,t.changesValue=!0;break;case 9:case"Tab":t.systemKey=M.eOmnisKeyCodes.TAB;break;case 27:case"Esc":case"Escape":t.systemKey=M.eOmnisKeyCodes.ESCAPE;break;case 13:case"Enter":t.systemKey=M.eOmnisKeyCodes.ENTER;break;case 46:case"Del":case"Delete":t.systemKey=M.eOmnisKeyCodes.DELETE,t.changesValue=!0;break;case 45:case"Insert":t.systemKey=M.eOmnisKeyCodes.INSERT;break;case 38:case"Up":case"ArrowUp":t.systemKey=M.eOmnisKeyCodes.UP_ARROW;break;case 40:case"Down":case"ArrowDown":t.systemKey=M.eOmnisKeyCodes.DOWN_ARROW;break;case 37:case"Left":case"ArrowLeft":t.systemKey=M.eOmnisKeyCodes.LEFT_ARROW;break;case 39:case"Right":case"ArrowRight":t.systemKey=M.eOmnisKeyCodes.RIGHT_ARROW;break;case 33:case"PageUp":t.systemKey=M.eOmnisKeyCodes.PAGE_UP;break;case 34:case"PageDown":t.systemKey=M.eOmnisKeyCodes.PAGE_DOWN;break;case 36:case"Home":t.systemKey=M.eOmnisKeyCodes.HOME;break;case 35:case"End":t.systemKey=M.eOmnisKeyCodes.END}}return e.shiftKey&&(t.modifiers+=M.eKeyModifiers.SHIFT),e.ctrlKey&&(t.modifiers+=M.eKeyModifiers.CONTROL),e.altKey&&(t.modifiers+=M.eKeyModifiers.ALTorOPTION),(e.metaKey?e.metaKey:e.ctrlKey)&&(t.modifiers+=M.eKeyModifiers.COMMAND),t},M.getNormalizedEventKey=function(e){if(e&&e.key&&"Unidentified"!==e.key)return M.eNormalizedKeys[e.key]||e.key;if(e){var t=e.keyCode||e.which;if(t)return M.eKeyCodes[t]}return null};var w=M;function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}var T=function(){var e="omnis-toast",t="omnis-toast-message",s="omnis-toast-tt",i="omnis-toast-visible",n={};function r(e){var t=e.position,s=jOmnis.getElemPosRelativeToAncestor(e),i=jOmnis.getWindowClientSize(),n=i.width,r=i.height,o=T.position;t===o.LEFT||t===o.RIGHT?s.x>n?e.position=o.LEFT:s.x<0&&(e.position=o.RIGHT):t!==o.TOP&&t!==o.BOTTOM||(s.y>r?e.position=o.TOP:s.y<0&&(e.position=o.BOTTOM)),t!==e.position&&(jOmnis.removeClass(e,"omnis-toast-tt-"+t),jOmnis.addClass(e,"omnis-toast-tt-"+e.position))}return n.position={TOP:"top",BOTTOM:"bottom",LEFT:"left",RIGHT:"right"},n.originX={LEFT:0,RIGHT:1,CENTER:2},n.originY={TOP:1,CENTER:2,BOTTOM:3},n.showToast=function(s,n,r){if(s){n=function(e,t){if("object"===L(e))for(var s in t)null==e[s]&&(e[s]=t[s]);else e=t;return e}(n,{timeout:5e3,posX:null,posY:null,containerName:null,fixed:!0,originX:T.originX.LEFT,originY:T.originY.TOP,speakMessage:!0,assertive:!1});var o=function(s){var i=document.createElement("div");return jOmnis.addClass(i,e),jOmnis.addClass(i,t),i.style.padding="7px",i.innerHTML=jOmnis.escapeHTML(s),i}(s);!function(e,t,s,i,n,r,o,a){var l,h,c,u=function(e,t){var s;if(!e||!t)return null;var i=t.findChildByName(e);if(!i)return null;if(i instanceof ctrl_subform)s=i.getClientElem();else{if(!(i instanceof ctrl_pagedpane))return null;s=i.pages[i.currentPage-1]}return s}(o,a);e.style.zIndex=u?jOmnis.getPopupZIndex(a,1):"99999";r?(l=document.body,h=u||a.serverElem,u||(e.style.position="fixed")):(l=u||a.serverElem,h=l);l.appendChild(e);var m=e.clientWidth+1,d=e.clientHeight+1;e.style.width=m-14+"px",e.style.height=d-14+"px",c=h!==l?jOmnis.getElemPosRelativeToAncestor(h,l):{x:0,y:0};var p=f(),_=g();e.style.left=p+"px",null!==_?e.style.top=_+"px":e.style.bottom="30px";function f(){return b(y(null!==t?t+c.x:r?(h.clientWidth-e.clientWidth)/2+c.x:0,i),e.clientWidth,h)}function g(){var t;if(null!==s)t=s+c.y;else if(r){if(!u)return null;t=c.y+u.clientHeight-e.clientHeight-30}else t=0;return t=D(t=v(t,n),e.clientHeight,h)}function y(t,s){switch(s){case T.originX.RIGHT:t-=e.clientWidth;break;case T.originX.CENTER:t-=e.clientWidth/2}return t}function v(t,s){switch(s){case T.originY.BOTTOM:t-=e.clientHeight;break;case T.originY.CENTER:t-=e.clientHeight/2}return t}function b(e,t,s){var i=c.x;if(s===document.body)var n=document.documentElement.scrollWidth;else n=c.x+(r?s.clientWidth:s.scrollWidth);return e<i?e=i:e+t>n&&(e=n-t),e}function D(e,t,s){var i=c.y;if(s===document.body)var n=document.documentElement.scrollHeight;else n=c.y+(r?s.clientHeight:s.scrollHeight);return e<i?e=i:e+t>n&&(e=n-t),e}}(o,n.posX,n.posY,n.originX,n.originY,n.fixed,n.containerName,r),function(e,t){jOmnis.addClass(e,i),setTimeout((function(){jOmnis.removeClass(e,i),e.addEventListener(jOmnis.transitionEndEvent,(function(t){"visibility"===t.propertyName&&e.parentElement.removeChild(e)}))}),t)}(o,n.timeout),n.speakMessage&&jOmnis.getOmnisInst(0).updateLiveRegion(s,n.assertive)}},n.addAsTooltip=function(t,n,o){if(t){(o=o||{}).position=o.position||T.position.TOP,null==o.enableFocusEvents&&(o.enableFocusEvents=!0),null==o.hideAfterClick&&(o.hideAfterClick=!0);var a=document.createElement("div");jOmnis.addClass(a,e),jOmnis.addClass(a,s),jOmnis.addClass(a,"omnis-toast-tt-"+o.position),a.setAttribute("role","tooltip"),a.position=o.position,a.style.height="16px",a.style.padding="7px",o.position!==T.position.LEFT&&o.position!==T.position.RIGHT||(a.style.bottom="50%",a.style.marginBottom="-15px"),a.innerHTML=jOmnis.escapeHTML(t),n.appendChild(a),function(e,t,s,n,o){var a=500,l=2e3,h=500,c=500;s||(e.addEventListener("mouseover",(function(){t.mouseIsOver=!0,setTimeout((function(){t.mouseIsOver&&(r(t),t.clicked||jOmnis.addClass(t,i))}),h)})),e.addEventListener("mouseleave",(function(){t.mouseIsOver=!1,jOmnis.removeClass(t,i)})));jOmnis.touchDevice&&(e.addEventListener("touchstart",(function(){t.isTouching=!0,setTimeout((function(){t.isTouching&&(r(t),t.clicked||jOmnis.addClass(t,i),t.isVisible=!0)}),a)})),e.addEventListener("touchend",(function(){t.isTouching=!1,t.isVisible&&setTimeout((function(){jOmnis.removeClass(t,i),t.isVisible=!1}),l)})));n&&(e.addEventListener("focus",(function(){t.hasFocus=!0,setTimeout((function(){t.hasFocus&&(r(t),t.clicked||jOmnis.addClass(t,i))}),c)})),e.addEventListener("blur",(function(){t.hasFocus=!1,jOmnis.removeClass(t,i)})));if(o){var u=function(){t.clicked=!0,jOmnis.removeClass(t,i),setTimeout((function(){t.clicked=!1}),500)};e.addEventListener("click",u),e.addEventListener("keydown",(function(e){var t=OmnisKeyboardHandler.getNormalizedEventKey(e);"Enter"!==t&&" "!==t||u()}))}}(n,a,o.touchOnly,o.enableFocusEvents,o.hideAfterClick)}},n}(),I=T;function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}var A="execute",x="selectfetch",j="selecttables",k="selectcolumns",B="selectindexes",F="fetch",W="insert",N="update",U="delete",K="syncinit",H="sync",Z="terminate";function z(){this.sqlRequestID=1,this.sridForms=[],this.mSQL={$execute:function(e){var t=this.getUniqueSRID();return this.sendSQLRequest({ACTION:A,SRID:t,PSRID:0},{SqlText:e}),t},$selectfetch:function(e,t,s){var i=this.getUniqueSRID();return this.sendSQLRequest({ACTION:x,SRID:i,PSRID:0},{SqlText:e,BindVars:t?t.lstData:[],BindDefs:t?t.lstDef:[],FetchCap:s}),i},$selecttables:function(){var e=this.getUniqueSRID();return this.sendSQLRequest({ACTION:j,SRID:e,PSRID:0},{}),e},$selectcolumns:function(e){var t=this.getUniqueSRID();return this.sendSQLRequest({ACTION:k,SRID:t,PSRID:0},{TableName:e}),t},$selectindexes:function(e){var t=this.getUniqueSRID();return this.sendSQLRequest({ACTION:B,SRID:t,PSRID:0},{TableName:e}),t},$fetch:function(e,t){var s=this.getUniqueSRID();return this.sendSQLRequest({ACTION:F,SRID:s,PSRID:e},{SqlText:0,FetchCap:t}),s},$insert:function(e,t){var s=this.getUniqueSRID();return this.sendSQLRequest({ACTION:W,SRID:s,PSRID:0},{SqlText:e,BindVars:t?t.lstData:[],BindDefs:t?t.lstDef:[]}),s},$update:function(e,t,s){var i=this.getUniqueSRID();return this.sendSQLRequest({ACTION:N,SRID:i,PSRID:0},{SqlText:e,OldRow:s.lstData,NewRow:t.lstData,OldDefs:s.lstDef,NewDefs:t.lstDef}),i},$delete:function(e,t){var s=this.getUniqueSRID();return this.sendSQLRequest({ACTION:U,SRID:s,PSRID:0},{SqlText:e,BindVars:t?t.lstData:[],BindDefs:t?t.lstDef:[]}),s},$syncinit:function(e){var t=this.getUniqueSRID(),s={};if(e.lstData.length)for(var i=0;i<e.lstData.length;i++)s[e.lstDef[i][0]]=e.lstData[i];return this.sendSQLRequest({ACTION:K,SRID:t,PSRID:0},s),t},$sync:function(e){var t={};"string"==typeof e&&(t.SyncType=e);var s=this.getUniqueSRID();return this.sendSQLRequest({ACTION:H,SRID:s,PSRID:0},t),s},$terminate:function(){var e=this.getUniqueSRID();return this.sendSQLRequest({ACTION:Z,SRID:e,PSRID:0},{}),e},$getlasterrorcode:function(){return this.lastError.ErrorCode},$getlasterrortext:function(){return this.lastError.ErrorText}}}z.prototype.setLastError=function(e){this.lastError=e},z.prototype.getUniqueSRID=function(){return this.sqlRequestID++,this.sqlRequestID},z.prototype.getSRIDForm=function(e){var t=this.sridForms[e];return delete this.sridForms[e],t},z.prototype.sendSQLRequest=function(e,t){if(jOmnis.inAppWrapper()){var s={ID:"ExecuteSQL",ULID:e.ACTION,retID:e,Params:t},i=JSON.stringify(s,(function(e,t){if(!(e.length>2&&"__"==e.substr(0,2)))return t}));this.sridForms[e.SRID]&&delete this.sridForms[e.SRID],this.sridForms[e.SRID]=jOmnis.currentForm,window.wrapperInterface.sendDeviceRequest(i)}},z.prototype.callMethod=function(e){return this.mSQL[e].apply(this,Array.prototype.slice.call(arguments,1))};var V=s(5304),q=s(6464);function Y(e,t,s){this.mPreventUpdate=!!s,this.entriesPerPage=void 0===t?10:t,this.pagerHeight=42,this.totalRows=-1,this.pageCount=-1,this.currentLine=0,this.displayedPage=1,this.currentLinePage=1,this.isActive=!0,this.linkedControl=e,this.isAttached=!1,this.elem=this.createElement(),this.dataChanged(),this.linkedControl.isActive()||this.updateActiveState(!1),this.mPreventUpdate=!1}Y.prototype.createElement=function(){var e=document.createElement("div");e.className="unselectable omnis-pager",e.style.position="absolute",e.style.width="100%";var t=this.linkedControl.getTheme();function s(){var e=document.createElement("button");e.type="button",e.className="omnis-pager-button",e.tabIndex=0;var s=document.createElement("div");return s.className="pager-arrow",e.appendChild(s),jOmnisEffects.addRippleToElem(e,t,!1,V.l1.primaryLight,q._j),e}this.linkedControl.setAriaLiveRegion(e),this.backButton=s(),jOmnis.addClass(this.backButton,"omnis-pager-button-back"),this.backButton.setAttribute("aria-label",jGetOmnisString(this.linkedControl.form.inst,"omn_pager_previous")),this.backButton.onclick=this.movePage.bind(this,-1),e.appendChild(this.backButton),this.pageNumbersElem=document.createElement("div"),this.pageNumbersElem.className="omnis-pager-numbers";var i=document.createElement("div");return i.setAttribute("role","tablist"),i.addEventListener("tap",this,!1),i.addEventListener("keyup",this,!1),i.addEventListener("keydown",this,!1),i.innerHTML="<div />",this.pageNumbersElem.appendChild(i),e.appendChild(this.pageNumbersElem),this.forwardButton=s(),jOmnis.addClass(this.forwardButton,"omnis-pager-button-forward"),this.forwardButton.setAttribute("aria-label",jGetOmnisString(this.linkedControl.form.inst,"omn_pager_next")),this.forwardButton.onclick=this.movePage.bind(this,1),e.appendChild(this.forwardButton),e},Y.prototype.setEntriesPerPage=function(e){this.entriesPerPage=e||0,this.updatePageCount(this.totalRows),this.setCurrentPage(this.displayedPage,!0,!0)},Y.prototype.attach=function(){if(this.isAttached)console.log("Pager already attached");else if(this.linkedControl.getTrueVisibility()){var e=this.linkedControl.elem.firstChild;if(e.parentNode.appendChild(this.elem),this.pagerHeight=this.elem.offsetHeight,this.isAttached=!0,!this.iscroll){var t={preventDefault:!0,mouseWheelScrollsHorizontally:!0,scrollX:!0,scrollY:!1,mouseWheel:!0,tap:!0,scrollbars:!1,momentum:!0,probeType:1};t.removeFocus=jOmnis.touchDevice,t.snap="div",t.smoothScrolling=!0,this.iscroll=new IScroll(this.pageNumbersElem,t)}this.reposition(),e.style.height=e.offsetHeight-this.pagerHeight+"px",this.mPreventUpdate||this.linkedControl.sizeChanged(!0),this.setCurrentPage(this.displayedPage,!0,!0)}else this.attachOrRemoveWhenVisible(!0)},Y.prototype.detach=function(){if(this.isAttached)if(this.linkedControl.getTrueVisibility()){this.linkedControl.elem.removeChild(this.elem);var e=this.linkedControl.elem.firstChild;e.style.height=e.offsetHeight+this.pagerHeight+"px",this.isAttached=!1,this.linkedControl.update("",null,null,!0),this.linkedControl.sizeChanged(!0)}else this.attachOrRemoveWhenVisible(!1);else console.log("Pager already detached")},Y.prototype.attachOrRemoveWhenVisible=function(e){this.queuedAttach=e,this.queuedDetach=!e},Y.prototype.linkedControlBecameVisible=function(){this.queuedAttach&&!this.isAttached?this.attach():this.queuedDetach&&this.isAttached&&this.detach(),this.queuedAttach=this.quededDetach=!1},Y.prototype.sizeChanged=function(){this.isAttached&&this.reposition()},Y.prototype.reposition=function(){var e=this.linkedControl.cachedPositionInfo.getLayoutInfo(this.linkedControl.form.mPositionInfo.getLayoutRef());this.elem.style.top=e.height-this.pagerHeight+"px";var t=e.width-2;t!=this.lastWidth&&(this.elem.style.width=t+"px",this.lastWidth=t,this.pageNumbersElem.style.width=t-2*this.backButton.offsetWidth+"px",this.iscroll.refresh(),this.iscroll.scrollToElement(this.pageNumbersElem.firstChild.childNodes[this.displayedPage-1],0,!0,!0,IScroll.utils.ease.quadratic))},Y.prototype.handleEvent=function(e){if(this.isActive){var t=!1,s=OmnisKeyboardHandler.getNormalizedEventKey(e);if("tap"===e.type)t=!0;else if("keyup"===e.type)" "===s&&(t=!0);else if("keydown"===e.type){if("Enter"===s)t=!0;else if("ArrowLeft"===s)this.moveFocus(!0);else if("ArrowRight"===s)this.moveFocus(!1);else if("Home"===s)this.pageNumbersElem.firstChild.firstChild.focus();else{if("End"!==s)return;this.pageNumbersElem.firstChild.lastChild.focus()}e.preventDefault()}if(t){var i=e.target;jOmnis.hasClass(i,"omnis-pager-page")&&(document.activeElement.blur(),this.setCurrentPage(i),i.focus())}}},Y.prototype.moveFocus=function(e){var t=this.pageNumbersElem.firstChild.children,s=Array.prototype.indexOf.call(t,document.activeElement);if(-1!==s){s=e?s-1:s+1;var i=t.length-1;t[s=s<0?i:s>i?0:s].focus()}},Y.prototype.setCurrentPage=function(e,t,s){var i,n;if(e&&e.nodeType?(i=e,n=parseInt(e.textContent)):((n=e)>this.pageCount?n=this.pageCount:n<1&&(n=1),i=this.pageNumbersElem.firstChild.children[n-1]),this.displayedPage!=n&&n<=this.pageCount&&n>0||s){if(this.changingPage=!0,this.isAttached){var r=this.displayedPage,o=this.pageNumbersElem.firstChild.children[r-1];o&&(jOmnis.removeClass(o,"currentpage"),o.setAttribute("aria-selected","false"),o.tabIndex=-1),this.displayedPage=n,jOmnis.addClass(i,"currentpage"),i.setAttribute("aria-selected","true"),i.tabIndex=0,1===r?(this.backButton.disabled=!1,this.backButton.tabIndex=0):r===this.pageCount&&(this.forwardButton.disabled=!1,this.forwardButton.tabIndex=0),1===n?(this.backButton.disabled=!0,this.backButton.tabIndex=-1):n===this.pageCount&&(this.forwardButton.disabled=!0,this.forwardButton.tabIndex=-1),this.iscroll.scrollToElement(i,t?0:500,!0,!0,IScroll.utils.ease.quadratic)}this.mPreventUpdate||this.linkedControl.update("",null,null,!0),this.changingPage=!1}},Y.prototype.dataChanged=function(e){var t,s=this.totalRows;null==e||void 0===e?(this.updateData(),t=this.totalRows):t=e,s!=t&&(this.updatePageCount(t),this.displayedPage>this.pageCount&&(this.displayedPage=this.pageCount||1),this.setCurrentPage(this.displayedPage,!0,!0)),this.setCurrentLine(this.currentLine)},Y.prototype.updateData=function(){try{var e=this.linkedControl.getData("",null,null,null,null,null,!0);e&&(this.totalRows=e.lstData.length,this.currentLine=e.lstL)}catch(e){console.log(e)}},Y.prototype.setCurrentLine=function(e){this.currentLine=e,this.currentLinePage=Math.ceil(this.currentLine/this.entriesPerPage)},Y.prototype.getCurrentPageData=function(e,t){var s;if(!t&&e instanceof omnis_raw_list){this.updatePageCount(e.lstData.length);var i=(this.displayedPage-1)*this.entriesPerPage;s=e.getSubset(i,i+this.entriesPerPage-1)}else if("#L"==t)s=this.currentLinePage==this.displayedPage?this.absoluteRowToPagedRow(e):0==this.currentLinePage?0:-1;else if("#LCNT"==t)this.displayedPage==this.pageCount?0==(s=this.totalRows%this.entriesPerPage)&&this.totalRows>0&&(s=this.entriesPerPage):s=this.entriesPerPage;else if("#LSEL_ALL"===t){var n=(this.displayedPage-1)*this.entriesPerPage;s=e.slice(n,n+this.entriesPerPage)}else s=e;return s},Y.prototype.updatePageCount=function(e){this.totalRows=e;var t=0==this.entriesPerPage?0:Math.max(Math.ceil(e/this.entriesPerPage),1);if(this.pageCount!=t){this.pageCount=t;for(var s,i=this.pageNumbersElem.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(var n=1;n<=this.pageCount;n++){(s=document.createElement("div")).className="omnis-pager-page unselectable",s.textContent=n+"",s.tabIndex=1===n?0:-1,s.setAttribute("role","tab"),s.setAttribute("aria-selected","false");var r=jGetOmnisString(this.linkedControl.form.inst,"omn_pager_page")+" "+n;s.setAttribute("aria-label",r),jOmnisEffects.addRippleToElem(s,this.linkedControl.getTheme(),!1,V.l1.neutral,q._j),i.appendChild(s)}this.pageCount<=1&&this.isAttached?this.detach():this.pageCount>1&&!this.isAttached&&this.attach(),this.iscroll&&(this.iscroll.options.snap=this.pageNumbersElem.firstChild.querySelectorAll("div"),this.iscroll.refresh())}},Y.prototype.absoluteRowToPagedRow=function(e){var t=e%this.entriesPerPage;return t||!e?t:this.entriesPerPage},Y.prototype.pagedRowToAbsoluteRow=function(e,t){return t=t||this.displayedPage,-1==e||null==e?this.currentLine:(t-1)*this.entriesPerPage+e},Y.prototype.movePage=function(e,t){var s=this.displayedPage+e;if(s>0&&s<=this.pageCount){var i=document.activeElement;i.blur(),this.setCurrentPage(s),i.focus();var n=this.linkedControl;n.liveRegion.innerText=jGetOmnisString(n.form.inst,"omn_pager_page")+" "+s}},Y.prototype.updateActiveState=function(e){if(this.isActive!==e){var t=this.pageNumbersElem.firstChild;e?t.removeAttribute("aria-disabled"):t.setAttribute("aria-disabled","true"),t.children[this.displayedPage-1].tabIndex=e?0:-1,e?1!==this.displayedPage&&(this.backButton.disabled=!1,this.backButton.tabIndex=0):(this.backButton.disabled=!0,this.backButton.tabIndex=-1),e?this.displayedPage!==this.pageCount&&(this.forwardButton.disabled=!1,this.forwardButton.tabIndex=0):(this.forwardButton.disabled=!0,this.forwardButton.tabIndex=-1),e?jOmnis.removeClass(this.elem,"omnis-notactive-overlay"):jOmnis.addClass(this.elem,"omnis-notactive-overlay"),this.isActive=e}};var X=Y,G=s(5315),$=s(7153);s(9601);function J(e,t){e&&this.setAttributes(e),t&&this.setSelector(t)}J.prototype.toString=function(){if(this.cssString)return this.cssString;var e=Object.keys(this),t=[];t.push("{");for(var s=0;s<e.length;s++)if(this[e[s]]instanceof Array)for(var i=0;i<this[e[s]].length;i++)t.push(e[s]+":"+this[e[s]][i]+";");else t.push(e[s]+":"+this[e[s]]+";");t.push("}");var n=t.join("");return Object.defineProperty(this,"cssString",{configurable:!0,enumerable:!1,value:n,writable:!1}),n},J.prototype.getCssString=function(e){var t=e||this.cssSelector;return t?t+this.toString():this.toString()},J.prototype.getAttribute=function(e){if(this[e])return this[e]},J.prototype.setAttribute=function(e,t){this[e]=t||"",delete this.cssString},J.prototype.setAttributes=function(e){if(Object.assign)Object.assign(this,e);else for(var t=Object.keys(e),s=0;s<t.length;s++)this[t[s]]=e[t[s]];delete this.cssString},J.prototype.removeAttribute=function(e){delete this[e],delete this.cssString},J.prototype.setSelector=function(e,t){var s=this.cssSelector;s=t&&s?s+", "+e:e,Object.defineProperty(this,"cssSelector",{configurable:!0,enumerable:!1,value:s,writable:!1}),delete this.cssString};var Q=J,ee=(s(9554),s(4747),2),te=4,se=5,ie=9,ne=2,re=3,oe=4,ae=5,le=7,he=9,ce=12,ue=13,me=14,de={fontName:1,fontSize:2,fontStyle:4,justify:8,textColor:16,foreColor:32,backColor:64,backPattern:128,backgroundTheme:256,borderColor:512,borderEffect:1024,borderTheme:2048,defaultStyles:4095},pe={fontChanged:1,fillChanged:2};function _e(e,t,s,i){this.flagBit=e,this.propNumber=t,this.dataCol=s,this.changedFlag=null!=i?i:0}var fe={fontName:new _e(de.fontName,i.W9.fontname,ne,pe.fontChanged),fontSize:new _e(de.fontSize,i.W9.fontsize,re,pe.fontChanged),fontStyle:new _e(de.fontStyle,i.W9.fontstyle,oe,pe.fontChanged),justify:new _e(de.justify,i.W9.align,ae),textColor:new _e(de.textColor,i.W9.textcolor,le,pe.fontChanged),backColor:new _e(de.backColor,i.W9.backcolor,he,pe.fillChanged),borderColor:new _e(de.borderColor,i.W9.bordercolor,ce),borderEffect:new _e(de.borderEffect,i.W9.effect,ue)};function ge(e){this.lstStyleData=new omnis_list(e)}ge.prototype.findStyle=function(e){return this.lstStyleData.search(ee,e,!0)>=0},ge.prototype.applyStyleToElement=function(e,t,s){var i=0;if(s=jOmnis.defaultParameter(s,de.defaultStyles),this.findStyle(t)){var n=new omnis_list(this.lstStyleData.getData(se)),r=this.lstStyleData.getData(te)&s;r&=~e.mDisabledStyleFlags,e.applyingFieldStyles=!0,Object.keys(fe).forEach((function(t){r&fe[t].flagBit&&(e.setProperty(fe[t].propNumber,n.getData(fe[t].dataCol)),i|=fe[t].changedFlag)})),e.applyingFieldStyles=!1;var o=this.lstStyleData.getData(ie);if(o&&(o=o.lstData).length>0)for(var a=n.getData(me),l=0;l<o.length;++l)e.form.pushStyleProperty(e,o[l][0],a.lstData[l])}return i};s(3123);var ye=1,ve=2,be={name:1,ident:2,commandID:3,text:4,enabled:5,checked:6,userInfo:7,cascadeData:8,cascadeName:9,iconURI:10,isCheckable:11},De={main:0,table:1,row:2,cellCheck:3,cellText:4,cellCascade:5},Ce={normal:0,hilite:1,disabled:2,divider:3},Oe=null;function Ee(e,t,s){this.mMenuData=e,this.mMenuLine=t,this.mIdent=null!=s?s:this.mMenuData.getData(be.ident,this.mMenuLine)}function Se(e){var t=new omnis_raw_list(e);t.checkWrapper(),this.mMenuData=t.__list,this.mMenuLineCount=this.mMenuData.getRowCount(),this.mObjs={},this.mNextTempIdent=-1}function Pe(e){this.mMenuData=e}function Me(){this.debug=[],this.formArray=[],this.uniqueMenuNumber=0,this.curMenu=null,this.curMenuClassPrefix=null,this.curMenuClassObj=null}Ee.prototype.getProperty=function(e){if(this.checkMenuLine())switch(e){case eBaseProperties.ident:return this.mMenuData.getData(be.ident,this.mMenuLine);case eBaseProperties.name:return this.mMenuData.getData(be.name,this.mMenuLine);case eBaseProperties.enabled:return 1*this.mMenuData.getData(be.enabled,this.mMenuLine)!=0;case eBaseProperties.checked:return 1*this.mMenuData.getData(be.checked,this.mMenuLine)!=0;case eBaseProperties.text:return this.mMenuData.getData(be.text,this.mMenuLine);case eBaseProperties.commandid:return this.mMenuData.getData(be.commandID,this.mMenuLine);case eBaseProperties.userinfo:return this.mMenuData.getData(be.userInfo,this.mMenuLine);case eBaseProperties.remotemenu:return new Pe(this.mMenuData.getData(be.cascadeData,this.mMenuLine));case eBaseProperties.iconid:return this.mMenuData.getData(be.iconURI,this.mMenuLine);case eBaseProperties.isCheckable:return 1*this.mMenuData.getData(be.isCheckable,this.mMenuLine)!=0}return null},Ee.prototype.getCanAssign=function(e){return e!=eBaseProperties.remotemenu&&e!=eBaseProperties.ident&&e!=eBaseProperties.name},Ee.prototype.setPropCli=function(e,t,s){if(s||this.checkMenuLine()){switch(e){case eBaseProperties.enabled:this.mMenuData.setData(be.enabled,this.mMenuLine,1*t!=0);break;case eBaseProperties.checked:this.mMenuData.setData(be.checked,this.mMenuLine,1*t!=0);break;case eBaseProperties.text:this.mMenuData.setData(be.text,this.mMenuLine,t+"");break;case eBaseProperties.commandid:this.mMenuData.setData(be.commandID,this.mMenuLine,1*t);break;case eBaseProperties.userinfo:this.mMenuData.setData(be.userInfo,this.mMenuLine,t);break;case eBaseProperties.ident:this.mMenuData.setData(be.ident,this.mMenuLine,t);break;case eBaseProperties.name:this.mMenuData.setData(be.name,this.mMenuLine,t);break;case eBaseProperties.iconid:this.mMenuData.setData(be.iconURI,this.mMenuLine,t,!0);break;case eBaseProperties.isCheckable:this.mMenuData.setData(be.isCheckable,this.mMenuLine,1*t!=0);break;default:return!1}return!0}return!1},Ee.prototype.remove=function(){return!!this.checkMenuLine()&&(this.mMenuData.deleteRows(this.mMenuLine),!0)},Ee.prototype.checkMenuLine=function(){var e=this.mMenuData.getRowCount();if(this.mMenuLine<=e){if(this.mMenuData.getData(be.ident,this.mMenuLine)==this.mIdent)return!0;for(var t=1;t<=e;++t){if(this.mMenuData.getData(be.ident,t)==this.mIdent)return this.mMenuLine=t,!0}}return!1},Se.prototype.getValue=function(e){if(this.mObjs[e])return this.mObjs[e];for(var t=1;t<=this.mMenuLineCount;++t)if(this.mMenuData.getChar(be.name,t,!0)==e)return this.mObjs[e]=new Ee(this.mMenuData,t),this.mObjs[e];return null},Se.prototype.getProperty=function(e,t){var s=this.getValue(e);return s?s.getProperty(t):null},Se.prototype.getCanAssign=function(e,t){var s=this.getValue(e);return!!s&&s.getCanAssign(t)},Se.prototype.setPropCli=function(e,t,s){var i=this.getValue(e);return!!i&&i.setPropCli(t,s)},Se.prototype.$count=function(){return this.mMenuLineCount},Se.prototype.$add=function(e,t,s,i){var n=this.mMenuData.addRow(0,this.mMenuData.getColumnCount());return this.initNewMenuLine.apply(this,[n].concat(Array.prototype.slice.call(arguments,0)))},Se.prototype.$addafter=function(e,t,s,i,n){var r=this.resolveMenuRow(arguments[0]);if(-1==r)return null;var o=this.mMenuData.addRow(r+1,this.mMenuData.getColumnCount());return this.initNewMenuLine.apply(this,[o].concat(Array.prototype.slice.call(arguments,1)))},Se.prototype.$addbefore=function(e,t,s,i,n){var r=this.resolveMenuRow(arguments[0]);if(-1==r)return null;var o=this.mMenuData.addRow(r,this.mMenuData.getColumnCount());return this.initNewMenuLine.apply(this,[o].concat(Array.prototype.slice.call(arguments,1)))},Se.prototype.resolveMenuRow=function(e){return e&&e instanceof Ee&&e.mMenuData==this.mMenuData?e.checkMenuLine()?e.mMenuLine:-1:jOmnis.isInteger(e)?1*e:-1},Se.prototype.initNewMenuLine=function(e,t,s,i,n){++this.mMenuLineCount,i=jOmnis.defaultParameter(i,!1),n=jOmnis.defaultParameter(n,!1);var r=this.mNextTempIdent--,o=new Ee(this.mMenuData,e,r);return o.setPropCli(eBaseProperties.ident,r,!0),o.setPropCli(eBaseProperties.name,"____tempLine"+-r),o.setPropCli(eBaseProperties.enabled,i),o.setPropCli(eBaseProperties.checked,n),o.setPropCli(eBaseProperties.text,t),o.setPropCli(eBaseProperties.commandid,s),o},Se.prototype.$remove=function(e){return!!(e&&e instanceof Ee&&e.remove())&&(--this.mMenuLineCount,!0)},Se.prototype.$appendlist=function(e,t){if(!omnis_raw_list.isRawList(e,!1))return!1;for(var s=1;s<=this.mMenuLineCount;++s){var i=t(new Ee(this.mMenuData,s));e.lstData.push(e.convertTypes(i)),e.lstLSEL.push(0)}return e.markAsModified(),!0},Se.prototype.$insertlist=function(e,t,s){if(!omnis_raw_list.isRawList(e,!1))return!1;e.checkWrapper();for(var i=1;i<=this.mMenuLineCount;++i){var n=s(new Ee(this.mMenuData,i)),r=e.__list.addRow(t+i-1,e.__list.getColumnCount());e.lstData[r-1]=e.convertTypes(n)}return e.markAsModified(),!0},Se.prototype.$makelist=function(e){for(var t=null,s=1;s<=this.mMenuLineCount;++s){var i=e(new Ee(this.mMenuData,s));1==s&&(t=omnis_raw_list.defineMakelistResult(i)),t.lstData.push(i),t.lstLSEL.push(0)}return t},Se.prototype.$findident=function(e){for(var t=1;t<=this.mMenuLineCount;++t)if(this.mMenuData.getData(be.ident,t)==e)return new Ee(this.mMenuData,t);return null},Se.prototype.$findname=function(e){return this.getValue(e)},Se.prototype.$first=function(){return this.mMenuLineCount>0?new Ee(this.mMenuData,1):null},Se.prototype.$next=function(e){return e&&e instanceof Ee&&e.checkMenuLine()&&e.mMenuLine<this.mMenuLineCount?new Ee(this.mMenuData,e.mMenuLine+1):null},Se.prototype.$sendall=function(e,t){if(null==e)return!1;for(var s=1;s<=this.mMenuLineCount;++s){var i=new Ee(this.mMenuData,s);(null==t||t(i))&&e(i)}return!0},Pe.prototype.$objs=function(){return this.mObjs||(this.mObjs=new Se(this.mMenuData)),this.mObjs},Me.ZINDEX=0,Me.prototype.init_menu_css=function(){null==this.curMenuClassPrefix&&(this.curMenuClassPrefix="omnisMenu");var e="class_"+this.curMenuClassPrefix;if(e in this)return this.curMenuClassObj=this[e],!0;jOmnis.applyStyles(),this[e]={foundClasses:"",classMain:null,classTable:null,classRow:null,classCellCheck:null,classCellText:null,classCellCascade:null},this.curMenuClassObj=this[e];for(var t="."+this.curMenuClassPrefix,s=0;s<document.styleSheets.length;s++)try{var i=document.styleSheets[s].cssRules?document.styleSheets[s].cssRules:document.styleSheets[s].rules;if(i)for(var n=0;n<i.length;n++){var r=i[n].selectorText;if(r&&0==(r=r.replace(/ /g,"")).indexOf(t))for(var o=r.split(","),a=0;a<o.length;a++)o[a]=o[a]+":",-1==this.curMenuClassObj.foundClasses.indexOf(o[a])&&(this.curMenuClassObj.foundClasses+=o[a])}}catch(e){}return this.curMenuClassObj.classMain=this.loadMenuClasses("Main"),this.curMenuClassObj.classTable=this.loadMenuClasses("Table"),this.curMenuClassObj.classRow=this.loadMenuClasses("Row",!0),this.curMenuClassObj.classCellCheck=this.loadMenuClasses("CellCheck",!0),this.curMenuClassObj.classCellText=this.loadMenuClasses("CellText",!0),this.curMenuClassObj.classCellCascade=this.loadMenuClasses("CellCascade",!0),!0},Me.prototype.getDefaultCSS=function(e,t,s){var i;switch(t){case De.main:i="Main";break;case De.table:i="Table";break;case De.row:i="Row";break;case De.cellCheck:i="CellCheck";break;case De.cellText:i="CellText";break;case De.cellCascade:i="CellCascade";break;default:return null}switch(s){case Ce.normal:break;case Ce.hilite:i+="_hilite";break;case Ce.disabled:i+="_disabled";break;case Ce.divider:i+="_divider"}return"."+e+i+"{"},Me.prototype.loadMenuClasses=function(e,t){var s,i=(this.curMenuClassPrefix||"")+e,n="omnis-menu-"+e.toLowerCase(),r={normal:null,hilite:null,disabled:null,divider:null};return this.init_menu_css(),r.normal=n+" "+i,t&&(s=i+"_hilite",this.hasMenuClass(s)?r.hilite=n+"_hilite "+s:r.hilite=r.normal,s=i+"_disabled",this.hasMenuClass(s)?r.disabled=n+"_disabled "+s:r.disabled=r.normal,s=i+"_divider",this.hasMenuClass(s)?r.divider=n+"_divider "+s:r.divider=r.disabled),r},Me.prototype.hasMenuClass=function(e){return this.init_menu_css(),this.curMenuClassObj.foundClasses.indexOf("."+e+":")>=0},Me.prototype.getMenuClass=function(e,t){switch(this.init_menu_css(),e){default:return this.curMenuClassObj.classMain[t];case De.table:return this.curMenuClassObj.classTable[t];case De.row:return this.curMenuClassObj.classRow[t];case De.cellCheck:return this.curMenuClassObj.classCellCheck[t];case De.cellText:return this.curMenuClassObj.classCellText[t];case De.cellCascade:return this.curMenuClassObj.classCellCascade[t]}};var we=new Me;function Le(e,t,s,i,n){this.number=e,this.name=t,this.data=s,this.form=i,this.parentElem=n,this.cascadeMenu=null,this.cascadeIdent=0,this.curLineIdent=0,this.hiliteLineIdent=0,this.lst=null}Me.prototype.isContextMenuOpen=function(){return!(!this.curMenu&&!this.inOpenMenuEvent)},Me.prototype.menuBelongsToElemOrChild=function(e){return e.contains(we.curMenuObj.elem)},Me.prototype.addFormMenus=function(e,t){this.formArray[this.formArray.length]={formIdent:e,formMenus:t}},Me.prototype.removeFormMenus=function(e){this.closeMenus();for(var t=0;t<this.formArray.length;t++)this.formArray[t].formIdent==e&&this.formArray.splice(t,1)},Me.prototype.getFormMenus=function(e){for(var t=0;t<this.formArray.length;t++)if(this.formArray[t].formIdent==e)return this.formArray[t].formMenus;return null},Me.prototype.getMenuData=function(e,t,s){var i=this.getFormMenus(e);if(i){var n=new omnis_list(i),r=n.search(ye,t,!0,!1,!1);if(r>0){if(null==s||0==s)n.setRowSelectionStateAllRows(0);else if(n.getRowSelectionState(r))return null;n.setRowSelectionState(r,1);for(var o=n.getData(ve,r),a=(n=new omnis_list(o)).getRowCount();a;a--)(t=n.getChar(be.cascadeName,a,!0))&&t.length&&n.setData(be.cascadeData,a,this.getMenuData(e,t,!0));if(o.lstData.length>0)return o}}return null},Me.prototype.mergeMenus=function(e,t){for(var s=0;s<this.formArray.length;s++)if(this.formArray[s].formIdent==e){var i=this.formArray[s].formMenus;if(i)for(var n=new omnis_list(i),r=new omnis_list(t),o=1;o<=r.getRowCount();++o){var a=r.getData(ye,o),l=n.search(ye,a,!0,!1,!1);l<=0&&(l=n.addRow(0,2),n.setData(ye,l,a)),n.setData(ve,l,r.getData(ve,o))}else this.formArray[s].formMenus=t;break}},Me.prototype.popupMenu=function(e){if(this.closeMenus(),null==e&&(e=this.popupMenuParams),null==e)return null;if(null==e.menuData&&(e.menuData=this.getMenuData(e.menuForm.ident,e.menuName)),e.menuData&&e.menuData.lstData.length>0){if(this.uniqueMenuNumber++,this.curMenuForm=e.menuForm,this.curMenuObj=e.menuObj,this.curMenuClickedObj=e.clickedObj,this.curMenuClassPrefix=e.menuClassPrefix,this.closeOnOverlay=e.closeOnOverlay,this.curMenu=new Le(this.uniqueMenuNumber,e.menuName,e.menuData,this.curMenuForm,e.parentElem),e.parentElem){var t=jOmnis.getElemPosRelativeToAncestor(e.parentElem,null);e.posX+=t.x,e.posY+=t.y}jOmnis.touchDevice&&(t=jOmnis.getElemPosRelativeToAncestor(this.curMenuForm.inst.elem,null),e.posX-=t.x,e.posY-=t.y),this.curMenu.open(e.posX-2,e.posY-2,e.offsetY,e.openedMenuClass),e.keyElem&&(this.keyElem=e.keyElem,this.keyElemFuncs={onkeypress:this.keyElem.onkeypress,onkeydown:this.keyElem.onkeydown,onkeyup:this.keyElem.onkeyup},this.keyElem.onkeypress=this.keyElem.onkeydown=this.keyElem.onkeyup=null);var s=new Function("event","jOmnisMenuHandler.handleEvent(event,this,false)");return document.body.onkeypress=document.body.onkeydown=document.body.onkeyup=s,e.selectFirstItemInMenu&&this.curMenu.hiliteLine(1),this.curMenuObj&&this.curMenuObj.handleEvent(jOmnis.createDOMEvent("omnis-menuopen")),this.curMenu}return null},Me.prototype.popupCascade=function(e,t,s,i){var n=e.lineElem(t);if(null==i&&(i=this.getMenuData(this.curMenuForm.ident,s,!0)),n&&i){for(var r=n.offsetLeft+n.offsetWidth,o=n.offsetTop,a=n.offsetParent;a;a=a.offsetParent)r+=a.offsetLeft,o+=a.offsetTop;return this.uniqueMenuNumber++,this.curMenu=new Le(this.uniqueMenuNumber,s,i,this.curMenuForm),this.curMenu.setParentMenu(e,t),this.curMenu.open(r-1,o),this.curMenu}return null},Me.prototype.closeMenus=function(){if(this.isContextMenuOpen()){for(this.curMenuClassPrefix=null;this.curMenu;){var e=this.curMenu;this.curMenu=e.parentMenu,e.close()}this.keyElem&&(this.keyElem.onkeypress=this.keyElemFuncs.onkeypress,this.keyElem.onkeydown=this.keyElemFuncs.onkeydown,this.keyElem.onkeyup=this.keyElemFuncs.onkeyup),jOmnis.setKeyFunctions(),this.popupMenuParams.focusElement&&this.popupMenuParams.focusElement.focus(),this.popupMenuParams=null}return!0},Me.prototype.getMenuFromNumber=function(e){for(var t=this.curMenu;t&&t.number!=e;)t=t.parentMenu;return t},Me.prototype.getMenuFromLineElem=function(e){var t=Number(e.offsetParent.getAttribute("data-menunumber"));return this.getMenuFromNumber(t)},Me.prototype.getMenuLineFromElem=function(e){for(;e&&"TD"!=e.tagName&&"TR"!=e.tagName;)e=e.parentNode;return e?"TD"==e.tagName?e.parentNode:"TR"==e.tagName?e:null:e},Me.prototype.handleEvent=function(e,t,s){if(this.curMenu.form.inst.inRequest)return jOmnis.stopEventNow(e),!0;var i=e.target,n=this.getMenuLineFromElem(i),r=null==n?null:this.getMenuFromLineElem(n),o=null==n?0:Number(n.getAttribute("data-ident"));switch(null==r&&(r=this.curMenu),e.type){case"keypress":if(this.keydown){this.keydown=!1;break}case"keydown":var a=OmnisKeyboardHandler.getNormalizedEventKey(e);"keydown"===e.type&&(this.keydown=!0," "!==a&&"Enter"!==a&&"Escape"!==a||(this.keyDownHasFired=!0)),this.curMenu.handleKey(e),"Tab"===a&&(this.closedByTabbing=!0,this.closedByShiftTabbing=e.shiftKey,this.popupMenuParams.focusElement=null,we.closeMenus(),jOmnis.stopEventNow(e),this.closedByTabbing=this.closedByShiftTabbing=!1);break;case"keyup":if(a=OmnisKeyboardHandler.getNormalizedEventKey(e),this.keyDownHasFired)switch(this.keyDownHasFired=!1,a){case" ":case"Enter":var l=r.curLineIdent;return r.lineInfo(l,be.cascadeName)&&(jOmnis.stopEventNow(e),r.sentCascadeOpen=!0,r.handleCascadeOpen(l),r.cascadeMenu)?r.cascadeMenu.handleMovementKey(a,0):(r.handleLineClick(e,l),jOmnis.stopEventNow(e),!0);case"Escape":return we.closeMenus(),!0}this.curMenu.continueKeySearch(a),jOmnis.stopEventNow(e);break;case"mousemove":if(i==we.overlay&&this.closeOnOverlay){we.closeOnOverlayDo=!0,we.overlay.style.zIndex=-1,setTimeout("jOmnisMenuHandler.handleDelayedCloseMenus()",200);break}r&&r.parentMenu&&r.parentMenu.curLineIdent&&r.parentMenu.handleLineLeave(e,r.parentMenu.curLineIdent),r&&r.curLineIdent!=o?(r.curLineIdent&&r.handleLineLeave(e,r.curLineIdent),o&&r.handleLineEnter(e,o)):r!=this.curMenu&&this.curMenu.curLineIdent&&this.curMenu.handleLineLeave(e,this.curMenu.curLineIdent);break;case"scroll":var h=Number(t.getAttribute("data-menunumber"));(r=this.getMenuFromNumber(h))&&r.handleMenuScroll();break;case"mousedown":case"touchstart":s&&this.closeMenus();break;case"click":s?this.closeMenus():(jOmnis.touchDevice&&(r.curLineIdent=o),r.handleLineClick(e,o));break;case"contextmenu":return jOmnis.stopEventNow(e),!0}return jOmnis.handleEventPreventDefault(e)},Le.prototype.continueKeySearch=function(e){null==this.mKeySearchBuffer&&(this.mKeySearchBuffer=""),this.mKeySearchBuffer+=e.toUpperCase(),this.searchMenu(this.mKeySearchBuffer),this.mKeyTimer&&clearTimeout(this.mKeyTimer);var t=this;this.mKeyTimer=setTimeout((function(){t.mKeySearchBuffer="",t.mKeyTimer=null}),500)},Le.prototype.cancelKeySearch=function(){this.mKeyTimer&&(clearTimeout(this.mKeyTimer),this.mKeyTimer=null,this.mKeySearchBuffer="")},Le.prototype.searchMenu=function(e){if(e&&e.length)for(var t=this.lst.getRowCount(),s=0;s<t;s++)if(this.lst.getData(be.enabled,s+1)){var i=this.lst.getData(be.text,s+1);if("number"==typeof i&&(i=i.toString()),null!=i&&0===i.toUpperCase().indexOf(e))return void this.hiliteLine(s+1)}},Me.prototype.handleEventResult=function(e,t,s){return t==eBaseEvent.evOpenContextMenu&&(this.inOpenMenuEvent=!1,this.popupMenuParams&&!this.popupMenuParams.eventDiscarded&&(this.popupMenuParams.eventDiscarded=!s)),!0},Me.prototype.handleEventResultParams=function(e,t,s,i){e==eORFCparam.OpeningContextMenu&&this.popupMenuParams&&(this.popupMenuParams.menuData=t,this.popupMenuParams.remoteIdent=s,this.popupMenuParams.eventDiscarded||(this.popupMenuParams.eventDiscarded=null==this.popupMenu()),this.popupMenuParams&&this.popupMenuParams.eventDiscarded&&this.popupMenuParams.menuObj&&this.popupMenuParams.menuObj.handleEvent(jOmnis.createDOMEvent("omnis-popupdiscarded")))},Me.prototype.handleMenuClosing=function(e){e==this.curMenu&&(this.curMenu=this.curMenu.parentMenu)},Me.prototype.handleCascadeOpen=function(e,t){var s=this.getMenuFromNumber(e);s&&s.handleCascadeOpen(t)},Me.prototype.handleCascadeClose=function(e,t){var s=this.getMenuFromNumber(e);s&&s.handleCascadeClose(t)},Me.prototype.handleDelayedCloseMenus=function(){we.closeOnOverlayDo?we.closeMenus():null!=we.overlay&&(we.overlay.style.zIndex=jOmnis.getPopupZIndex(this.curMenuForm,Me.ZINDEX))},Me.prototype.handleMenuSelect=function(e,t){if(this.curMenuObj){var s=jOmnis.createDOMEvent("omnis-menuselect");if(s.commandID=e,s.lineID=t,s.returnValue=!0,this.curMenuObj.handleEvent(s),0==s.returnValue)return this.closeMenus(),!1}return this.canSendEvent(eBaseEvent.evExecuteContextMenu)&&(this.popupMenuParams.commandID=e,this.sendEvent(eBaseEvent.evExecuteContextMenu)),this.closeMenus(),!0},Me.prototype.handleContextMenuClick=function(e,t,s,i,n,r){var o;null!=n&&(o=n,null!=r&&(o+=","+r));var a=null==s?t.serverElem:s.elem,l=a.getAttribute("data-contextmenu");if(l&&l.length&&"@"!==l){var h="touchstart"==e.type?e.touches[0].clientX:e.clientX,c="touchstart"==e.type?e.touches[0].clientY:e.clientY;if(0==h&&0==c&&(jOmnis.inEdge()||jOmnis.inIE11OrLater())){var u=e.target;if(u)if(jOmnis.getOmnisCtrl(u)){var m=jOmnis.getElemPosRelativeToAncestor(i.elem);h=m.x,c=m.y}}var d=jOmnis.getWindowClientScroll();return h+=d.XOffset,c+=d.YOffset,this.popupMenuParams={posX:h,posY:c,menuForm:t,menuObj:s,menuName:l,menuClassPrefix:"omnisMenu",menuData:this.getMenuData(t.ident,l,!1),clickedObj:i,keyElem:i?i.elem:a,commandID:0},null!=o&&(this.popupMenuParams.posn=o),this.canSendEvent(eBaseEvent.evOpenContextMenu)?(this.inOpenMenuEvent=!0,this.sendEvent(eBaseEvent.evOpenContextMenu)):we.popupMenu(),jOmnis.handleEventPreventDefault(e,!0)}return s&&s.disableDefaultContextMenu?jOmnis.handleEventPreventDefault(e,!0):l?(e.cancelBubble=!0,!0):s&&s.parentCtrl?s.parentCtrl.handleContextMenuClick(e,i):!s||!t||t.handleContextMenuClick(e,i)},Me.prototype.handleContextMenuOpen=function(e){return this.popupMenuParams=e,this.canSendEvent(eBaseEvent.evOpenContextMenu)?(this.inOpenMenuEvent=!0,this.sendEvent(eBaseEvent.evOpenContextMenu),!0):null!=this.popupMenu()},Me.prototype.canSendEvent=function(e){if(this.popupMenuParams){var t=this.popupMenuParams;return(t.menuObj?t.menuObj:t.menuForm).canSendEvent(e)}return!1},Me.prototype.sendEvent=function(e){if(this.popupMenuParams){var t=this.popupMenuParams;t.posn||(t.posn="0");var s=t.menuForm.inst;if(s){var i=[],n=-1;switch(e){case eBaseEvent.evOpenContextMenu:n=i.length,Oe||(Oe=[["name",eOmnisDataTypes.fftCharacter,0,gCliMaxcharlen,1,0],["ident",eOmnisDataTypes.fftInteger,0,0,2,0],["commandID",eOmnisDataTypes.fftInteger,0,0,3,0],["text",eOmnisDataTypes.fftCharacter,0,0,4,0],["enabled",eOmnisDataTypes.fftBoolean,0,0,5,0],["checked",eOmnisDataTypes.fftBoolean,0,0,6,0],["userInfo",eOmnisDataTypes.fftCharacter,0,gCliMaxcharlen,7,0],["cascadeData",eOmnisDataTypes.fftList,0,0,8,0],["cascadeName",eOmnisDataTypes.fftCharacter,0,gCliMaxcharlen,9,0],["iconURI",eOmnisDataTypes.fftCharacter,0,gCliMaxcharlen,10,0],["isCheckable",eOmnisDataTypes.fftBoolean,0,0,11,0]]);var r={lstRow:0,lstDef:Oe,lstData:[].concat(t.menuData.lstData),lstLSEL:[],lstL:0};t.menuData=r,i[n]=["pContextMenu",new Pe(t.menuData)];break;case eBaseEvent.evExecuteContextMenu:i[i.length]=["pCommandID",t.commandID]}if(i[i.length]=["pPosition",t.posn],i[i.length]=["pClickedField",t.clickedObj?t.clickedObj.makeNotation():"$cinst"],i[i.length]=["pControlMenu",!!t.controlMenu],t.menuForm.sendClientEvent(t.menuObj?t.menuObj:0,-e,i,e==eBaseEvent.evOpenContextMenu?this:null))return this.inOpenMenuEvent=!1,!0;-1!=n&&(i[n][1]=0);var o={lstRow:0,lstDef:0,lstData:i,lstLSEL:0,lstL:0};return s.commsParamsAddConnectionID(t.menuForm.index),s.commsParamsAddInstanceVars(t.menuForm.index),s.commsParamsAdd(eORFCparam.OpeningContextMenu,t.menuData,3e4,0),s.commsParamsAdd(eORFCparam.EvCustom,t.menuForm.number,t.menuObj?1*t.menuObj.objNumber:0,-e,o),s.sendMessage(eORFCmess.Event,t.menuForm.index)}}return!1},Me.prototype.eventComplete=function(e){e||(e=null==this.popupMenu()),e&&this.popupMenuParams&&this.popupMenuParams.menuObj&&this.popupMenuParams.menuObj.handleEvent(jOmnis.createDOMEvent("omnis-popupdiscarded"))},Le.prototype.baseClassName="omnis-menu",Le.ZINDEX=1,Le.prototype.setParentMenu=function(e,t){this.parentMenu=e,this.parentMenuLineIdent=t},Le.prototype.makeUniqueLineID=function(e){return"omnismenuid_"+this.number+"_"+e},Le.prototype.open=function(e,t,s,i){if(s=jOmnis.defaultParameter(s,0),null==this.parentMenu){var n=jOmnis.overlayManager.addOverlay(this.form.inst.elem,this.form,"menu_overlay",OmnisOverlayManager.MENU_OVERLAY_CLASS,!0);we.overlay=n;var r=new Function("event","jOmnisMenuHandler.handleEvent(event,this,true)");n.onclick=r,jOmnis.touchDevice&&(n.ontouchstart=r),n.onmousedown=r,n.onmousemove=r,n.oncontextmenu=r}else this.parentMenu.installCascade(this.parentMenuLineIdent,this);this.lst=new omnis_list(this.data),this.elem=document.createElement("div"),this.elem.onmousemove=new Function("event","jOmnisMenuHandler.handleEvent(event,this,true)"),this.elem.onscroll=new Function("event","jOmnisMenuHandler.handleEvent(event,this,true)"),this.elem.oncontextmenu=new Function("event","return false;"),this.elem.className=we.getMenuClass(De.main,"normal"),jOmnis.addClass(this.elem,this.baseClassName),i&&(i+="-opened-menu",jOmnis.addClass(this.elem,i));var o=this.form.inst.theme;o&&jOmnis.addClass(this.elem,o.getCSSClass()),this.elem.setAttribute("data-menunumber",this.number),this.elem.style.visibility="hidden",this.elem.style.position="absolute",this.elem.style.left="0px",this.elem.style.top="0px",this.elem.style.zIndex=jOmnis.getPopupZIndex(this.form,Le.ZINDEX),this.elem.style.setProperty("--menu-line-height",this.form.menuLineHeight+"px"),jOmnis.touchDevice?this.form.inst.elem.appendChild(this.elem):document.body.appendChild(this.elem);for(var a='<table role="presentation" class="'+we.getMenuClass(De.table,"normal")+'" cellpadding=0 cellspacing=0 cols=3 data-menunumber="'+this.number+'">',l=this.lst.getRowCount(),h="",c=1;c<=l;c++){var u=this.lst.getChar(be.text,c,!0);0==u.length&&this.lst.setData(be.enabled,c,0);var m=this.lst.getData(be.ident,c),d=this.lst.getData(be.checked,c),p=this.lst.getData(be.enabled,c),_=this.lst.getChar(be.cascadeName,c,!0),f=this.lst.getChar(be.iconURI,c,!0),g=f&&f.length,y=1*this.lst.getData(be.isCheckable,c)!=0,v=0==u.length?"divider":p?"normal":"disabled",b=we.getMenuClass(De.row,v),D=we.getMenuClass(De.cellCheck,v),C=we.getMenuClass(De.cellText,v),O=we.getMenuClass(De.cellCascade,v),E=this.makeUniqueLineID(m),S="";_.length&&(S='aria-haspopup="true"'),h+=E+" ";var P,M="";if(y){var w='"menuitemcheckbox" ';M=d?'aria-checked="true" ':'aria-checked="false" '}else w='"menuitem" ';if(a+="<tr role="+w+M+'id="'+E+'"'+S+' class="'+b+'" data-ident="'+m+'" tabindex="-1" ',a+='oncontextmenu="jOmnisMenuHandler.handleEvent(event,this,false)" ',jOmnis.touchDevice||(a+='onmousemove="jOmnisMenuHandler.handleEvent(event,this,false)" '),a+='onclick="jOmnisMenuHandler.handleEvent(event,this,false)">',P=jOmnis.touchDevice?"<td ":'<td onmousemove="jOmnisMenuHandler.handleEvent(event,this,false)" ',u.length){if(y&&d&&!g)a+=P+'aria-selected="true" aria-hidden="true" class="'+D+'">&#x2713;</td>';else if(g){var L=jIcons.selectIcon(f);y&&d&&(L=jIcons.getCheckedImage(L)),a+=P+'class="'+D+'">'+jIcons.getHtml(L,null,'role="presentation"',"vertical-align:middle")+"</td>"}else a+=P+'class="'+D+'">&nbsp;</td>';a+=P+'class="'+C+'">'+u+"</td>",_.length?a+=P+'class="'+O+'" aria-hidden="true">&#x25ba;</td>':a+=P+'class="'+O+'">&nbsp;</td>'}else a+=P+"colspan=3>",a+='<div style="position:relative;">&nbsp;',a+='<div class="'+C+'"></div></div>',a+="</td>";a+="</tr>"}a+="</table>",this.elem.innerHTML=a;var T="omnismenuid_"+this.number;if(this.elem.setAttribute("aria-owns",h),this.elem.setAttribute("role","menu"),this.elem.setAttribute("id",T),this.form.stringTable){var I=this.elem.querySelectorAll("td.omnis-menu-celltext");for(c=0;c<I.length;c++)I[c].textContent=this.form.stringTable.translateText(I[c].textContent)}this.elem.style.width=jOmnis.getOmnisWidth(this.elem,!0)+"px",this.elem.style.visibility="visible",this.fitMenuInBrowserWindow(e,t,s)},Le.prototype.close=function(){if(this.cascadeMenu&&this.cascadeMenu.close(),this.parentMenu&&this.parentMenu.removeCascade(this.parentMenuLineIdent),we.handleMenuClosing(this),jOmnis.touchDevice?this.form.inst.elem.removeChild(this.elem):document.body.removeChild(this.elem),this.elem=null,this.lst=null,null==this.parentMenu&&(jOmnis.overlayManager.removeOverlay("menu_overlay",this.form,!0),we.overlay=null,we.closeOnOverlayDo=!1,we.curMenuObj)){var e=jOmnis.createDOMEvent("omnis-menuclosed");e.closedByTabbing=we.closedByTabbing,e.shiftKey=we.closedByShiftTabbing,we.curMenuObj.handleEvent(e),we.curMenuObj=null}},Le.prototype.fitMenuInBrowserWindow=function(e,t,s){var i=20,n=jOmnis.getWindowClientSize(),r=jOmnis.getWindowClientScroll(),o=e,a=t;if(s&&(a-=s+this.elem.offsetHeight),this.parentElem){var l=jOmnis.getElemPosRelativeToAncestor(this.parentElem,null);if(t+this.elem.offsetHeight>r.YOffset+n.height)if(t-l.h-this.elem.offsetHeight>=r.YOffset)a=l.y-this.elem.offsetHeight+1;else{var h=window.getComputedStyle(this.elem),c=2*parseInt(h.borderWidth)||0,u=parseInt(h.paddingTop)+parseInt(h.paddingBottom)||0,m=r.YOffset+n.height-t;if(m>=30)this.elem.style.height=m-(c+u)-1+"px";else{var d=t-l.h-r.YOffset;a=l.y-d+1,this.elem.style.height=d-(c+u)-1+"px"}this.elem.style.overflowY="scroll"}e+this.elem.offsetWidth>r.XOffset+n.width&&e+l.w-this.elem.offsetWidth>=r.XOffset&&(o=l.x+l.w-this.elem.offsetWidth)}else{if(this.elem.offsetHeight>n.height-i&&(this.elem.style.overflowY="scroll",this.elem.style.height=n.height-i+"px",i=2),o+this.elem.offsetWidth-r.XOffset>n.width-20){var p=this.parentMenu?this.parentMenu.elem.offsetLeft-this.elem.offsetWidth+2:n.width+r.XOffset-this.elem.offsetWidth-20;o=p>=r.XOffset?p:r.XOffset}if(a+this.elem.offsetHeight-r.YOffset>n.height-i){var _=n.height+r.YOffset-this.elem.offsetHeight-i;a=_>=r.YOffset?_:r.YOffset}}a<0&&(a=0),this.elem.style.left=o+"px",this.elem.style.top=a+"px"},Le.prototype.installCascade=function(e,t){return this.cascadeMenu&&this.cascadeMenu.close(),this.cascadeMenu=t,this.cascadeIdent=e,!0},Le.prototype.removeCascade=function(e){return e==this.cascadeIdent&&(this.cascadeMenu=null,this.cascadeIdent=0,!0)},Le.prototype.lineIdentFromRowNumber=function(e){return this.lst.getData(be.ident,e)},Le.prototype.lineInfo=function(e,t){var s=this.lst.search(be.ident,e,!0,!1,!1);if(s){if(null==t)return s;var i=this.lst.getData(t,s);switch(t){case be.cascadeData:case be.cascadeName:0==i&&(i=null)}return i}return null},Le.prototype.lineElem=function(e){var t=this.makeUniqueLineID(e);return document.getElementById(t)},Le.prototype.lineHilite=function(e,t){t&&this.hiliteLineIdent&&this.hiliteLineIdent!=e&&this.lineHilite(this.hiliteLineIdent,!1);var s=this.lineElem(e);if(null==s)return!1;var i=t?"hilite":"normal";s.className=we.getMenuClass(De.row,i),s.children[0].className=we.getMenuClass(De.cellCheck,i),s.children.length>1&&(s.children[1].className=we.getMenuClass(De.cellText,i)),s.children.length>2&&(s.children[2].className=we.getMenuClass(De.cellCascade,i)),this.hiliteLineIdent=t?e:0},Le.prototype.handleKey=function(e,t){var s=OmnisKeyboardHandler.getNormalizedEventKey(e),i=!1;switch(t=t||this.curLineIdent,s){case"ArrowLeft":return this.parentMenu?(jOmnis.stopEventNow(e),this.close(),this.parentMenu.lineElem(this.parentMenu.curLineIdent).focus()):we.curMenuObj&&we.curMenuObj.handleEvent(e),!0;case"ArrowRight":return this.lineInfo(t,be.cascadeName)&&(jOmnis.stopEventNow(e),this.sentCascadeOpen=!0,this.handleCascadeOpen(t),this.cascadeMenu)?this.cascadeMenu.handleMovementKey(s,0):(we.curMenuObj&&we.curMenuObj.handleEvent(e),!0);case"End":case"Home":case"ArrowUp":case"ArrowDown":return this.handleMovementKey(s,t);default:i=!0}return i||this.cancelKeySearch(),!0},Le.prototype.handleMovementKey=function(e,t){for(var s=this.lst.search(be.ident,t,!0,!1,!1),i=this.lst.getRowCount();;){switch(e){case"End":s=i;break;case"Home":s=1;break;case"ArrowUp":s--;break;case"Enter":case" ":case"ArrowRight":case"ArrowDown":s++}if(s<1?s=i:s>i&&(s=1),this.hiliteLine(s))return!0}return!0},Le.prototype.hiliteLine=function(e){var t=this.lineIdentFromRowNumber(e);return!!this.lineInfo(t,be.enabled)&&(this.curLineIdent&&this.lineHilite(this.curLineIdent,!1),this.curLineIdent=t,this.sentCascadeOpen=this.receivedCascadeOpen=!1,this.sentCascadeClose=this.receivedCascadeClose=!1,this.lineHilite(this.curLineIdent,!0),this.lineElem(this.curLineIdent).focus(),!0)},Le.prototype.handleLineEnter=function(e,t){if(!this.lineInfo(t,be.enabled))return!1;if(this.curLineIdent==t)return!1;if(we.closeOnOverlayDo=!1,this.curLineIdent=t,this.cascadeMenu&&this.cascadeIdent!=this.curLineIdent&&this.receivedCascadeClose&&this.handleCascadeClose(this.cascadeIdent),!this.cascadeMenu||this.sentCascadeClose){this.lineHilite(this.curLineIdent,!0),this.lineElem(this.curLineIdent).focus();var s=this.lineInfo(this.curLineIdent,be.cascadeName);if(s&&s.length){var i=this,n=this.sentCascadeClose?0:100;setTimeout((function(){i.sentCascadeOpen=!0,i.receivedCascadeOpen=!1,i.sentCascadeClose=!1,i.receivedCascadeClose=!1,setTimeout("jOmnisMenuHandler.handleCascadeOpen("+i.number+","+i.curLineIdent+")",n)}),this.sentCascadeClose?100:0)}}return!0},Le.prototype.handleLineLeave=function(e,t){return!!this.lineInfo(t,be.enabled)&&(this.curLineIdent==t&&(this.cascadeMenu?this.sentCascadeClose||(this.sentCascadeClose=!0,setTimeout("jOmnisMenuHandler.handleCascadeClose("+this.number+","+this.curLineIdent+")",100)):this.lineHilite(this.hiliteLineIdent,!1),void(this.curLineIdent=0)))},Le.prototype.handleLineClick=function(e,t){if(!this.lineInfo(t,be.enabled))return!1;if(this.curLineIdent!=t)return!1;var s=this.lineInfo(t,be.cascadeName);return!(s&&s.length>0)&&we.handleMenuSelect(this.lineInfo(t,be.commandID),this.lineInfo(t,null))},Le.prototype.handleCascadeOpen=function(e){e==this.curLineIdent?(this.receivedCascadeOpen=!0,we.popupCascade(this,e,this.lineInfo(e,be.cascadeName),this.lineInfo(e,be.cascadeData))):this.sentCascadeOpen=!1},Le.prototype.handleCascadeClose=function(e){this.receivedCascadeClose=!0,e==this.cascadeIdent&&e!=this.curLineIdent&&0!=this.curLineIdent&&(this.lineHilite(this.cascadeIdent,!1),this.curLineIdent&&this.lineHilite(this.curLineIdent,!0),this.cascadeMenu&&this.cascadeMenu.close())},Le.prototype.handleMenuScroll=function(){this.curLineIdent&&this.lineHilite(this.curLineIdent,!1),this.cascadeIdent&&this.lineHilite(this.cascadeIdent,!1),this.cascadeMenu&&this.cascadeMenu.close(),this.curLineIdent=0,this.cascadeIdent=0,this.cascadeMenu=null};var Te=s(9522),Ie=s(1341),Re=s(9675);function Ae(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var xe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.r=void 0,this.g=void 0,this.b=void 0,t>16777215&&(t=16777215),t<0&&(t=0),this.r=255&t,this.g=t>>8&255,this.b=t>>16&255}var t,s,i;return t=e,i=[{key:"TintRGB",value:function(t,s,i){return new e(t).tint(s,i).getRGBInt()}},{key:"TintRGBWithColor",value:function(t,s,i){return new e(t).tintWithColor(new e(s),i).getRGBInt()}}],(s=[{key:"getLuminance",value:function(){return.2126*this.r+.7152*this.g+.0722*this.b}},{key:"getRGBInt",value:function(){return((0|this.b)<<16)+((0|this.g)<<8)+(0|this.r)}},{key:"tintWithColor",value:function(t,s){s||(s=e.eTintFactor.DEFAULT);var i=new e(this.getRGBInt());return this.getLuminance()>t.getLuminance()?(i.r=Math.max(i.r-(1-t.r/255)*s,0),i.g=Math.max(i.g-(1-t.g/255)*s,0),i.b=Math.max(i.b-(1-t.b/255)*s,0)):(i.r=Math.min(i.r+t.r/255*s,255),i.g=Math.min(i.g+t.g/255*s,255),i.b=Math.min(i.b+t.b/255*s,255)),i}},{key:"tint",value:function(t,s){t||(t=e.eTintFactor.DEFAULT),t/=255,s||(s=this.getLuminance()>127?e.eTintType.DARKEN:e.eTintType.LIGHTEN);var i=new e(this.getRGBInt());return s===e.eTintType.DARKEN?(t=Math.max(1-t,0),i.r*=t,i.g*=t,i.b*=t):(i.r=Math.min(i.r+(255-i.r)*t,255),i.g=Math.min(i.g+(255-i.g)*t,255),i.b=Math.min(i.b+(255-i.b)*t,255)),i}}])&&Ae(t.prototype,s),i&&Ae(t,i),e}();xe.eTintType={AUTO:0,LIGHTEN:1,DARKEN:2},xe.eTintFactor={DEFAULT:191,SMALL:38,MEDIUM:77};var je=xe;window.OMNIS_SCRIPTS_REV="31896",window.OMNIS_STUDIO_VERSION="10.22 31896",window.ctrl_base=i.U2,window.OMCreateAbstractClass=i.n4,window.jOmnisFiles=i.Aj,window.jOmnisNextFileIdent=i.b,window.PositionInfo=i.CK,window.eBaseEvent=i.Bg,window.eBaseProperties=i.W9,window.eBaseFocusStyle=i.GP,window.eBaseBorder=i.a0,window.eBaseColor=i.w5,window.eBaseLines=i.EF,window.eBaseFontStyles=i.g,window.eBaseAlignment=i.NE,window.eBaseEffect=i.rP,window.eBaseDay=i.rn,window.eBaseDisplayFormats=i.i8,window.eErrorTextPos=i.hq,window.eBaseDropModes=i.$8,window.ePolitenessSetting=i.Bu,window.eRelevantSetting=i.Qj,window.omnis_inst=n.PP,window.callbackWithFormAddress=n.$r,window.omnisDragBorderObjects=n.tm,window.omnisDragBorder=n.Si,window.omnisDBMouseDown=n.mB,window.omnisDBMouseMove=n.zl,window.omnisDBMouseUp=n.H_,window.eORFCmess=n.CQ,window.eORFCparam=n.Y6,window.eInstVarChangeColumn=n.Pw,window.eResolutions=n.CK,window.cOmnisUniqueIdLen=n.Kv,window.jOmnisDragBorder=n.SA,window.omnis_form=r.a,window.jDesignPushMessages=r.V,window.OmnisOverlayManager=o.Z,window.omnis_fn=a.cD,window.omnis_objs=a.A3,window.RGBColor=a.vh,window.eAnums=a.Tq,window.getScrollSize=l.ck,window.doSizeDialogMask=l.mo,window.button=l.LI,window.showDialog=l.vC,window.hideDialog=l.Wr,window.destroyDialog=l.LF,window.dialogBlur=l.Lz,window.dialogKey=l.Wl,window.showDialogMask=l.Yh,window.removeDialogMask=l.pQ,window.dialogButtonShowHideFocus=l.G3,window.DEFAULT_MASK_ZINDEX=l.VB,window.jOmnis=h.yZ,window.getWebkitVersion=h.O3,window.getAndroidVersion=h.dl,window.omnis_drag=h.LM,window.jOmnisRemoteObject=h.Wu,window.eOmnisDataTypes=h.Ft,window.eOmnisDataSubTypes=h.Gu,window.WND_FLOAT_NONE=h.wO,window.WND_FLOAT_LEFT=h.WL,window.WND_FLOAT_RIGHT=h.B1,window.WND_FLOAT_LEFT_RIGHT=h.I7,window.WND_FLOAT_TOP=h.dO,window.WND_FLOAT_BOTTOM=h.UL,window.WND_FLOAT_TOP_BOTTOM=h.sh,window.WND_FLOAT_LEFT_RIGHT_CENTER=h.OA,window.WND_FLOAT_TOP_BOTTOM_CENTER=h.Yg,window.WND_FLOAT_ALL_CENTER=h.Ph,window.WND_WC_MENUBAR=h.lU,window.WND_WC_TOOLBAR_TOP=h.Vf,window.WND_WC_STATUSBAR=h.YP,window.WND_WC_TOOLBAR_BOTTOM=h.e9,window.WND_WC_TOOLBAR_LEFT=h.Bg,window.WND_WC_TOOLBAR_RIGHT=h.db,window.WND_WC_MAIN_HEADER=h.N4,window.WND_WC_HORZ_HEADER=h.ge,window.WND_WC_VERT_HEADER=h.Jl,window.WND_WC_HEADER_BUTTON=h.B3,window.WND_WC_CLIENT=h.jJ,window.WND_WC_HORZ_FOOTER=h.RT,window.WND_WC_FOOTER_BUTTON=h.Ik,window.eResizeModes=h.jI,window.eSMinfoCols=h.PE,window.eDoMethodFlags=h.Ks,window.sMissingMethods=h.eJ,window.eSupportedNativeOSs=h.Km,window.eClientPlatforms=h.bN,window.jOmnisVal=h.yf,window.jStyles=h.YB,window.jOverlayId=h.SQ,window.jIcons=h.IL,window.eDesignMessageTypes=h.I4,window.omnis_date=d,window.eDateParts=c,window.omnis_list=g,window.eListDeleteRow=f,window.INVALID_LIST_OPERATION=-1,window.omnis_list_row=D,window.omnis_raw_list=O,window.omnis_list_col=b,window.omnis_cols=C,window.gCliMaxListCols=400,window.gCliMaxcharlen=y,window.eListProperties=v,window.kListKeepSelected=-2,window.FormPositionHelper=P,window.OmnisKeyboardHandler=w,window.OmnisToastMessage=I,window.omnis_sql=z,window.omnis_sql_callbackFromWrapper=function(e){var t=JSON.parse(e,(function(e,t){return!t||"object"!=R(t)||null==t.dtY&&null==t.dtH?t:new omnis_date(t)})),s=t.ID,i=t.ResultSet,n=t.Info,r=(s.ACTION,s.SRID);jOmnis.mSQL.setLastError(n);var o=jOmnis.mSQL.getSRIDForm(r);if(i&&i.ColumnDefs){var a=new omnis_raw_list(!1,o);a.lstRow=0;try{a.lstDef=i.ColumnDefs}catch(e){a.lstDef=[]}try{a.lstData=i.Values}catch(e){a.lstDef=[]}a.lstLSEL=1,a.lstL=1,o.callMethodEx("$sqldone",eDoMethodFlags.clientOnly,s.SRID,a)}else{if(a=null,i&&i.ColumnNames){var l=i.ColumnNames;a=new omnis_raw_list(!1,o);for(var h=l.length,c=0;c<l.length;c++){var u=l[c];u.ColumnName?a.$cols().$add(u.ColumnName,u.DataType,u.DataSubType,u.Length):"string"==typeof u&&a.$cols().$add(u,eOmnisDataTypes.fftCharacter,0,256)}if(i&&i.Values)for(c=0;c<i.Values.length;c++){for(var m=[],d=i.Values[c],p=0;p<h;p++)if(Array.isArray(d))m.push(d[p]);else{var _=i.Values[c];Array.isArray(_)&&(_=_[0]),m.push(_),p<h-1&&c++}a.$add.apply(a,m)}}o.callMethodEx("$sqldone",eDoMethodFlags.clientOnly,s.SRID,a)}},window.omnis_pager=X,window.omnis_locale=G.AW,window.jGetOmnisString=G.j3,window.jGetOmnisLocalizedValue=G.W7,window.jGetOmnisException=G.nW,window.jGetExceptionText=G.gU,window.jOmnisStrings=G.eO,window.WrapperInterface=$.Nq,window.setiOSWidthAndHeight=$.kE,window.didRotateTo=$._N,window.sendDeviceRequest=$.LB,window.eWrapperType=$.Xw,window.eWrapperFeature=$.JY,window.OmnisCSSBuilder=Q,window.omnis_styles=ge,window.eStyleFlag=de,window.eStyleChangedFlag=pe,window.jOmnisMenuHandler=we,window.eOMMenuLine=be,window.eOMMenuArea=De,window.eOMMenuState=Ce,window.jOmnisEffects=q.tg,window.eScreenSize=Te.jX,window.possibleScreenSizes=Te.VV,window.screenSizeEntries=Te.iH,window.gResponsiveDesign=Te.oM,window.ctrl_subform=Ie.OY,window.omnis_sfs=Ie.qW,window.omnisDFMouseDown=Ie.Oo,window.omnisDFMouseMove=Ie.mi,window.omnisDFMouseUp=Ie.qm,window.omnisDFDisableEvent=Ie.zO,window.omnisRFMouseMove=Ie.TF,window.omnisRFMouseOut=Ie.cU,window.cSubformNotLoaded=Ie.fJ,window.jOmnis_1=Re.zU,window.m__d=Re.Kq,window.deviceMacPpc=Re.Ti,window.uagent=Re.o8,window.DetectWindowsPhone=Re.Qt,window.DetectBlackBerry=Re.Dc,window.DetectBlackBerry10=Re.OC,window.DetectBlackBerryTablet=Re.j2,window.ctrl_pagedpane=function(){},window.ctrl_cgrid=function(){},window.ctrl_combobox=function(){},window.ctrl_popmenu=function(){},window.ctrl_tabs=function(){},window.ctrl_video=function(){},window.OMColor=je,window.Theme=V.Q2,window.Theme.COLORS=V.l1,window.Theme.COLOR_NAMES=V._l,window.ctrl_base.DEFAULT_COLOR_NAMES=i.Mr},6990:function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2772),core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1539),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_regexp_constructor__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4603),core_js_modules_es_regexp_constructor__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_regexp_constructor__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9714),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5306),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3123),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_string_trim__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3210),core_js_modules_es_string_trim__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_string_trim__WEBPACK_IMPORTED_MODULE_6__);Date.parseFunctions={count:0},Date.parseRegexes=[],Date.formatFunctions={count:0},Date.prototype.dateFormat=function(e,t,s){if(null==e)return this+"";if(-1!=e.indexOf("|")){var i=e.split("|");e=null;for(var n=0;n<i.length;++n)if(i[n].length){e=i[n];break}if(null==e)return this+""}null==Date.formatFunctions[e]&&Date.createNewFormat(e);var r=Date.formatFunctions[e];return t||!this.offset?this[r]():new Date(this.valueOf()-this.offset)[r]()},Date.prototype.dateFormatUTC=function(e,t){return new Date(1*this+6e4*this.getTimezoneOffset()).dateFormat(e,t)},Date.setStrings=function(e){var t,s=e.lstData[0].split("|");for(Date.upperAmString=s[0].toUpperCase(),Date.lowerAmString=s[0].toLowerCase(),Date.upperPmString=s[1].toUpperCase(),Date.lowerPmString=s[1].toLowerCase(),s=e.lstData[1].split("|"),t=0;t<6;++t)Date.abbDayNames[t+1]=s[t];for(Date.abbDayNames[0]=s[6],s=e.lstData[2].split("|"),t=0;t<6;++t)Date.fullDayNames[t+1]=s[t];for(Date.fullDayNames[0]=s[6],s=e.lstData[3].split("|"),t=0;t<12;++t)Date.abbMonthNames[t]=s[t];for(s=e.lstData[4].split("|"),t=0;t<12;++t)Date.fullMonthNames[t]=s[t];jOmnis.mLocaleTimeFormat=e.lstData[5],jOmnis.mLocaleShortDateFormat=e.lstData[6],jOmnis.mLocaleShortDateTimeFormat=e.lstData[7],jOmnis.mLocaleLongDateFormat=e.lstData[8],jOmnis.mLocaleLongDateTimeFormat=e.lstData[9],jOmnis.mLocaleMediumDateFormat=e.lstData[11],jOmnis.mLocaleMediumDateTimeFormat=e.lstData[12],jOmnis.mLocaleFullDateFormat=e.lstData[13],jOmnis.mLocaleFullDateTimeFormat=e.lstData[14],jOmnis.mHashFT=jOmnis.mLocaleTimeFormat,jOmnis.mHashFD=jOmnis.mLocaleMediumDateFormat,jOmnis.mHashFDT=jOmnis.mLocaleMediumDateTimeFormat},Date.createNewFormat=function(format){var funcName="format"+Date.formatFunctions.count++;Date.formatFunctions[format]=funcName;for(var code="Date.prototype."+funcName+" = function(){return ",special=!1,ch="",i=0;i<format.length;++i)if(ch=format.charAt(i),special||"\\"!=ch)if(special||'"'!==ch&&"'"!==ch)special?(special=!1,code+="'"+String.escape(ch)+"' + "):code+=Date.getFormatCode(ch);else{var end=format.indexOf(ch,i+1);-1===end&&(end=format.length),code+="'"+String.escape(format.substring(i+1,end))+"' + ",i=end}else special=!0;eval(code.substring(0,code.length-3)+";}")},Date.getFormatCode=function(e){switch(e){case"D":return"String.leftPad(this.getDate(), 2, '0') + ";case"j":return"this.getDate() + ";case"d":return"this.getDate() + Date.getOrdinalSuffix(this.getDate()) + ";case"V":return"Date.abbDayNames[this.getDay()] + ";case"w":return"Date.fullDayNames[this.getDay()] + ";case"E":return"(this.getDayOfYear() + 1) + ";case"n":return"Date.fullMonthNames[this.getMonth()] + ";case"M":return"String.leftPad(this.getMonth() + 1, 2, '0') + ";case"P":return"(this.getMonth() + 1) + ";case"m":return"Date.abbMonthNames[this.getMonth()] + ";case"y":return"this.getFullYear() + ";case"Y":return"('' + this.getFullYear()).substring(2, 4) + ";case"A":return"(this.getHours() < 12 ? Date.upperAmString : Date.upperPmString) + ";case"a":return"(this.getHours() < 12 ? Date.lowerAmString : Date.lowerPmString) + ";case"k":return"String.leftPad((this.getHours() %12) ? this.getHours() % 12 : 12, 2, '0') + ";case"H":return"String.leftPad(this.getHours(), 2, '0') + ";case"h":return"((this.getHours() %12) ? this.getHours() % 12 : 12) + ";case"K":return"this.getHours() + ";case"N":return"String.leftPad(this.getMinutes(), 2, '0') + ";case"S":return"String.leftPad(this.getSeconds(), 2, '0') + ";case"s":return"String.leftPad(this.getMilliseconds()/10, 3, '0') + ";case"O":return"this.getGMTOffset() + ";default:return"'"+String.escape(e)+"' + "}},Date.getOrdinalSuffix=function(e){var t=jOmnis.ordinalDateSuffixes;if(!t)return"";var s="$"+e,i=t.indexOf(s),n=(s=-1!=i?t.substr(i+s.length):t).indexOf("$");return-1!=n&&(s=s.substr(0,n)),s},Date.getOrdinalSuffixesRegexp=function(){if(sCreatedOrdinalSuffixesRegexp)return sOrdinalSuffixesRegexp;sCreatedOrdinalSuffixesRegexp=!0;var e=jOmnis.ordinalDateSuffixes;if(!e)return sOrdinalSuffixesRegexp="";for(var t=[];e.length>1&&t.length<32;){var s=e.indexOf("$");if(-1==s)break;if(s>0){var i=e.substr(0,s);-1==t.indexOf(i)&&t.push(i),e=e.substr(s)}e=e.replace(/\${0,1}\d+/,"")}return sOrdinalSuffixesRegexp=0==t.length?"":"(("+t.join("|")+"){0,1})"},Date.fullMonthNameToMonthNumber=function(e){e=e.toLowerCase();for(var t=0;t<Date.fullMonthNames.length;++t)if(e==Date.fullMonthNames[t].toLowerCase())return t;return-1},Date.abbMonthNameToMonthNumber=function(e){e=e.toLowerCase();for(var t=0;t<Date.abbMonthNames.length;++t)if(e==Date.abbMonthNames[t].toLowerCase())return t;return-1};var omnisEpoch=null;Date.getOmnisEpoch=function(){return omnisEpoch||(omnisEpoch=Date.parseDate("31/12/1900","D/M/y")),omnisEpoch},Date.parseDate=function(e,t){if(-1!=t.indexOf("|")){for(var s=t.split("|"),i=0;i<s.length;++i)if(s[i].length){var n=Date.parseDate(e,s[i]);if(null!=n)return n}return null}null==Date.parseFunctions[t]&&Date.createParser(t);var r=Date.parseFunctions[t];e=jOmnis.trim(e+"");var o=Date[r](e);if(null==o)for(var a=t.length-1;a>0;--a){var l=t.substr(0,a);if(null==Date.parseFunctions[l]&&Date.createParser(l),r=Date.parseFunctions[l],null!=(o=Date[r](e)))return o}return o},Date.createParser=function(format){var funcName="parse"+Date.parseFunctions.count++,regexNum=Date.parseRegexes.length,currentGroup=1;Date.parseFunctions[format]=funcName;for(var code="Date."+funcName+" = function(input){\nvar y = -1, m = -1, d = -1, h = -1, i = -1, s = -1, ms = -1, z = -1;\nvar d = new Date();\ny = d.getFullYear();\nm = d.getMonth();\nd = d.getDate();\nvar results = input.match(Date.parseRegexes["+regexNum+"]);\nif (results && results.length > 0) {",regex="",special=!1,ch="",i=0;i<format.length;++i)if(ch=format.charAt(i),special||"\\"!=ch)if(special)special=!1,regex+=String.escape(ch);else{var obj=Date.formatCodeToRegex(ch,currentGroup);currentGroup+=obj.g,regex+=obj.s,obj.g&&obj.c&&(code+=obj.c)}else special=!0;code+="var theDate = null;\nif (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0 && ms >= 0)\n{theDate = new Date(y, m, d, h, i, s, ms).applyOffset(z);}\nif (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0)\n{theDate = new Date(y, m, d, h, i, s).applyOffset(z);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0)\n{theDate = new Date(y, m, d, h, i).applyOffset(z);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0)\n{theDate = new Date(y, m, d, h).applyOffset(z);}\nelse if (y > 0 && m >= 0 && d > 0)\n{theDate = new Date(y, m, d).applyOffset(z);}\nelse if (y > 0 && m >= 0)\n{theDate = new Date(y, m).applyOffset(z);}\nelse if (y > 0)\n{theDate = new Date(y, 0).applyOffset(z);}\nif (theDate != null)\n{theDate.__hasTimeComponent = h!=-1; theDate.__hasDateComponent = y!=-1 || m!= -1 || d!=-1;}\n}\nreturn theDate;}",Date.parseRegexes[regexNum]=new RegExp("^"+regex+"$","i"),eval(code)},Date.formatCodeToRegex=function(e,t){switch(e){case"V":return{g:0,c:null,s:"(?:"+Date.abbDayNames.join("|")+")"};case"d":return{g:3,c:"d = parseInt(results["+t+"], 10);\n",s:"(\\d{1,2})"+Date.getOrdinalSuffixesRegexp()};case"D":case"j":return{g:1,c:"d = parseInt(results["+t+"], 10);\n",s:"(\\d{1,2})"};case"w":return{g:0,c:null,s:"(?:"+Date.fullDayNames.join("|")+")"};case"E":return{g:0,c:null,s:"(?:\\d{1,3})"};case"n":return{g:1,c:"m = Date.fullMonthNameToMonthNumber(results["+t+"]);\n",s:"("+Date.fullMonthNames.join("|")+")"};case"m":return{g:1,c:"m = Date.abbMonthNameToMonthNumber(results["+t+"]);\n",s:"("+Date.abbMonthNames.join("|")+")"};case"M":case"P":return{g:1,c:"m = parseInt(results["+t+"], 10) - 1;\n",s:"(\\d{1,2})"};case"y":return{g:1,c:"y = parseInt(results["+t+"], 10);\nif (y >= 0 && y <= 99) y = (y > Date.y2kYear) ? (1900 + y) : (2000 + y);\n",s:"(\\d{4}|\\d{1,2})"};case"Y":return{g:1,c:"var ty = parseInt(results["+t+"], 10);\ny = (ty > Date.y2kYear) ? (1900 + ty) : (2000 + ty);\n",s:"(\\d{1,2})"};case"A":return{g:1,c:"if (results["+t+"] == Date.upperAmString) {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"("+Date.upperAmString+"|"+Date.upperPmString+")"};case"a":return{g:1,c:"if (results["+t+"] == Date.lowerAmString) {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"("+Date.lowerAmString+"|"+Date.lowerPmString+")"};case"h":case"H":case"k":case"K":return{g:1,c:"h = parseInt(results["+t+"], 10);\n",s:"(\\d{1,2})"};case"N":return{g:1,c:"i = parseInt(results["+t+"], 10);\n",s:"(\\d{2})"};case"S":return{g:1,c:"s = parseInt(results["+t+"], 10);\n",s:"(\\d{2})"};case"s":return{g:1,c:"ms = parseInt(results["+t+"], 10);\n",s:"(\\d{3})"};case"O":return{g:1,c:"z = Date.parseOffset(results["+t+"], 10);\n",s:"(Z|[+-]\\d{2}:?\\d{2})"};case".":return{g:0,c:null,s:"\\."};default:return{g:0,c:null,s:String.escape(e)}}},Date.parseOffset=function(e){return"Z"==e?0:(t=3600*parseInt(e[0]+e[1]+e[2]),":"==e[3]?t+=60*parseInt(e[4]+e[5]):t+=60*parseInt(e[3]+e[4]),t);var t},Date.prototype.applyOffset=function(e){return-1==e||-e==60*this.getTimezoneOffset()||(e=-e-60*this.getTimezoneOffset(),this.offset=1e3*e,this.setTime(this.valueOf()+this.offset)),this},Date.prototype.getTimezone=function(){return this.toString().replace(/^.*? ([A-Z]{3,5}) [0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3").replace(/^.*?[0-9]{4} \(([A-Z]{3,5})\)/,"$1")},Date.prototype.getGMTOffset=function(){var e=this.getTimezoneOffset();if(!e)return"+00:00";var t=e<0;return t&&(e=-e),(t?"+":"-")+(String.leftPad(Math.floor(e/60),2,"0")+":"+String.leftPad(e%60,2,"0"))},Date.prototype.getDayOfYear=function(){var e=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var t=0;t<this.getMonth();++t)e+=Date.daysInMonth[t];return e+this.getDate()-1},Date.prototype.getWeekOfYear=function(){var e=this.getDayOfYear()+(4-this.getDay()),t=7-new Date(this.getFullYear(),0,1).getDay()+4;return document.write(t),String.leftPad((e-t)/7+1,2,"0")},Date.prototype.isLeapYear=function(){var e=this.getFullYear();return 0==(3&e)&&(e%100||e%400==0&&e)},Date.prototype.getFirstDayOfMonth=function(){var e=(this.getDay()-(this.getDate()-1))%7;return e<0?e+7:e},Date.prototype.getLastDayOfMonth=function(){var e=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return e<0?e+7:e},Date.prototype.getDaysInMonth=function(){return Date.daysInMonth[1]=this.isLeapYear()?29:28,Date.daysInMonth[this.getMonth()]},Date.prototype.getQuarter=function(){return Date.quarterFromMonthNum[this.getMonth()]},String.escape=function(e){return e.replace(/('|\\)/g,"\\$1")},String.leftPad=function(e,t,s){var i=String(e);for(null==s&&(s=" ");i.length<t;)i=s+i;return i},Date.quarterFromMonthNum=[1,1,1,2,2,2,3,3,3,4,4,4],Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31],Date.fullMonthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],Date.abbMonthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Date.fullDayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Date.abbDayNames=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Date.y2kYear=50,Date.upperAmString="AM",Date.upperPmString="PM",Date.lowerAmString="am",Date.lowerPmString="pm",Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11};var sCreatedOrdinalSuffixesRegexp=!1,sOrdinalSuffixesRegexp},5603:function(e,t,s){"use strict";s(2526),s(1817),s(2165),s(2222),s(2772),s(6992),s(7042),s(561),s(1539),s(4603),s(9714),s(8783),s(5306),s(3123),s(3948);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}
/*! iScroll v5.1.1 ~ (c) 2008-2014 Matteo Spinelli ~ http://cubiq.org/license */e=s.hmd(e),function(t,s,n){var r=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},o=function(){var e=!1;try{var i=Object.defineProperty({},"passive",{get:function(){e=!0,t.removeEventListener("test",null,i)}});t.addEventListener("test",null,i)}catch(e){}var r={},o=s.createElement("div").style,a=function(){for(var e=["t","webkitT","MozT","msT","OT"],t=0,s=e.length;t<s;t++)if(e[t]+"ransform"in o)return e[t].substr(0,e[t].length-1);return!1}();function l(e){return!1!==a&&(""===a?e:a+e.charAt(0).toUpperCase()+e.substr(1))}r.getTime=Date.now||function(){return(new Date).getTime()},r.extend=function(e,t){for(var s in t)e[s]=t[s]},r.addEvent=function(t,s,i,n){t.addEventListener(s,i,e?{capture:!!n,passive:!1}:!!n)},r.removeEvent=function(t,s,i,n){t.removeEventListener(s,i,e?{capture:!!n,passive:!1}:!!n)},r.momentum=function(e,t,s,i,r,o){var a,l,h=e-t,c=n.abs(h)/s;return l=c/(o=void 0===o?6e-4:o),(a=e+c*c/(2*o)*(h<0?-1:1))<i?(a=r?i-r/2.5*(c/8):i,l=(h=n.abs(a-e))/c):a>0&&(a=r?r/2.5*(c/8):0,l=(h=n.abs(e)+a)/c),{destination:n.round(a),duration:l}};var h=l("transform");return r.extend(r,{hasTransform:!1!==h,hasPerspective:l("perspective")in o,hasTouch:"ontouchstart"in t,hasPointer:navigator.msPointerEnabled,hasTransition:l("transition")in o}),r.isBadAndroid=/Android /.test(t.navigator.appVersion)&&!/Chrome\/\d/.test(t.navigator.appVersion),r.extend(r.style={},{transform:h,transitionTimingFunction:l("transitionTimingFunction"),transitionDuration:l("transitionDuration"),transitionDelay:l("transitionDelay"),transformOrigin:l("transformOrigin")}),r.hasClass=function(e,t){return new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},r.addClass=function(e,t){if(!r.hasClass(e,t)){var s=e.className.split(" ");s.push(t),e.className=s.join(" ")}},r.removeClass=function(e,t){if(r.hasClass(e,t)){var s=new RegExp("(^|\\s)"+t+"(\\s|$)","g");e.className=e.className.replace(s," ")}},r.offset=function(e){for(var t=-e.offsetLeft,s=-e.offsetTop;e=e.offsetParent;)t-=e.offsetLeft,s-=e.offsetTop;return{left:t,top:s}},r.preventDefaultException=function(e,t){for(var s in t)if(t[s].test(e[s]))return!0;return!1},r.extend(r.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),r.extend(r.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(e){return e*(2-e)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(e){return n.sqrt(1- --e*e)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(e){return(e-=1)*e*(5*e+4)+1}},bounce:{style:"",fn:function(e){return(e/=1)<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}},elastic:{style:"",fn:function(e){return 0===e?0:1==e?1:.4*n.pow(2,-10*e)*n.sin((e-.055)*(2*n.PI)/.22)+1}}}),r.tap=function(e,t){var i=s.createEvent("Event");i.initEvent(t,!0,!0),i.pageX=e.pageX,i.pageY=e.pageY,e.target.dispatchEvent(i)},r.click=function(e){var t,i=e.target;/(SELECT|INPUT|TEXTAREA)/i.test(i.tagName)&&!/(checkbox|radio)/i.test(i.type)||((t=s.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,e.view,1,i.screenX,i.screenY,i.clientX,i.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),t._constructed=!0,e.preventDefault(),e.stopImmediatePropagation(),i.dispatchEvent(t))},r}();function a(e,t){for(var i in this.wrapper="string"==typeof e?s.querySelector(e):e,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,t&&null!=t.omnisDisableWebkit&&t.omnisDisableWebkit||(this.scroller.style[jOmnis.transitionProperty]=jOmnis.transformPropertyValue,this.scroller.style[jOmnis.transitionTimingFunctionProperty]="cubic-bezier(0,0,0.25,1)",this.scroller.style[jOmnis.transitionDurationProperty]="0",this.scroller.style[jOmnis.transformProperty]=c+"0,0"+u),this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,omnisDisableWebkit:!1,removeFocus:!1,mouseWheelScrollsHorizontally:!1,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0},t)this.options[i]=t[i];this.translateZ=this.options.HWCompositing&&o.hasPerspective?" translateZ(0)":"",this.options.useTransition=o.hasTransition&&this.options.useTransition,this.options.useTransform=o.hasTransform&&this.options.useTransform,this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?o.ease[this.options.bounceEasing]||o.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,!0===this.options.tap&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,3==this.options.probeType&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function l(e,t,i){var n=s.createElement("div"),r=s.createElement("div");return!0===i&&(n.style.cssText="position:absolute;z-index:9999",r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),r.className="iScrollIndicator","h"==e?(!0===i&&(n.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",r.style.height="100%"),n.className="iScrollHorizontalScrollbar"):(!0===i&&(n.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",r.style.width="100%"),n.className="iScrollVerticalScrollbar"),n.style.cssText+=";overflow:hidden",t||(n.style.pointerEvents="none"),n.appendChild(r),n}function h(e,i){for(var n in this.wrapper="string"==typeof i.el?s.querySelector(i.el):i.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=e,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0},i)this.options[n]=i[n];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(o.addEvent(this.indicator,"touchstart",this),o.addEvent(t,"touchend",this)),this.options.disablePointer||(o.addEvent(this.indicator,"MSPointerDown",this),o.addEvent(t,"MSPointerUp",this)),this.options.disableMouse||(o.addEvent(this.indicator,"mousedown",this),o.addEvent(t,"mouseup",this))),this.options.fade&&(this.wrapperStyle[o.style.transform]=this.scroller.translateZ,this.wrapperStyle[o.style.transitionDuration]=o.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}a.prototype={version:"5.1.1",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(e){e.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(e){if((1==o.eventType[e.type]||0===e.button)&&this.enabled&&(!this.initiated||o.eventType[e.type]===this.initiated)){this.options.allowDefaultOnStartAndEnd||!this.options.preventDefault||o.isBadAndroid||o.preventDefaultException(e.target,this.options.preventDefaultException)||e.preventDefault();var t,i=e.touches?e.touches[0]:e;this.initiated=o.eventType[e.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.options.removeFocus&&s.activeElement&&s.activeElement.blur(),this._transitionTime(),this.startTime=o.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,t=this.getComputedPosition(),this._translate(n.round(t.x),n.round(t.y)),this.options.smoothReeling||this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=i.pageX,this.pointY=i.pageY,this._execEvent("beforeScrollStart")}},_move:function(e){if(this.enabled&&o.eventType[e.type]===this.initiated){this.options.preventDefault&&e.preventDefault();var t,s,i,r,a=e.touches?e.touches[0]:e,l=a.pageX-this.pointX,h=a.pageY-this.pointY,c=o.getTime();if(this.pointX=a.pageX,this.pointY=a.pageY,this.distX+=l,this.distY+=h,i=n.abs(this.distX),r=n.abs(this.distY),!(c-this.endTime>300&&i<10&&r<10)){if(this.directionLocked||this.options.freeScroll||(i>r+this.options.directionLockThreshold?this.directionLocked="h":r>=i+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)e.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);h=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)e.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);l=0}l=this.hasHorizontalScroll?l:0,h=this.hasVerticalScroll?h:0,t=this.x+l,s=this.y+h,(t>0||t<this.maxScrollX)&&(t=this.options.bounce?this.x+l/3:t>0?0:this.maxScrollX),(s>0||s<this.maxScrollY)&&(s=this.options.bounce?this.y+h/3:s>0?0:this.maxScrollY),this.directionX=l>0?-1:l<0?1:0,this.directionY=h>0?-1:h<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(t,s),c-this.startTime>300&&(this.startTime=c,this.startX=this.x,this.startY=this.y,1==this.options.probeType&&this._execEvent("scroll")),this.options.probeType>1&&this._execEvent("scroll")}}},_end:function(e){if(this.enabled&&o.eventType[e.type]===this.initiated){this.options.allowDefaultOnStartAndEnd||!this.options.preventDefault||o.preventDefaultException(e.target,this.options.preventDefaultException)||e.preventDefault();e.changedTouches&&e.changedTouches[0];var t,s,i=o.getTime()-this.startTime,r=n.round(this.x),a=n.round(this.y),l=n.abs(r-this.startX),h=n.abs(a-this.startY),c=0,u="";if(this.isInTransition=0,this.initiated=0,this.endTime=o.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(r,a),!this.moved)return this.options.tap&&o.tap(e,this.options.tap),this.options.click&&o.click(e),void this._execEvent("scrollCancel");if(this._events.flick&&i<200&&l<100&&h<100)this._execEvent("flick");else{if(this.options.momentum&&i<300&&(t=this.hasHorizontalScroll?o.momentum(this.x,this.startX,i,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:r,duration:0},s=this.hasVerticalScroll?o.momentum(this.y,this.startY,i,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:a,duration:0},r=t.destination,a=s.destination,c=n.max(t.duration,s.duration),this.isInTransition=1),this.options.snap){var m=this._nearestSnap(r,a);this.currentPage=m,c=this.options.snapSpeed||n.max(n.max(n.min(n.abs(r-m.x),1e3),n.min(n.abs(a-m.y),1e3)),300),r=m.x,a=m.y,this.directionX=0,this.directionY=0,u=this.options.bounceEasing}if(r!=this.x||a!=this.y)return(r>0||r<this.maxScrollX||a>0||a<this.maxScrollY)&&(u=o.ease.quadratic),void this.scrollTo(r,a,c,u);this._execEvent("scrollEnd")}}}},_resize:function(){var e=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout((function(){e.refresh()}),this.options.resizePolling)},resetPosition:function(e){var t=this.x,s=this.y;return e=e||0,!this.hasHorizontalScroll||this.x>0?t=0:this.x<this.maxScrollX&&(t=this.maxScrollX),!this.hasVerticalScroll||this.y>0?s=0:this.y<this.maxScrollY&&(s=this.maxScrollY),(t!=this.x||s!=this.y)&&(this.scrollTo(t,s,e,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=o.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)},off:function(e,t){if(this._events[e]){var s=this._events[e].indexOf(t);s>-1&&this._events[e].splice(s,1)}},_execEvent:function(e){if(this._events[e]){var t=0,s=this._events[e].length;if(s)for(;t<s;t++)this._events[e][t].apply(this,[].slice.call(arguments,1))}},scrollBy:function(e,t,s,i){e=this.x+e,t=this.y+t,s=s||0,this.scrollTo(e,t,s,i)},scrollTo:function(e,t,s,i){i=i||o.ease.circular,this.isInTransition=this.options.useTransition&&s>0,!s||this.options.useTransition&&i.style?(this._transitionTimingFunction(i.style),this._transitionTime(s),this._translate(e,t)):this._animate(e,t,s,i.fn)},scrollToElement:function(e,t,s,i,r){if(e=e.nodeType?e:this.scroller.querySelector(e)){var a=o.offset(e);a.left-=this.wrapperOffset.left,a.top-=this.wrapperOffset.top,!0===s&&(s=n.round(e.offsetWidth/2-this.wrapper.offsetWidth/2)),!0===i&&(i=n.round(e.offsetHeight/2-this.wrapper.offsetHeight/2)),a.left-=s||0,a.top-=i||0,a.left=a.left>0?0:a.left<this.maxScrollX?this.maxScrollX:a.left,a.top=a.top>0?0:a.top<this.maxScrollY?this.maxScrollY:a.top,t=null==t||"auto"===t?n.max(n.abs(this.x-a.left),n.abs(this.y-a.top)):t,this.scrollTo(a.left,a.top,t,r)}},revealElement:function(e,t,s,i,r){if(e=e.nodeType?e:this.scroller.querySelector(e)){var a=o.offset(e);a.left-=this.wrapperOffset.left,a.top-=this.wrapperOffset.top,a.left-e.offsetWidth<this.x-this.wrapperWidth?a.left+=this.wrapperWidth-(e.offsetWidth+(s||0)):a.left<this.x?a.left=this.x:a.left=a.left+(s||0),a.top-e.offsetHeight<this.y-this.wrapperHeight?a.top+=this.wrapperHeight-(e.offsetHeight+(i||0)):a.top<this.y?a.top=this.y:a.top=a.top+(i||0),a.left==this.x&&a.top==this.y||(t=null==t||"auto"===t?n.max(n.abs(this.x-a.left),n.abs(this.y-a.top)):t,this.scrollTo(a.left,a.top,t,r))}},_transitionTime:function(e){if(e=e||0,this.scrollerStyle[o.style.transitionDuration]=e+"ms",!e&&o.isBadAndroid&&(this.scrollerStyle[o.style.transitionDuration]="0.001s"),this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTime(e)},_transitionTimingFunction:function(e){if(this.scrollerStyle[o.style.transitionTimingFunction]=e,this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTimingFunction(e)},_translate:function(e,t){if(this.options.useTransform?this.scrollerStyle[o.style.transform]="translate("+e+"px,"+t+"px)"+this.translateZ:(e=n.round(e),t=n.round(t),this.scrollerStyle.left=e+"px",this.scrollerStyle.top=t+"px"),this.x=e,this.y=t,this.indicators)for(var s=this.indicators.length;s--;)this.indicators[s].updatePosition()},_initEvents:function(e){var s=e?o.removeEvent:o.addEvent,i=this.options.bindToWrapper?this.wrapper:t;s(t,"orientationchange",this),s(t,"resize",this),this.options.click&&s(this.wrapper,"click",this,!0),this.options.disableMouse||(s(this.wrapper,"mousedown",this),s(i,"mousemove",this),s(i,"mousecancel",this),s(i,"mouseup",this)),o.hasPointer&&!this.options.disablePointer&&(s(this.wrapper,"MSPointerDown",this),s(i,"MSPointerMove",this),s(i,"MSPointerCancel",this),s(i,"MSPointerUp",this)),o.hasTouch&&!this.options.disableTouch&&(s(this.wrapper,"touchstart",this),s(i,"touchmove",this),s(i,"touchcancel",this),s(i,"touchend",this)),s(this.scroller,"transitionend",this),s(this.scroller,"webkitTransitionEnd",this),s(this.scroller,"oTransitionEnd",this),s(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var e,s,i=t.getComputedStyle(this.scroller,null);return this.options.useTransform?(e=+((i=i[o.style.transform].split(")")[0].split(", "))[12]||i[4]),s=+(i[13]||i[5])):(e=+i.left.replace(/[^-\d.]/g,""),s=+i.top.replace(/[^-\d.]/g,"")),{x:e,y:s}},_initIndicators:function(){var e,t=this.options.interactiveScrollbars,s="string"!=typeof this.options.scrollbars,i=[],n=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(e={el:l("v",t,this.options.scrollbars),interactive:t,defaultScrollbars:!0,customStyle:s,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(e.el),i.push(e)),this.options.scrollX&&(e={el:l("h",t,this.options.scrollbars),interactive:t,defaultScrollbars:!0,customStyle:s,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(e.el),i.push(e))),this.options.indicators&&(i=i.concat(this.options.indicators));for(var r=i.length;r--;)this.indicators.push(new h(this,i[r]));function o(e){for(var t=n.indicators.length;t--;)e.call(n.indicators[t])}this.options.fadeScrollbars&&(this.on("scrollEnd",(function(){o((function(){this.fade()}))})),this.on("scrollCancel",(function(){o((function(){this.fade()}))})),this.on("scrollStart",(function(){o((function(){this.fade(1)}))})),this.on("beforeScrollStart",(function(){o((function(){this.fade(1,!0)}))}))),this.on("refresh",(function(){o((function(){this.refresh()}))})),this.on("destroy",(function(){o((function(){this.destroy()})),delete this.indicators}))},_initWheel:function(){o.addEvent(this.wrapper,"wheel",this),o.addEvent(this.wrapper,"mousewheel",this),o.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",(function(){o.removeEvent(this.wrapper,"wheel",this),o.removeEvent(this.wrapper,"mousewheel",this),o.removeEvent(this.wrapper,"DOMMouseScroll",this)}))},_wheel:function(e){if(this.enabled){e.preventDefault(),e.stopPropagation();var t,s,i,r,o=this;if(void 0===this.wheelTimeout&&o._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout((function(){o._execEvent("scrollEnd"),o.wheelTimeout=void 0}),400),"deltaX"in e)t=-e.deltaX,s=-e.deltaY;else if("wheelDeltaX"in e)t=e.wheelDeltaX/120*this.options.mouseWheelSpeed,s=e.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in e)t=s=e.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in e))return;t=s=-e.detail/3*this.options.mouseWheelSpeed}if(t*=this.options.invertWheelDirection,s*=this.options.invertWheelDirection,this.hasHorizontalScroll?!this.hasVerticalScroll&&this.options.mouseWheelScrollsHorizontally&&(n.abs(t)<n.abs(s)&&(t=s),s=0):t=0,this.hasVerticalScroll||(s=0),this.options.snap)return i=this.currentPage.pageX,r=this.currentPage.pageY,t>0?i--:t<0&&i++,s>0?r--:s<0&&r++,void this.goToPage(i,r);i=this.x+n.round(this.hasHorizontalScroll?t:0),r=this.y+n.round(this.hasVerticalScroll?s:0),i>0?i=0:i<this.maxScrollX&&(i=this.maxScrollX),r>0?r=0:r<this.maxScrollY&&(r=this.maxScrollY),this.scrollTo(i,r,0),this.options.probeType>1&&this._execEvent("scroll")}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",(function(){var e,t,s,i,r,o,a=0,l=0,h=0,c=this.options.snapStepX||this.wrapperWidth,u=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap)for(s=n.round(c/2),i=n.round(u/2);h>-this.scrollerWidth;){for(this.pages[a]=[],e=0,r=0;r>-this.scrollerHeight;)this.pages[a][e]={x:n.max(h,this.maxScrollX),y:n.max(r,this.maxScrollY),width:c,height:u,cx:h-s,cy:r-i},r-=u,e++;h-=c,a++}else for(e=(o=this.options.snap).length,t=-1;a<e;a++)(0===a||o[a].offsetLeft<=o[a-1].offsetLeft)&&(l=0,t++),this.pages[l]||(this.pages[l]=[]),h=n.max(-o[a].offsetLeft,this.maxScrollX),r=n.max(-o[a].offsetTop,this.maxScrollY),s=h-n.round(o[a].offsetWidth/2),i=r-n.round(o[a].offsetHeight/2),this.pages[l][t]={x:h,y:r,width:o[a].offsetWidth,height:o[a].offsetHeight,cx:s,cy:i},h>this.maxScrollX&&l++;this.pages.length&&(this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=n.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=n.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold)))}})),this.on("flick",(function(){var e=this.options.snapSpeed||n.max(n.max(n.min(n.abs(this.x-this.startX),1e3),n.min(n.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,e)}))},_nearestSnap:function(e,t){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var s=0,i=this.pages.length,r=0;if(n.abs(e-this.absStartX)<this.snapThresholdX&&n.abs(t-this.absStartY)<this.snapThresholdY)return this.currentPage;for(e>0?e=0:e<this.maxScrollX&&(e=this.maxScrollX),t>0?t=0:t<this.maxScrollY&&(t=this.maxScrollY);s<i;s++)if(e>=this.pages[s][0].cx){e=this.pages[s][0].x;break}for(i=this.pages[s].length;r<i;r++)if(t>=this.pages[0][r].cy){t=this.pages[0][r].y;break}return s==this.currentPage.pageX&&((s+=this.directionX)<0?s=0:s>=this.pages.length&&(s=this.pages.length-1),e=this.pages[s][0].x),r==this.currentPage.pageY&&((r+=this.directionY)<0?r=0:r>=this.pages[0].length&&(r=this.pages[0].length-1),t=this.pages[0][r].y),{x:e,y:t,pageX:s,pageY:r}},goToPage:function(e,t,s,i){i=i||this.options.bounceEasing,e>=this.pages.length?e=this.pages.length-1:e<0&&(e=0),t>=this.pages[e].length?t=this.pages[e].length-1:t<0&&(t=0);var r=this.pages[e][t].x,o=this.pages[e][t].y;s=void 0===s?this.options.snapSpeed||n.max(n.max(n.min(n.abs(r-this.x),1e3),n.min(n.abs(o-this.y),1e3)),300):s,this.currentPage={x:r,y:o,pageX:e,pageY:t},this.scrollTo(r,o,s,i)},next:function(e,t){var s=this.currentPage.pageX,i=this.currentPage.pageY;++s>=this.pages.length&&this.hasVerticalScroll&&(s=0,i++),this.goToPage(s,i,e,t)},prev:function(e,t){var s=this.currentPage.pageX,i=this.currentPage.pageY;--s<0&&this.hasVerticalScroll&&(s=0,i--),this.goToPage(s,i,e,t)},_initKeys:function(e){var s,n={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==i(this.options.keyBindings))for(s in this.options.keyBindings)"string"==typeof this.options.keyBindings[s]&&(this.options.keyBindings[s]=this.options.keyBindings[s].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(s in n)this.options.keyBindings[s]=this.options.keyBindings[s]||n[s];o.addEvent(t,"keydown",this),this.on("destroy",(function(){o.removeEvent(t,"keydown",this)}))},_key:function(e){if(this.enabled){var t,s=this.options.snap,i=s?this.currentPage.pageX:this.x,r=s?this.currentPage.pageY:this.y,a=o.getTime(),l=this.keyTime||0;switch(this.options.useTransition&&this.isInTransition&&(t=this.getComputedPosition(),this._translate(n.round(t.x),n.round(t.y)),this.isInTransition=!1),this.keyAcceleration=a-l<200?n.min(this.keyAcceleration+.25,50):0,e.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?i+=s?1:this.wrapperWidth:r+=s?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?i-=s?1:this.wrapperWidth:r-=s?1:this.wrapperHeight;break;case this.options.keyBindings.end:i=s?this.pages.length-1:this.maxScrollX,r=s?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:i=0,r=0;break;case this.options.keyBindings.left:i+=s?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:r+=s?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:i-=s?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:r-=s?1:5+this.keyAcceleration>>0;break;default:return}s?this.goToPage(i,r):(i>0?(i=0,this.keyAcceleration=0):i<this.maxScrollX&&(i=this.maxScrollX,this.keyAcceleration=0),r>0?(r=0,this.keyAcceleration=0):r<this.maxScrollY&&(r=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(i,r,0),this.keyTime=a)}},_animate:function(e,t,s,i){var n=this,a=this.x,l=this.y,h=o.getTime(),c=h+s;this.isAnimating=!0,function u(){var m,d,p,_=o.getTime();if(_>=c)return n.isAnimating=!1,n._translate(e,t),void(n.resetPosition(n.options.bounceTime)||n._execEvent("scrollEnd"));p=i(_=(_-h)/s),m=(e-a)*p+a,d=(t-l)*p+l,n._translate(m,d),n.isAnimating&&r(u),3==n.options.probeType&&n._execEvent("scroll")}()},handleEvent:function(e){switch(e.type){case"touchstart":case"MSPointerDown":case"mousedown":if(this.options.omnisObject&&!this.options.omnisObject.touchCanStartScroll(e))break;this._start(e);break;case"touchmove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"MSPointerUp":case"mouseup":case"touchcancel":case"MSPointerCancel":case"mousecancel":this._end(e);break;case jOmnis.transitionEndEvent:this._transitionEnd(e);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(e);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(e);break;case"keydown":this.options.omnisKeyEvents&&this.options.omnisObject?this.options.omnisObject.elem.contains(e.target)&&this.options.omnisObject.handleEvent(e):this._key(e);break;case"click":e._constructed||(e.preventDefault(),e.stopPropagation())}},addOmnisListener:function(e){switch(e){case"START":return this.on("scrollStart",this.omnisOnScrollStart),!0;case"END":return this.on("scrollEnd",this.omnisOnScrollEnd),this.options.smoothReeling&&this.on("scrollCancel",this.omnisOnScrollEnd),!0;case"SCROLL":return this.on("scroll",this.omnisOnScroll),!0}return!1},omnisOnScrollStart:function(){this.options.omnisObject.touchScrollStarted(this)},omnisOnScrollEnd:function(){this.options.omnisObject.touchScrollEnded(this)},omnisOnScroll:function(e){this.options.omnisObject.touchChangedPosition(this)}},h.prototype={handleEvent:function(e){switch(e.type){case"touchstart":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"MSPointerUp":case"mouseup":case"touchcancel":case"MSPointerCancel":case"mousecancel":this._end(e)}},destroy:function(){this.options.interactive&&(o.removeEvent(this.indicator,"touchstart",this),o.removeEvent(this.indicator,"MSPointerDown",this),o.removeEvent(this.indicator,"mousedown",this),o.removeEvent(t,"touchmove",this),o.removeEvent(t,"MSPointerMove",this),o.removeEvent(t,"mousemove",this),o.removeEvent(t,"touchend",this),o.removeEvent(t,"MSPointerUp",this),o.removeEvent(t,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(e){var s=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=s.pageX,this.lastPointY=s.pageY,this.startTime=o.getTime(),this.options.disableTouch||o.addEvent(t,"touchmove",this),this.options.disablePointer||o.addEvent(t,"MSPointerMove",this),this.options.disableMouse||o.addEvent(t,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(e){var t,s,i,n,r=e.touches?e.touches[0]:e,a=o.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,t=r.pageX-this.lastPointX,this.lastPointX=r.pageX,s=r.pageY-this.lastPointY,this.lastPointY=r.pageY,i=this.x+t,n=this.y+s,this._pos(i,n),1==this.scroller.options.probeType&&a-this.startTime>300?(this.startTime=a,this.scroller._execEvent("scroll")):this.scroller.options.probeType>1&&this.scroller._execEvent("scroll"),e.preventDefault(),e.stopPropagation()},_end:function(e){if(this.initiated){if(this.initiated=!1,e.preventDefault(),e.stopPropagation(),o.removeEvent(t,"touchmove",this),o.removeEvent(t,"MSPointerMove",this),o.removeEvent(t,"mousemove",this),this.scroller.options.snap){var s=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),i=this.options.snapSpeed||n.max(n.max(n.min(n.abs(this.scroller.x-s.x),1e3),n.min(n.abs(this.scroller.y-s.y),1e3)),300);this.scroller.x==s.x&&this.scroller.y==s.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=s,this.scroller.scrollTo(s.x,s.y,i,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(e){e=e||0,this.indicatorStyle[o.style.transitionDuration]=e+"ms",!e&&o.isBadAndroid&&(this.indicatorStyle[o.style.transitionDuration]="0.001s")},transitionTimingFunction:function(e){this.indicatorStyle[o.style.transitionTimingFunction]=e},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(o.addClass(this.wrapper,"iScrollBothScrollbars"),o.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(o.removeClass(this.wrapper,"iScrollBothScrollbars"),o.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=n.max(n.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=8-this.indicatorWidth,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=n.max(n.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=8-this.indicatorHeight,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var e=this.options.listenX&&n.round(this.sizeRatioX*this.scroller.x)||0,t=this.options.listenY&&n.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(e<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=n.max(this.indicatorWidth+e,8),this.indicatorStyle.width=this.width+"px"),e=this.minBoundaryX):e>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=n.max(this.indicatorWidth-(e-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",e=this.maxPosX+this.indicatorWidth-this.width):e=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),t<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=n.max(this.indicatorHeight+3*t,8),this.indicatorStyle.height=this.height+"px"),t=this.minBoundaryY):t>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=n.max(this.indicatorHeight-3*(t-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",t=this.maxPosY+this.indicatorHeight-this.height):t=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=e,this.y=t,this.scroller.options.useTransform?this.indicatorStyle[o.style.transform]="translate("+e+"px,"+t+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=e+"px",this.indicatorStyle.top=t+"px")},_pos:function(e,t){e<0?e=0:e>this.maxPosX&&(e=this.maxPosX),t<0?t=0:t>this.maxPosY&&(t=this.maxPosY),e=this.options.listenX?n.round(e/this.sizeRatioX):this.scroller.x,t=this.options.listenY?n.round(t/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(e,t)},fade:function(e,t){if(!t||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var s=e?250:500,i=e?0:300;e=e?"1":"0",this.wrapperStyle[o.style.transitionDuration]=s+"ms",this.fadeTimeout=setTimeout(function(e){this.wrapperStyle.opacity=e,this.visible=+e}.bind(this,e),i)}}};var c="translate(",u=")";a.utils=o,e.exports?e.exports=a:t.IScroll=a}(window,document,Math)},6056:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{a:function(){return omnis_form},V:function(){return jDesignPushMessages}});var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2526),core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1817),core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_symbol_iterator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2165),core_js_modules_es_symbol_iterator__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_symbol_iterator__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2222),core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9554),core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2772),core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6992),core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_array_reduce__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(5827),core_js_modules_es_array_reduce__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_array_reduce__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7042),core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_array_sort__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2707),core_js_modules_es_array_sort__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_array_sort__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(561),core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9653),core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es_object_keys__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(7941),core_js_modules_es_object_keys__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es_object_keys__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(1539),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_13__),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(9714),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_14__),core_js_modules_es_string_ends_with__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(7852),core_js_modules_es_string_ends_with__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(core_js_modules_es_string_ends_with__WEBPACK_IMPORTED_MODULE_15__),core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(8783),core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_16__),core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(4723),core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_17__),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(5306),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_18__),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(3123),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_19__),core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(4747),core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_20__),core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(3948),core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_21__),_omn_inst__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(5459),_controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(6353),_omn_theme__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(5304),_omnis__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(6798),_core_sprintf_exec__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(5441);function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _defineProperty(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}omnis_form.prototype.DefaultColors=_defineProperty({},_controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.Mr.BACKGROUND,_omn_theme__WEBPACK_IMPORTED_MODULE_24__.l1[_omn_theme__WEBPACK_IMPORTED_MODULE_24__._l.background]);var sIdUnique=0,transitionTimingFunctions=["ease-in-out","ease-in","ease-out","linear","ease"];function omnis_form(e,t,s,i,n){this.ident=_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.makeIdent(e.index,t),this.inst=e,this.index=t,this.number=-1,this.elem=s,this.serverElem=null,this.omnislib=i,this.omnisclass=n,this.mChildren=[],this.mTabOrder=[],this.eventsToSend=[],this.instanceVars={lstRow:!0,lstDef:0,lstData:0},this.instanceVarsChanges=[],this.isSubform=!1,this.curScreenSize=_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.curScreenSize,this.curScreenSizeConst=_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.curScreenSizeConst,this.mNextAnimationSetId=1,this.mAnimationSets=[],this.mAnimatedElements=[],this.mAnimationCompleteTimers=[],this.mPropertiesSet=0,this.mSFSOrder=[],this.mDataToControlArray=[],this.form=this,this.ivars={},this.maxObjNumber=0,this.handleOrientationChangeOnceVisible=!1,this.formIsBuilt=!1,this.errorControls={}}function sChangeIds(e){var t=' id="__id_'+sIdUnique++;return e.replace(/ id=\"[^ ]+\"/g,(function(e){return t+e.substr(5)}))}function applyNextTabObjects(e){e.forEach((function(e){var t=e.elem.getAttribute("data-nexttabobj");t&&e.setProperty(_controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.nexttabobject,t),e.mChildren&&applyNextTabObjects(e.mChildren)}))}omnis_form.NextURLWindowID=1,omnis_form.prototype.eFormProperties={alwaysenabledobject:-1045,layouttype:-1319,layoutbreakpoints:-1320,animatelayouttransitions:-1340,menulineheight:-1441},omnis_form.prototype.animateLayoutTransitions=!1,omnis_form.prototype.init_form_inst=function(e){this.number=e.formNumber,this.isSubform=e.isSubform,this.subFormObj=e.subFormObj,this.parentForm=e.parentForm,this.loadingSubform=0,e.formInstanceVarsData.lstRow?this.instanceVars=e.formInstanceVarsData:(this.instanceVars.lstData=e.formInstanceVarsData,this.instanceVars.lstDef=e.formInstanceVarsDef),this.inst.taskStringTable?(this.stringTable=this.inst.taskStringTable,this.stringTable.translateParam(e,"formClassData")):e.formStringTable&&(this.stringTable=new omnis_locale(e.formStringTable,e.formLocale),this.stringTable.translateParam(e,"formClassData"));for(var t=!1,s=0;s<this.inst.forms.length;++s){var i=this.inst.forms[s];if(null!=i&&i!=this&&i.omnisclass==this.omnisclass&&i.omnislib==this.omnislib){t=!0;break}}t&&(e.formClassData=sChangeIds(e.formClassData)),this.elem.innerHTML=e.formClassData;var n=this.elem.childNodes;this.serverElem=n[0],this.serverElem.style.overflow=!_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.mDesign||this.curScreenSize||this.isSubform?"hidden":"visible",this.serverElem.id=this.omnisclass.replace(/ /g,"_")+"_form_"+this.number,this.mPositionInfo=new FormPositionHelper(this),this.isResponsive=this.mPositionInfo.isResponsive,this.isSubform||(this.serverElem.tabIndex="-1",this.serverElem.formObj=this),this.eventsToSend=_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.getAttributeList(this.serverElem,"data-events"),this.serverElem.oncontextmenu=new Function("event","jOmnis.handleEvent(event,this,"+this.ident+")"),this.disableDefaultContextMenu=this.serverElem.getAttribute("data-disabledefaultcontextmenu"),_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.setOpacity(this.serverElem,this.serverElem.getAttribute("data-alpha")),this.setFormBackground(),this.iconlib=this.serverElem.getAttribute("data-iconlib");var r=this.serverElem.getAttribute("data-rm");this.isResponsive?this.resizeMode=eResizeModes.ignoreaspect:this.resizeMode=null!=r?1*r:0;var o=this.serverElem.getAttribute("data-defaultappearance");this.defaultAppearance=eSupportedNativeOSs[null==o?0:o],this.animateLayoutTransitions=!_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.mDesign&&"1"===this.serverElem.getAttribute("data-animtrans")||_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.mDesignAnimate,this.menuLineHeight=+this.serverElem.getAttribute("data-menulineheight")||0,jOmnisMenuHandler.addFormMenus(this.ident,e.formMenus)},omnis_form.prototype.delete_class_inst=function(){this.deleteObjectsAndData(),this.mFormStyleSheet&&_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.removeStyleSheet(this.mFormStyleSheet);var e=this.elem.parentNode;e&&e.removeChild(this.elem),this.elem.innerHTML="",jOmnisMenuHandler.removeFormMenus(this.ident);for(var t=this.mAnimationCompleteTimers.length;this.mAnimationCompleteTimers.length>0;)clearTimeout(this.mAnimationCompleteTimers.pop());return this.inst.animationsFinished(t),!0},omnis_form.prototype.deleteObjectsAndData=function(){if(!this.mDoneDelete){this.mDoneDelete=!0,this.disableAutomaticUpdates=!0,_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.mDesign||this.callMethodEx("$term",eDoMethodFlags.clientOnly|eDoMethodFlags.noLog);for(var e=this.mChildren,t=0;t<e.length;t++){e[t].delete_class_inst()}this.mChildren=[],this.mTabOrder=null,this.instanceVars=null,this.instanceVarsChanges=null}},omnis_form.prototype.setOmnisStyles=function(e,t,s){if("object"==_typeof(e)){this.inst.libraryStyles[this.omnislib]=new omnis_styles(e);var i=this.omnislib+".#STYLES";if(this.inst.canCacheClass(i))try{this.inst.coreLocalStorage.setItem(i,t+JSON.stringify(e),!0)}catch(e){}}else null==this.inst.libraryStyles[this.omnislib]&&s&&(this.inst.libraryStyles[this.omnislib]=new omnis_styles(JSON.parse(s.substr(cOmnisUniqueIdLen))));this.omnisStyles=this.inst.libraryStyles[this.omnislib]},omnis_form.prototype.applyOmnisStyle=function(e,t,s){this.omnisStyles.applyStyleToElement(e,t,s),e.fieldStyleChanged()},omnis_form.prototype.applyOmnisStyleNow=function(e,t,s){var i=this.customStyleProperties;this.customStyleProperties=[];var n=this.omnisStyles.applyStyleToElement(e,t,s);this.applyCustomStyleProperties(),this.customStyleProperties=i,n&eStyleChangedFlag.fontChanged&&e.fontChanged&&e.fontChanged(),n&eStyleChangedFlag.fillChanged&&e.fillChanged&&e.fillChanged(),e.fieldStyleChanged(n)},omnis_form.prototype.pushStyleProperty=function(e,t,s){(_controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.iconid==t||"string"==typeof t&&t.endsWith("iconid"))&&(s=jIcons.selectIcon(s)),this.customStyleProperties.push({ctrl:e,propName:t,propValue:s})},omnis_form.prototype.applyCustomStyleProperties=function(){for(var e=0;e<this.customStyleProperties.length;++e){var t=this.customStyleProperties[e];if(PositionInfo.perBreakpointProperties[t.propName]){var s=PositionInfo.perBreakpointProperties[t.propName];t.ctrl.cachedPositionInfo.updateLayoutInfo("*",s,t.propValue)}t.ctrl.applyingFieldStyles=!0,t.ctrl.setProperty(t.propName,t.propValue),t.ctrl.applyingFieldStyles=!1}this.customStyleProperties=[]},omnis_form.prototype.sendTabOrderMessage=function(){var e=function(e){for(var t=[],s=e.serverElem.querySelectorAll("[id$='_frame']"),i={},n=0;n<s.length;n++){var r=s[n].omnisObject;if(i[r.uniqueID])break;if(r&&!r.form.isSubform&&r.canFocus()){t.push(r.getDesignContext()),i[r.uniqueID]=!0;var o=r.getProperty(_controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.nexttabobject);if(o){var a=e.findChildByName(o);if(a){var l=[].indexOf.call(s,a.elem);l>-1&&(n=l-1)}}}}return t}(this);_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.sendDesignMessage({messageType:eDesignMessageTypes.cIDMsetTabOrders,tabOrder:e})},omnis_form.prototype.installChild=function(e){e.parentCtrl?e.parentCtrl.installChild(e):(this.mChildren.push(e),this.addComponent(e))},omnis_form.prototype.removeChild=function(e){var t=this.mChildren.indexOf(e);if(-1!=t){this.mChildren.splice(t,1);var s=this.mTabOrder.indexOf(e);-1!=s&&this.mTabOrder.splice(s,1)}},omnis_form.prototype.addComponent=function(e){this.mCompsFloats||(this.mCompsFloats={});for(var t=e.form.mPositionInfo.getLayoutNames(),s=0;s<t.length;s++){var i=t[s],n=e.getEdgeFloat(i);n>=WND_WC_MENUBAR&&(this.mCompsFloats[i]||(this.mCompsFloats[i]={}),this.mCompsFloats[i][n]=e)}},omnis_form.prototype.removeComponent=function(e,t){var s=this.mCompsFloats[this.curScreenSize];s&&s[t]==e&&(delete s[t],0==Object.keys(s)&&(this.mCompsFloats[this.curScreenSize]=null))},omnis_form.prototype.getComponents=function(){return this.mCompsFloats?this.mCompsFloats[this.curScreenSize]:null},omnis_form.prototype.newComponent=function(e){this.addComponent(e)},omnis_form.prototype.installChildren=function(parentCtrl,parentElem,rowCtrl,rowNumber,nested,rowUnique){var _this$subFormObj;nested||rowUnique&&this.mInstallingChildren||(this.mFormBuiltObjects=[],this.customStyleProperties=[]),null!=parentCtrl&&null==parentCtrl.mChildren&&(parentCtrl.mChildren=[]);var result=!0,children=parentElem.childNodes,childCount=children.length;this.rowUnique=rowUnique;for(var i=0;i<childCount;i++){var ctrlObj=null,ctrlElem=children[i],hasChildren=ctrlElem.childNodes&&ctrlElem.childNodes.length>0;if(ctrlElem.attributes){var ctrlClass=ctrlElem.getAttribute("data-ctrl");if(ctrlClass){var constructScript="new "+ctrlClass+"()";ctrlObj=eval(constructScript),ctrlObj?(ctrlObj.parentCtrl=parentCtrl,hasChildren=ctrlObj.init_ctrl_inst(this,ctrlElem,rowCtrl,rowNumber),ctrlObj.post_init_ctrl_inst(),this.installChild(ctrlObj)):(_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.okMessage(jGetOmnisString(this.inst,"error"),jGetOmnisString(this.inst,"omn_form_ctrlinst",null,ctrlClass)),result=!1)}}hasChildren&&(this.installChildren(ctrlObj,ctrlElem,rowCtrl,rowNumber,!0)||(result=!1))}if(!(nested||rowUnique&&this.mInstallingChildren)){for(var i=0;i<this.mFormBuiltObjects.length;++i)this.mFormBuiltObjects[i].formBuilt();if(this.mFormBuiltObjects=[],!rowNumber){applyNextTabObjects(this.mChildren),this.okObject=this.cancelObject=null;var objName=this.serverElem.getAttribute("data-ok");objName&&objName.length&&(this.okObject=this.findChildByName(objName)),objName=this.serverElem.getAttribute("data-cancel"),objName&&objName.length&&(this.cancelObject=this.findChildByName(objName)),objName=this.serverElem.getAttribute("data-ae"),objName&&objName.length&&_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.overlayManager.updateAlwaysEnabledObject(this,this.findChildByName(objName))}this.applyCustomStyleProperties()}return nested||(this.formIsBuilt=!0),this.isSubform&&(null===(_this$subFormObj=this.subFormObj)||void 0===_this$subFormObj?void 0:_this$subFormObj.waitingToFocus)&&this.subFormObj.focus(),result},omnis_form.prototype.registerForFormBuilt=function(e){this.formIsBuilt?window.setTimeout((function(){e.formBuilt()}),0):this.mFormBuiltObjects.push(e)},omnis_form.prototype.findChild=function(e,t){return t=_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.defaultParameter(t,-1),this.mChildren?function s(i){for(var n=0;n<i.length;n++){var r=i[n];if(r.objNumber==e){if(-1==t&&null!=r.rowCtrl){if(0==r.rowNumber)return r;-2!=t&&(t=r.rowCtrl.handleEvent(_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.createDOMEvent("omnis-getrownumber")))}if(t<0||r.rowNumber==t)return r}if(r.mChildren){var o=s(r.mChildren);if(o)return o}}return null}(this.mChildren):null},omnis_form.prototype.findChildUID=function(e){return this.mChildren?function t(s){for(var i=0;i<s.length;i++){var n=s[i];if(n.uniqueID==e)return n;if(n.mChildren){var r=t(n.mChildren);if(r)return r}}return null}(this.mChildren):null},omnis_form.prototype.findChildByIdentAndInhLevel=function(e,t){return this.mChildren?function s(i){for(var n=0;n<i.length;n++){var r=i[n];if(r.objIdent==e&&r.inhLevel==t)return r;if(r.mChildren){var o=s(r.mChildren);if(o)return o}}return null}(this.mChildren):null},omnis_form.prototype.getTrueVisibility=function(e){return!(this.subFormObj&&!this.subFormObj.getTrueVisibility())&&_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.getObjectVisible(this.elem)},omnis_form.prototype.visibilityChanged=function(e){var t=this.getTrueVisibility(null);if(t!=("hidden"!=this.elem.style.visibility)||e){if(this.elem.style.visibility=t?"":"hidden",this.elem.style.display=t?"":"none",t&&(this.mPropertiesSet>0||this.mNotifyControlsOnVisible)||e){this.mNotifyControlsOnVisible=!1,this.mFormJustAppeared=!0,this.mPositionInfo&&this.mPositionInfo.update(!0,!0);for(var s=this.mChildren,i=0;i<s.length;i++)s[i].parentVisible=t,s[i].visibilityChanged();this.mPropertiesSet=0,this.mFormJustAppeared=!1}return t&&this.handleOrientationChangeOnceVisible?(this.handleOrientationChangeOnceVisible=!1,this.setScreenSize(!0,!0)):t&&this.doSetScreenSizeOnVisible&&this.doSetScreenSize(this.curScreenSize),!0}return!1},omnis_form.prototype.findChildByName=function(e){return this.mChildren?function t(s){for(var i=0;i<s.length;i++){var n=s[i];if(n.objName==e)return n;if(n.mChildren){var r=t(n.mChildren);if(r)return r}}return null}(this.mChildren):null},omnis_form.prototype.setScreenSize=function(e,t){this.mPositionInfo.update(e,t)},omnis_form.prototype.doSetScreenSize=function(e,t){if(!this.getTrueVisibility())return this.doSetScreenSizeOnVisible=!0,void(this.curScreenSize=e);this.doSetScreenSizeOnVisible=!1;for(var s=this.mChildren,i=s.length,n=0;n<i;n++)s[n].setScreenSize(e,this.floatX,this.floatY,!1,t);this.doLayoutComponents()},omnis_form.prototype.pushLayout=function(e){this.inst.pushLayout(e)},omnis_form.prototype.doLayoutComponents=function(){if(this.mChildren.length){var e=this.getComponents();e&&this.pushLayout({ctrl:this,comps:e,elem:this.serverElem})}},omnis_form.prototype.checkLayout=function(e){if(null==e||e.getEdgeFloat(this.curScreenSize)>=WND_WC_MENUBAR){var t=this.getComponents();t&&this.pushLayout({ctrl:this,comps:t,elem:this.serverElem})}},omnis_form.prototype.center=function(){if(!_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.mobileDevice){var e=(_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.curWindowWidth-_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.getOmnisWidth(this.serverElem))/2;e<0&&(e=0),this.serverElem.style.left=e+"px",this.serverElem.style.position="absolute";var t=this.mPositionInfo.getLayoutInfo(this.curScreenSize),s=t.width>_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.curWindowWidth||t.height>_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.curWindowHeight;s!=this.needWindowScroll&&(this.needWindowScroll=s,this.inst.checkWindowScrollBars())}},omnis_form.prototype.focusInContainer=function(e){var t=this.inst.getNextFocusableControl(null,e.clientElem)||this.inst.getNextFocusableControl(e,this.elem);t&&t.focus()},omnis_form.prototype.applyResizeMode=function(e){this.resizeMode==eResizeModes.center?(this.center(),this.setScreenSize(!0,!1)):(this.isResponsive||this.resizeMode&&!this.inst.screenSizeOption)&&(this.serverElem.style.left="0px",this.setScreenSize(!0,this.isResponsive),_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.mDesign&&!this.isSubform||this.inst.checkWindowScrollBars())},omnis_form.prototype.forceSizeChanged=function(){this.mChildren.forEach((function(e){return e.sizeChanged(!0)}))},omnis_form.prototype.childVisibilityChanged=function(e,t){e.getEdgeFloat(this.curScreenSize)>=WND_WC_MENUBAR&&this.doLayoutComponents()},omnis_form.prototype.setBaseScreenSizes=function(){this.baseScreenSizes={};for(var e=this.mPositionInfo.getLayoutNames(),t=0;t<e.length;++t){var s=this.mPositionInfo.getLayoutInfo(e[t]);this.baseScreenSizes[e[t]]=[s.width,s.height]}},omnis_form.prototype.generateDimensionsForAllSizes=function(e,t,s,i){var n=this.mPositionInfo.getLayoutNames();if(this.isResponsive){for(var r=[],o=0;o<n.length;o++)r.push('"'+n[o]+'":['+e+","+t+","+s+","+i+"]");return"{"+r.join(",")+"}"}var a=[];for(o=0;o<n.length;o++)a.push(e+","+t+","+s+","+i);return a.join("~")},omnis_form.prototype.getDataIndex=function(e,t,s){if(null==e||0==e)return 0;s=_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.defaultParameter(s,!0);var i=this.instanceVars,n=i.lstDef,r=n.length;if(_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.mDesign&&e==_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.mDesignTempList){for(var o=!1,a=0;a<r;a++){if((u=n[a])[0]==_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.mDesignTempList){o=!0;break}}if(!o){n.push([_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.mDesignTempList,eOmnisDataTypes.fftList,0,0,r+1,0]),++r;var l=new omnis_raw_list(!1);l.checkWrapper();for(a=0;a<5;++a)l.__list.addRow(0,1,!0);i.lstData.push(l)}}var h=e.split(".");t&&t.rowNumber&&1==h.length&&h.splice(0,0,t.rowCtrl.dataName);var c=null!=t?t.inhLevel:this.curInhLevel;null==c&&(c=0);for(a=0;a<r;a++){var u,m=(u=n[a])[0];if(m==h[0]&&c<=u[5]){if(!(h.length>1))return s&&this.addDataToControlMapping(t,a,-1),a+1;var d=i.lstData[a].lstDef;if(null==d)return this.pushNoData(t),0;var p=h[1];if(p.match(/^\d+$/))return(f=parseInt(p,10))>=1&&f<=d.length?(s&&this.addDataToControlMapping(t,a,f-1),65536*f+(a+1)):(this.pushNoData(t),0);for(var _=d.length,f=0;f<_;f++)if((m=d[f][0])==p)return s&&this.addDataToControlMapping(t,a,f),65536*(f+1)+(a+1);if(p.match(/^[Cc]\d+$/))return(f=parseInt(p.substr(1),10))>=1&&f<=d.length?(s&&this.addDataToControlMapping(t,a,f-1),65536*f+(a+1)):(this.pushNoData(t),0)}}return this.pushNoData(t),0},omnis_form.prototype.pushNoData=function(e){if(e){this.mNoData||(this.mNoData=[]);for(var t=0;t<this.mNoData.length;++t)if(this.mNoData[t]==e)return;this.mNoData.push(e)}},omnis_form.prototype.addDataToControlMapping=function(e,t,s){if(e&&0==e.rowNumber){var i,n=this.mDataToControlArray[t];null==n&&(n={ctrls:[]},this.mDataToControlArray[t]=n),-1!=s?(null==n.cols&&(n.cols=[]),null==n.cols[s]&&(n.cols[s]=[]),i=n.cols[s]):i=n.ctrls;for(var r=0;r<i.length;++r)if(e.uniqueID==i[r].uniqueID)return;i.push(e)}},omnis_form.prototype.generateAutomaticUpdate=function(e,t,s,i,n){var r=this.mDataToControlArray[e];if(null!=r){var o=r.cols;if(-1==t){for(var a=r.ctrls,l=0;l<a.length;++l)a[l].update(s,i,n,!0);if(null!=o)for(var h=0;h<o.length;++h){var c=o[h];if(null!=c)for(var u=0;u<c.length;++u)c[u].update(s,i,n,!0)}}else{if(null!=o){var m=o[t];if(m)for(var d=0;d<m.length;++d)m[d].update(s,i,n,!0)}for(var p=r.ctrls,_=0;_<p.length;++_){var f=p[_];f instanceof ctrl_cgrid?f.updateChildControls(f.mChildren,!0):f.update(s,i,n,!0)}}}},omnis_form.prototype.getData=function(e,t,s,i,n,r){var o=e%65536,a=Math.floor(e/65536),l=this.instanceVars.lstData;if(l&&o>=1&&o<=l.length){var h=l[o-1];if(a)if(h.lstRow)h=h.lstData[a-1];else{if(h.lstL<=0||h.lstL>h.lstData.length)return null;h=h.lstData[h.lstL-1][a-1]}switch(t){case"#1COL":case"#COL":return h.lstRow?this.formatGetData(e,h.lstData[i-1],n,r):(s||(s=h.lstL),s>=1&&s<=h.lstData.length?this.formatGetData(e,h.lstData[s-1][i-1],n,r):null);case"#NCELL":for(var c=h,u=0;u<s.length-1;u+=2)c=c.lstData[s[u]-1][s[u+1]-1];return s.length==u+1&&"#L"==s[u]&&(c=c.lstL),c;case"#L":return null!=h?h.lstL:0;case"#LCNT":return h&&h.lstData?h.lstData.length:0;case"#CCNT":return null==h.lstDef?0:h.lstDef.length;case"#LSEL":return s||(s=h.lstL),h.lstLSEL[s-1];case"#LSEL_ALL":return h.lstLSEL;case"#LSEL_COUNT":return h.lstLSEL.reduce((function(e,t){return e+t}),0);default:return"boolean"==typeof h?this.formatGetData(e,0+h,n,r):this.formatGetData(e,h,n,r)}}return null},omnis_form.prototype.formatGetData=function(e,t,s,i){if("s"==s||"sz"==s){if("sz"==s&&0==t)return"";if(t&&t instanceof omnis_date){i||(t.__hasDateComponent&&!t.__hasTimeComponent?i=_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.mHashFD:t.__hasDateComponent&&t.__hasTimeComponent?i=_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.mHashFDT:t.__hasTimeComponent&&(i=_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.mHashFT));var n=t.toJavaScriptDate();t=n.dateFormat(i,null,null!=t.dtH)}else{if(null==i||"number"!=typeof t)return null==t&&null!=i?"":t+"";try{return(0,_core_sprintf_exec__WEBPACK_IMPORTED_MODULE_26__.Z)(i,t)}catch(e){return t+""}}}return t&&(t instanceof omnis_raw_list||t instanceof omnis_date)&&(t.__form=this,t.__dataIndex=e),t instanceof omnis_raw_list&&t.checkWrapper(),t},omnis_form.prototype.getDefn=function(e,t){var s=e%65536,i=Math.floor(e/65536),n=this.instanceVars.lstData;if(s>=1&&s<=n.length){var r,o,a=n[s-1];if(i)if(a.lstDef[i-1][1]===eOmnisDataTypes.fftList||a.lstDef[i-1][1]===eOmnisDataTypes.fftRow)if(a.lstRow)r=a.lstData[i-1];else{if(!(a.lstL>0&&a.lstL<=a.lstData.length))return null;r=a.lstData[a.lstL-1][i-1]}else o=a.lstDef[i-1];else(null==a?void 0:a.lstDef)?r=a:o=this.instanceVars.lstDef[s-1];return!o&&t&&(o=r.lstDef[t-1]),o}return null},omnis_form.prototype.getDateComponents=function(e,t){var s=this.getDefn(e,t);if(s[1]!=eOmnisDataTypes.fftDate)throw new Error("dateTypeHasTimeComponent: Passed dataIndex's variable is not of type fftDate.");return s[6]},omnis_form.prototype.setData=function(e,t,s,i,n,r,o,a){function l(e,t,s){var i=t.lstDef[s-1];return e&&eOmnisDataTypes.fftCharacter==i[1]&&("string"!=typeof e&&(e+=""),e.length>i[3]&&(e=e.substr(0,i[3]))),e}var h=this.getData(e,s,i,n);if("s"==o){var c=this.getDefn(e);null!=c&&c[1]==eOmnisDataTypes.fftDate||null!=h&&h instanceof omnis_date?null!=a?null==(t=Date.parseDate(t,a))&&(o="a",null==h&&(r=!1)):t=new Date(t):"boolean"==typeof h?t="true"==t.toLowerCase()||"1"==t:"number"==typeof h&&(t*=1)}if(t instanceof omnis_date&&(t.dateComps=this.getDateComponents(e,n),t=new omnis_date(t)),t instanceof Date){t.dateComps=this.getDateComponents(e,n);var u=new omnis_date(t);u.equals(h)&&(r=!1),t=u}else{if("#LSEL_ALL"==s){if(h.length==t.length)if(h.toString()===t.toString())return!0}else if("a"!=o&&h==t)return!0}(r=_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.defaultParameter(r,!0))&&t&&"object"===_typeof(t)&&t.init_obj_inst&&(r=!1);var m=e%65536,d=Math.floor(e/65536),p=this.instanceVars.lstData;if(m>=1&&m<=p.length){var _,f=p[m-1],g=0;if(d)if(f.lstRow)_=f.lstData[d-1];else{if(!(f.lstL>0&&f.lstL<=f.lstData.length))return!1;_=f.lstData[f.lstL-1][d-1],g=f.lstL}else _=f;switch(s){case"#1COL":case"#COL":if(t=l(t,_,n),_.lstRow)_.lstData[n-1]=t;else{for(i||(i=f.lstL);_.lstData.length<i;)_.lstData[_.lstData.length]=[];_.lstData[i-1][n-1]=t}break;case"#NCELL":for(var y=_,v=0;v<i.length-2;v+=2)y=y.lstData[i[v]-1][i[v+1]-1];i.length==v+1?"#L"==i[v]&&(y.lstL=t):y.lstData[i[v]-1][i[v+1]-1]=t;break;case"#L":_.lstL=t;break;case"#LSEL":i||(i=f.lstL),_.lstLSEL[i-1]=t;break;case"#LSEL_ALL":_.lstLSEL=t;break;default:d?(t=l(t,f,d),f.lstRow?f.lstData[d-1]=t:f.lstData[f.lstL-1][d-1]=t):(t=l(t,this.instanceVars,m),p[m-1]=t)}if(r&&this.recordSetData(e,g,t,s,i,n),this.mNoData&&h instanceof omnis_raw_list&&t instanceof omnis_raw_list&&JSON.stringify(h.lstDef)!==JSON.stringify(t.lstDef)){for(v=this.mNoData.length-1;v>=0;--v){var b=this.mNoData[v];b.dataIndex=-1,b.getData(),0!=b.dataIndex&&this.mNoData.splice(v,1)}this.mNoData.length||(this.mNoData=null)}return this.disableAutomaticUpdates||this.generateAutomaticUpdate(m-1,d-1,s,i,n),!0}return!1},omnis_form.prototype.recordSetData=function(e,t,s,i,n,r){switch(i){default:if(o=this.recordSetDataFind(eORFCparam.SetInstVar,e,t))return o[eInstVarChangeColumn.Data]=this.getData(e),!0;break;case"#1COL":if(o=this.recordSetDataFind(eORFCparam.SetInstVarColumn,e,t,n,r))return o[eInstVarChangeColumn.SelStateOrListRow]=n,o[eInstVarChangeColumn.Column]=r,o[eInstVarChangeColumn.Data]=this.getData(e,i,n,r),!0;break;case"#NCELL":if(o=this.recordSetDataFind(eORFCparam.SetInstVarNestedCell,e,t,n))return o[eInstVarChangeColumn.Data]=s,o[eInstVarChangeColumn.Column]=n.join(),!0;break;case"#L":if(o=this.recordSetDataFind(eORFCparam.SetInstVarSel,e,t,0,0,!0))return o[eInstVarChangeColumn.Data]=this.getData(e,i),!0;break;case"#LSEL":if(o=this.recordSetDataFind(eORFCparam.SetInstVarSelStateOnly,e,t,n))return o[eInstVarChangeColumn.SelStateOrListRow]=this.getData(e,i,n)+0,!0;break;case"#LSEL_ALL":var o;if(o=this.recordSetDataFind(eORFCparam.SetInstVarSelStateAll,e,t,0,0,!1))return o[eInstVarChangeColumn.Data]=this.getSelectionString(this.getData(e,i)),!0}return!1},omnis_form.prototype.getSelectionString=function(e){var t=e.length;if(t>0){for(var s=-1,i=-1,n="",r=1;r<=t;r++){var o=!1;e[r-1]?(-1==s?s=i=r:i=r,r==t&&(o=!0)):o=!0,o&&-1!=s&&(n.length&&(n+=","),n+=s,s!=i&&(n+=":"+i),s=-1)}return n}return""},omnis_form.prototype.deleteChangeRecords=function(e){for(var t=this.instanceVarsChanges,s=t.length;s;s--){t[s-1][eInstVarChangeColumn.DataIndex]==e&&t.splice(s-1,1)}},omnis_form.prototype.recordSetDataFind=function(e,t,s,i,n,r){for(var o=this.instanceVarsChanges,a=o.length;a;a--){var l=o[a-1];if(l[eInstVarChangeColumn.DataIndex]==t&&l[eInstVarChangeColumn.DataRow]==s&&l[eInstVarChangeColumn.Param]==e){if(!i)return l;if(eORFCparam.SetInstVarColumn==e){if(l[eInstVarChangeColumn.SelStateOrListRow]==i&&l[eInstVarChangeColumn.Column]==n)return l}else if(l[eInstVarChangeColumn.Data]==i)return l}else if(r)break}return o[o.length]=[e,t,s,i,null],o[o.length-1]},omnis_form.prototype.canSendEvent=function(e){return-1!=this.eventsToSend.indexOf(e)},omnis_form.prototype.handleEvent=function(e){var t=eBaseEvent.evNone;return"contextmenu"===e.type?jOmnisMenuHandler.isContextMenuOpen()?_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.handleEventPreventDefault(e):this.handleContextMenuClick(e,this):(this.canSendEvent(t)&&this.sendEvent(0,t,0),!0)};var gIntervalCount=0,gNextId=1,gId=0;omnis_form.prototype.sendEvent=function(e,t,s){if(!_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.mDesign){var i=this.inst.mNoOverlay;_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.overlayForm==this&&this.alwaysEnabledObject&&this.alwaysEnabledObject==e&&!e.mTempAlwaysEnabled&&(e.activeProperty=!1,e.applyActiveAndEnabledStates(!0));var n=this;if(isNaN(t)||(t*=-1),this.inst.inRequest||this.inst.inClientEvent||0!=gIntervalCount){var r,o=++gId;++gIntervalCount,r=setInterval((function(){if(!n.inst.inRequest&&!n.inst.inClientEvent&&o==gNextId){if(clearInterval(r),!n.mDoneDelete||t!==-eBaseEvent.evLayoutChanged){var l=n.inst.mNoOverlay;n.inst.mNoOverlay=i,a(e,t,s),n.inst.mNoOverlay=l}0!=--gIntervalCount?gNextId++:(gNextId=1,gId=0)}}),100)}else a(e,t,s)}function a(e,t,s){if(n.$cfield=e,!n.sendClientEvent(e,t,s)){var i={lstRow:0,lstDef:0,lstData:0,lstLSEL:0,lstL:0};i.lstData=s,n.inst.sendEvent(eORFCparam.EvCustom,n.index,0===e?0:e.objNumber,t,i)}}},omnis_form.prototype.prepareForScripts=function(){function e(e){var t;if(e.subFormObj&&e.subFormObj.userInfo){var s=_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.parseCommaSeparatedList(e.subFormObj.userInfo),i=["$init",eDoMethodFlags.clientOnly|eDoMethodFlags.noLog].concat(s);t=e.callMethodEx.apply(e,i)}else t=e.callMethodEx("$init",eDoMethodFlags.clientOnly|eDoMethodFlags.noLog);if(e.initCalled=!0,"string"!=typeof t||_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.beforeUnload||(_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.beforeUnload=t,window.onbeforeunload=gBeforeUnload),e.scriptNotify){for(var n=0;n<e.scriptNotify.length;++n)e.scriptNotify[n].scriptAvail();e.scriptNotify=null}e.callLoadfinishedAfterInit&&e.loadFinished()}null==this.mMethodNamePrefix&&(this.mMethodNamePrefix=this.omnislib+"_"+this.omnisclass+"_",this.mMethodNamePrefix=this.mMethodNamePrefix.replace(/[^a-zA-Z0-9_$]/g,"_").toLowerCase());var t=this.mMethodNamePrefix+"__setivars";if(this[t]?this[t]():console.log("ERROR! formscript for "+this.omnislib+"."+this.omnisclass+" loaded but failed to parse correctly."),this.inst.inRequest||0!=this.loadingSubform||this.inst.deferFormInit)var s=this,i=setInterval((function(){s.inst.inRequest||0!=s.loadingSubform||s.inst.deferFormInit||(clearInterval(i),s.mDoneDelete||e(s))}),10);else e(this)},omnis_form.prototype.childFormLoaded=function(){this.pendingChildSubforms--,0===this.pendingChildSubforms&&this.loadFinished()},omnis_form.prototype.loadFinished=function(){this.hasClientScripts&&!this.initCalled?this.callLoadfinishedAfterInit=!0:(this.hasClientScripts&&this.callMethodEx("$loadfinished",eDoMethodFlags.clientOnly|eDoMethodFlags.noLog),this.parentForm&&this.parentForm.childFormLoaded())},omnis_form.prototype.requestScriptAvailNotify=function(e){this.scriptNotify||(this.scriptNotify=[]),this.scriptNotify.push(e)},omnis_form.prototype.sendClientEvent=function(e,t,s,i){var n,r=this.inst.mNoOverlay;if(_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.mClientEventDiscarded=!1,null==this.clientScriptsIndex)return!1;if(0===e?!this.mHasClientEvent:!e.mHasClientEvent)return!1;if(!this.mClientScriptsLoaded&&(this.mClientScriptsLoaded=this.inst.clientScripts[this.clientScriptsIndex].loaded,!this.mClientScriptsLoaded))return this.clientScriptsLoadedId||((o=this).clientScriptsLoadedId=setInterval((function(){if(o.mClientScriptsLoaded=o.inst.clientScripts[o.clientScriptsIndex].loaded,o.mClientScriptsLoaded){clearInterval(o.clientScriptsLoadedId),o.clientScriptsLoadedId=0;var i=o.inst.mNoOverlay;o.inst.mNoOverlay=r,o.sendClientEvent(e,t,s),o.inst.mNoOverlay=i}}),1)),!0;0===e?(n=this.mMethodNamePrefix+"$event_0",e=this,this.mHasControlHandler=!1):(n=this.mMethodNamePrefix+(e.origObjNumber?e.origObjNumber:e.objNumber)+"_$event_0",this.mHasControlHandler=!0,this.mPassToNextHandler=!0),this.inst.inClientEvent=!0,r||_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.showOverlay(!0,!0,this),_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.doneShowMessage=!1,_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.noConvException=!1,this.curInhLevel=0,this.clientEvCode=t,"number"==typeof t&&t>0&&(this.clientEvCode=-t),this.clientEvParams=s;var o=this;function a(){var s=1*new Date;_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.currentForm=o,o.inst.startRecordingUpdates(!0),o.inst.mCanBulkLoad=!0;var a=!0;try{e[n](),e.handleEventResult(t)}catch(e){a=!1,e.omnisClient=!0,_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.handleError(e,o.inst)}if(a&&o.mHasControlHandler&&o.mPassToNextHandler&&(n=o.mMethodNamePrefix+"$control_0",o[n]))try{o[n]()}catch(e){e.omnisClient=!0,_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.handleError(e,o.inst)}_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.currentForm=null,o.clientEvCode=null,o.clientEvParams=null,o.inst.stopRecordingAndApplyUpdates(!0),o.inst.mCanBulkLoad=!1,r?o.inst.inClientEvent=!1:o.hideOverlayDelayed(s,i,!0),e.mClientResult&&e.handleEventResult(t,0),o.inst.startBulkLoad(o.index),o.inst.mEventResponseObject&&(o.inst.mEventResponseObject.eventResponseHasBeenProcessed(),o.inst.mEventResponseObject=null)}return-t===eBaseEvent.evAfter||-t===eBaseEvent.evClick||r?a():setTimeout(a,0),!0},omnis_form.prototype.hideOverlayDelayed=function(e,t,s){if(this.inst.inRequest)setTimeout((function(){_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.makeOverlayActivityIndicatorVisible()}),1e3);else{var i,n=1*new Date-e;i=n<100?1:n<1e3?n/2:500;var r=this;setTimeout((function(){_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.hideOverlay(!0),t&&t.eventComplete(_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.mClientEventDiscarded),_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.mClientEventDiscarded=!1,s&&(r.inst.inClientEvent=!1)}),i)}},omnis_form.prototype.sendOpenSubform=function(e,t,s,i,n,r){return this.inst.sendOpenSubform(this.index,e,t,s,i,n,r)},omnis_form.prototype.getSubform=function(e){return this.inst.formGet(e)},omnis_form.prototype.deleteSubform=function(e){var t=this.inst.formGet(e);if(null!=t&&!t.mInClose)return t.deleteObjectsAndData(),jOmnisMenuHandler.removeFormMenus(t.ident),this.inst.formDelete(e)},omnis_form.prototype.handleContextMenuClick=function(e,t){if(this.disableDefaultContextMenu)if(t==this){var s=this.serverElem.getAttribute("data-contextmenu");if(!s||!s.length)return _omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.handleEventPreventDefault(e,!0)}else t.disableDefaultContextMenu||(e.cancelBubble=!0);return jOmnisMenuHandler.handleContextMenuClick(e,this,null,t)},omnis_form.prototype.handleEventResult=function(e,t){return e!==eBaseEvent.evOpenContextMenu||jOmnisMenuHandler.handleEventResult(this,e,t)},omnis_form.prototype.makeNotation=function(e){var t="$cinst";return e&&e.length&&(t+=e),t},omnis_form.prototype.getNextPrevTabObject=function(e,t,s){if(e&&e.rowCtrl)return e.rowCtrl.getNextPrevTabObject(e,t);var i=-1;if(e&&(i=this.mTabOrder.indexOf(e)),-1==i&&(t?(i=this.mTabOrder.length,e=null):(i=0,e=null)),t){for(var n=e?i-1:i;n>=0;--n){var r=this.mTabOrder[n];if(r=_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.canTabToObject(r))return r}if(s)return null;for(n=this.mTabOrder.length-1;n>=1;--n){r=this.mTabOrder[n];if(r=_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.canTabToObject(r))return r}}else{for(n=e?i+1:i;n<this.mTabOrder.length;++n){r=this.mTabOrder[n];if(r=_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.canTabToObject(r))return r}if(s)return null;for(n=0;n<this.mTabOrder.length;++n){r=this.mTabOrder[n];if(r=_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.canTabToObject(r))return r}}return null},omnis_form.prototype.setFormBackground=function(){var e='[id="'+this.serverElem.id+'"].omnisform{',t=parseInt(this.serverElem.getAttribute("data-backpattern")),s=this.inst.theme,i=+_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.getAttribute(this.serverElem,"data-backalpha",255)/255;switch(t){case 0:var n=+this.serverElem.getAttribute("data-forecolor");e+="background:"+(n=s.getColorString(n,this.DefaultColors[_controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.Mr.BACKGROUND],i))+";";break;case 1:var r=+this.serverElem.getAttribute("data-backgroundcolor");e+="background:"+(r=s.getColorString(r,this.DefaultColors[_controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.Mr.BACKGROUND],i))+";";break;case 33:case 34:case 35:case 36:var o=t-33,a=+this.serverElem.getAttribute("data-backgroundcolor");r=s.getColorString(a,this.DefaultColors[_controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.Mr.BACKGROUND],i);var l,h,c=+this.serverElem.getAttribute("data-forecolor");n=s.getColorString(c,this.DefaultColors[_controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.Mr.BACKGROUND],i),33==t||35==t?(l=n,h=r):(l=r,h=n);e+="background:linear-gradient("+["to right","to right","to bottom","to bottom"][o]+","+l+","+h+");"}e+="}",this.mFormStyleSheet&&_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.removeStyleSheet(this.mFormStyleSheet),this.mFormStyleSheet=_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.addStyleSheet(e),this.serverElem.className="omnisform form-selection"},omnis_form.prototype.getProperty=function(e){switch(e){case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.alpha:var t=this.serverElem.getAttribute("data-alpha");return t?1*t:255;case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.backcolor:return+this.serverElem.getAttribute("data-backgroundcolor");case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.forecolor:return+this.serverElem.getAttribute("data-forecolor");case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.backalpha:return+this.serverElem.getAttribute("data-backalpha");case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.backpattern:return 1*this.serverElem.getAttribute("data-backpattern");case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.horzscroll:return"auto"==this.serverElem.style.overflowX;case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.vertscroll:return"auto"==this.serverElem.style.overflowY;case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.disabledefaultcontextmenu:return!!this.disableDefaultContextMenu;case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.contextmenu:return this.serverElem.getAttribute("data-contextmenu");case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.ident:return this.number;case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.container:return this.parentForm;case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.height:return _omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.getOmnisHeight(this.serverElem);case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.width:return _omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.getOmnisWidth(this.serverElem);case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.title:var s=this.subFormObj;return s&&s.mSFS?s.mSFStitleText:"";case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.resizemode:return this.resizeMode;case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.okkeyobject:return this.okObject?this.okObject.objName:"";case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.cancelkeyobject:return this.cancelObject?this.cancelObject.objName:"";case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.sqlobject:return _omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.mSQL||(_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.mSQL=new omnis_sql),_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.mSQL;case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.name:return this.omnisclass+"_"+this.number;case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.screensize:return _omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.curScreenSizeConst;case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.events:return this.getEvents(this);case-20:return this.omnisclass;case-21:return this.omnislib;case this.eFormProperties.alwaysenabledobject:return this.alwaysEnabledObject?this.alwaysEnabledObject.objName:"";case this.eFormProperties.layouttype:return this.mPositionInfo.getLayoutType();case this.eFormProperties.layoutbreakpoints:return this.mPositionInfo.getBreakpoints();case this.eFormProperties.animatelayouttransitions:return this.animateLayoutTransitions;case this.eFormProperties.menulineheight:return this.menuLineHeight;case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.dataname:if(this.isSubform&&this.subFormObj)return this.subFormObj.dataName}return null},omnis_form.prototype.setPropCli=function(e,t){return"string"==typeof t&&this.stringTable&&(t=this.stringTable.translateText(t)),this.doSetProperty(e,t)},omnis_form.prototype.getCanAssign=function(e){switch(e){case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.alpha:case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.backcolor:case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.forecolor:case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.backalpha:case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.backpattern:case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.horzscroll:case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.vertscroll:case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.disabledefaultcontextmenu:case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.contextmenu:case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.resizemode:case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.okkeyobject:case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.cancelkeyobject:case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.events:case this.eFormProperties.alwaysenabledobject:case this.eFormProperties.animatelayouttransitions:case this.eFormProperties.menulineheight:return!0;case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.height:case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.width:return!this.isSubform;case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.ident:case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.container:case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.sqlobject:case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.screensize:return!1;case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.title:return this.subFormObj&&this.subFormObj.mSFS;case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.dataname:return this.isSubform&&this.subFormObj}return!1},omnis_form.prototype.doSetProperty=function(e,t){if(++this.mPropertiesSet,this.mInAnimationBlock){var s=this.canAnimateProperty(e);if(s&&!this.addAnimation(s,this,e,t))return!0}switch(e){case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.alpha:var i=1*t;return i<0?i=0:i>255&&(i=255),_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.setOpacity(this.serverElem,i),this.serverElem.setAttribute("data-alpha",i),this.setFormBackground(),!0;case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.backcolor:return this.serverElem.setAttribute("data-backgroundcolor",t),this.setFormBackground(),!0;case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.forecolor:return this.serverElem.setAttribute("data-forecolor",t),this.setFormBackground(),!0;case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.backalpha:return this.serverElem.setAttribute("data-backalpha",t),this.setFormBackground(),!0;case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.backpattern:return this.serverElem.setAttribute("data-backpattern",t),this.setFormBackground(),!0;case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.horzscroll:return this.serverElem.style.overflowX=1*t!=0?"auto":"hidden",!0;case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.vertscroll:return this.serverElem.style.overflowY=1*t!=0?"auto":"hidden",!0;case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.disabledefaultcontextmenu:return this.disableDefaultContextMenu=t,!0;case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.contextmenu:return this.serverElem.setAttribute("data-contextmenu",t),!0;case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.height:if(this.isSubform)return!0;this.baseScreenSizes||this.setBaseScreenSizes();var n=this.curScreenSize,r=this.mPositionInfo.getLayoutInfo(n),o=+t,a=r.height;return o>=this.baseScreenSizes[n][1]&&o!=a&&(this.floatX=0,this.floatY=o-a,this.mPositionInfo.updateLayoutInfo(n,"height",o),_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.setOmnisHeight(this.serverElem,o),this.needWindowScroll=r.width>_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.curWindowWidth||o>_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.curWindowHeight,this.doSetScreenSize(n),this.floatY=0),!0;case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.width:if(this.isSubform)return!0;this.baseScreenSizes||this.setBaseScreenSizes(),n=this.curScreenSize;var l=1*t,h=(r=this.mPositionInfo.getLayoutInfo(n)).width;return l>=this.baseScreenSizes[n][0]&&l!=h&&(this.floatX=l-h,this.floatY=0,this.mPositionInfo.updateLayoutInfo(n,"width",l),_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.setOmnisWidth(this.serverElem,l),this.needWindowScroll=r.height>_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.curWindowHeight||l>_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.curWindowWidth,this.doSetScreenSize(n),this.floatX=0,this.resizeMode==eResizeModes.center&&this.center()),!0;case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.title:var c=this.subFormObj;if(c&&c.mSFS)t+""!=c.mSFStitleText&&(c.mSFStitleText=t+"",c.titleElem.getElementsByTagName("DIV")[0].innerHTML=c.mSFStitleText+"",c.mSFS.buildOrderVar());return!0;case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.resizemode:var u=1*t;return(u==eResizeModes.none||u==eResizeModes.center||u==eResizeModes.keepaspect||u==eResizeModes.ignoreaspect)&&(u!=this.resizeMode&&(this.resizeMode=u,this.isSubform||this.inst.screenSizeOption||this.applyResizeMode()),!0);case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.okkeyobject:return this.okObject=null==t?null:this.findChildByName(t+""),!0;case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.cancelkeyobject:return this.cancelObject=null==t?null:this.findChildByName(t+""),!0;case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.events:return this.setEvents(this,t+"");case this.eFormProperties.alwaysenabledobject:var m=this.findChildByName(t);return _omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.overlayManager.updateAlwaysEnabledObject(this,m),this.alwaysEnabledObject=m,!0;case this.eFormProperties.animatelayouttransitions:return this.animateLayoutTransitions=t,!0;case this.eFormProperties.menulineheight:return this.menuLineHeight=+t,!0;case-822:return this.$minimize(),!0;case-823:return this.$maximize(),!0;case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.dataname:if(this.isSubform&&this.subFormObj)return this.subFormObj.setDataName(t)}return!1},omnis_form.prototype.canAnimateProperty=function(e){switch(e){case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.alpha:return{style:"opacity",elems:[this.serverElem]};case _controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.backcolor:return{style:"background-color",elems:[this.serverElem]}}return null},omnis_form.prototype.beginAnimations=function(e,t){this.mInAnimationBlock||(t=_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.defaultParameter(t,0),this.mInAnimationBlock=!0,this.mAnimationDuration=1*e,this.mAnimationDuration<=0&&(this.mAnimationDuration=1),this.mAnimationTimingNum=1*t,(this.mAnimationTimingNum<0||this.mAnimationTimingNum>=transitionTimingFunctions.length)&&(this.mAnimationTimingNum=0),this.mAnimationTimingFunction=transitionTimingFunctions[this.mAnimationTimingNum],this.mAnimatedProperties=[],this.mAnimatedVis=[],this.mDeferredAnimatedProperties=[])},omnis_form.prototype.commitAnimations=function(){if(this.mInAnimationBlock){this.mInAnimationBlock=!1;var e={setid:this.mNextAnimationSetId,elements:this.mAnimatedElements,duration:this.mAnimationDuration,timnum:this.mAnimationTimingNum,deferredProp:this.mDeferredAnimatedProperties,anvis:this.mAnimatedVis};this.mAnimationSets.push(e),this.mAnimatedElements=[],this.mAnimatedProperties=[],this.mAnimatedVis=[],this.mDeferredAnimatedProperties=[],this.startAnimationCompleteEventTimer(this.mNextAnimationSetId),this.mNextAnimationSetId++}},omnis_form.prototype.addAnimation=function(e,t,s,i){if(this.mInAnimationBlock){for(var n=!1,r=0;r<this.mAnimatedProperties.length;++r)if(this.mAnimatedProperties[r].obj==t&&this.mAnimatedProperties[r].pnum==s){n=!0;break}if(n){n=!1;for(r=0;r<this.mDeferredAnimatedProperties.length;++r)if(this.mDeferredAnimatedProperties[r].obj==t&&this.mDeferredAnimatedProperties[r].pnum==s){n=!0,this.mDeferredAnimatedProperties[r].pval=i;break}return n||this.mDeferredAnimatedProperties.push({obj:t,pnum:s,pval:i}),!1}s==_controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.visible?this.mAnimatedVis.push({obj:t,pval:i}):this.mAnimatedProperties.push({obj:t,pnum:s});for(r=0;r<e.elems.length;++r){for(var o,a=e.elems[r],l=!1,h=0;h<this.mAnimatedElements.length;++h)if(a==this.mAnimatedElements[h]){l=!0;break}l||(this.mAnimatedElements.push(a),a.style[_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.transitionDurationProperty]=this.mAnimationDuration+"ms",a.style[_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.transitionTimingFunctionProperty]=this.mAnimationTimingFunction);var c=a.style[_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.transitionProperty];o="none"==c||""==c?[]:c.split(","),l=!1;for(var u=0;u<o.length;++u)if(o[u]===e.style){l=!0;break}l||(0==o.length?a.style[_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.transitionProperty]=e.style:a.style[_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.transitionProperty]=a.style[_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.transitionProperty]+","+e.style)}if(s==_controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.visible)return!1;var m=e.ctrl;if(m){var d=this.mAnimationDuration/100+1,p=0;p=setInterval((function(){m.sizeChanged(0===d),(d-=1)<0&&clearInterval(p)}),100)}}return!0},omnis_form.prototype.startAnimationCompleteEventTimer=function(e){var t=0,s=this;t=setTimeout((function(){for(var i=0;i<s.mAnimationCompleteTimers.length;++i)if(s.mAnimationCompleteTimers[i]==t){s.mAnimationCompleteTimers.splice(i,1);break}for(i=0;i<s.mAnimationSets.length;++i)if(s.mAnimationSets[i].setid==e){var n=s.mAnimationSets.splice(i,1)[0];for(i=0;i<n.elements.length;++i)n.elements[i].style[_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.transitionProperty]="none",n.elements[i].style[_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.transitionDurationProperty]="0s";if(n.deferredProp.length>0){s.mAnimatedVis=n.anvis,s.beginAnimations(n.duration,n.timnum);for(var r=0;r<n.deferredProp.length;++r){var o=n.deferredProp[r];o.obj.doSetProperty(o.pnum,o.pval)}return s.commitAnimations(),void s.inst.animationsFinished(1)}var a=n.anvis;for(i=0;i<a.length;++i){var l=a[i];l.obj.setProperty(_controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.visible,l.pval)}break}s.inst.animationsFinished(1),s.canSendEvent(eBaseEvent.evAnimationsComplete)&&s.sendEvent(0,eBaseEvent.evAnimationsComplete,[])}),this.mAnimationDuration),this.mAnimationCompleteTimers.push(t),this.inst.animationsStarted(1)},omnis_form.prototype.callMethod=function(e){if(_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.relatedObject=this,this[e])var t=this[e].apply(this,Array.prototype.slice.call(arguments,1));else{var s=_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.currentForm;_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.currentForm=this;var i=eDoMethodFlags.completionEvent;this.inst.offlinemode&&(i|=eDoMethodFlags.clientOnly),t=_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.doMethod.apply(_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ,[eAnums.$cinst,this,e,i].concat(Array.prototype.slice.call(arguments,1))),_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.currentForm=s}return _omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.relatedObject=null,t},omnis_form.prototype.callMethodEx=function(e,t){t&eDoMethodFlags.noOverlay||_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.showOverlay(!0,!0,this),!this.inst.offlinemode||t&eDoMethodFlags.clientOnly||(t|=eDoMethodFlags.clientOnly);var s=_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.currentForm;_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.currentForm=this,_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.doneShowMessage=!1,_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.noConvException=!1,this.curInhLevel=0;var i,n=1*new Date;this.inst.startRecordingUpdates(!0);try{_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.relatedObject=this,i=this[e]?this[e].apply(this,Array.prototype.slice.call(arguments,2)):_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.doMethod.apply(_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ,[eAnums.$cinst,this,e,t].concat(Array.prototype.slice.call(arguments,2)))}catch(e){e.omnisClient=!0,_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.handleError(e,this.inst)}return _omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.relatedObject=null,_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.currentForm=s,this.inst.stopRecordingAndApplyUpdates(!0),t&eDoMethodFlags.noOverlay||this.hideOverlayDelayed(n),i},omnis_form.prototype.set=function(e,t){var s=this.ivars[e];if(null==s){var i=this.resolvePropertyName(e);return!!i&&this.doSetProperty(i,t)}if(null!=t){var n=this.instanceVars.lstDef[s-1];t=_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.convertDataType(t,n[1],n[2],n[3],n[0],n.length>6?n[6]:null)}return this.setData(s,t),!0},omnis_form.prototype.get=function(e){var t=this.ivars[e];if(null==t){var s=this.resolvePropertyName(e);return s?this.getProperty(s):null}var i=this.instanceVars.lstData[t-1];return i&&(i instanceof omnis_raw_list||i instanceof omnis_date)&&(i.__form=this,i.__dataIndex=t),i},omnis_form.prototype.resolvePropertyName=function(e){return null!=e&&"string"==typeof e&&e.length>=2&&"$"==e.substr(0,1)?_controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9[e.substr(1).toLowerCase()]:null},omnis_form.prototype.setValue=function(e,t){return this.set(e,t)},omnis_form.prototype.getValue=function(e){return this.get(e)},omnis_form.prototype.findep=function(e){for(var t=0;t<this.clientEvParams.length;++t)if(this.clientEvParams[t][0]==e)return t;return-1},omnis_form.prototype.setep=function(e,t){if("pEventCode"!=e){var s=this.findep(e);return-1!=s&&(this.clientEvParams[s][1]=t),!0}this.clientEvCode=t},omnis_form.prototype.getep=function(e){if("pEventCode"==e)return this.clientEvCode;var t=this.findep(e);return-1!=t?this.clientEvParams[t][1]:null},omnis_form.prototype.$cwind=function(){for(var e=this;e.parentForm;)e=e.parentForm;return e},omnis_form.prototype.$objs=function(){return this.mObjs||(this.mObjs=new omnis_objs(this)),this.mObjs},omnis_form.prototype.$beginanimations=function(e,t){return this.beginAnimations(e,t),!0},omnis_form.prototype.$commitanimations=function(){return this.commitAnimations(),!0},omnis_form.prototype.$clientcommand=function(e,t){return this.inst.commsParamsClientCommand(this,null,null,e,t)},omnis_form.prototype.$setcurfield=function(e,t){if(null!=e){var s,i=this.$objs();if(null!=(s="number"==typeof e?i.$findident(e):"object"===_typeof(e)&&null!=e.getClientElem?e:i.$findname(e))){if(s.focus(),!t&&s instanceof ctrl_edit&&s.clientElem.setSelectionRange(0,0),t)if(_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.iOS)setTimeout((function(){s.getClientElem().setSelectionRange(0,9999999)}),0);else try{s.getClientElem().select()}catch(e){}return!0}}return!1},omnis_form.prototype.$showmessage=function(e,t){return _omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.doneShowMessage||(_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.doneShowMessage=!0,_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.okMessage(t,e)),!0},omnis_form.prototype.$showurl=function(e,t,s){var i="C"+omnis_form.NextURLWindowID++;return this.inst.commsParamsExecRedirectClient(e,t,s,i),i},omnis_form.prototype.$closeurl=function(e){var t=this.inst.openedBrowserWindows[e];t&&(t.close(),delete this.inst.openedBrowserWindows[e])},omnis_form.prototype.loadcols=function(e){for(var t="",s=1;s<arguments.length;++s){var i=arguments[s],n=this.getDataIndex(i);t+=n?'__form.set("'+i+'", jOmnis.copyValue(__row.getValue("C'+s+'")));':i+' = jOmnis.copyValue(__row.getValue("C'+s+'"));'}if(0==t.length&&e.lstDef&&e.lstDef.length){var r=[e];for(s=0;s<e.lstDef.length;++s)r.push(e.lstDef[s][0]);return this.loadcols.apply(this,r)}return t},omnis_form.prototype.setTabOrder=function(e,t){if(e||!this.isSubform){if(!this.mInstallingChildren){this.settingTabOrder=!0,t?e=-1:this.inst.mSFSmodal&&(this.subFormObj&&(this.subFormObj.mSFS&&this.subFormObj.isTopModalSubform()||this.inst.isChildOfTopModalSubform(this.elem))?e=1:(e=-1,t=!0));for(var s=null==e?1:e,i=0;i<this.mTabOrder.length;++i){var n=this.mTabOrder[i];n&&(s=n.setTabIndex(s),t&&(s=-1))}return this.settingTabOrder=!1,s}}else this.parentForm&&!this.parentForm.settingTabOrder&&this.parentForm.setTabOrder(e)},omnis_form.prototype.removeDragBorderObjects=function(e,t){this.inst.mInDragBorder||(this.mDragBorderObjects?this.mDragBorderObjects.removeObjects(t):this.mDragBorderObjects=new _omn_inst__WEBPACK_IMPORTED_MODULE_22__.tm)},omnis_form.prototype.addDragBorderObject=function(e,t,s){this.inst.mInDragBorder||(this.mDragBorderObjects||(this.mDragBorderObjects=new _omn_inst__WEBPACK_IMPORTED_MODULE_22__.tm),this.mDragBorderObjects.addObject(t,s))},omnis_form.prototype.addControl=function(defnRow){var defn=defnRow.lstData,srcObjNumber=1*defn[1],srcObj=this.findChild(defn[1]),parentCtrl;if(!srcObj)throw jGetOmnisException(this.inst,"omn_form_addsrc",defn[1]);var parentPageNum=1*defn[4];if(defn[3]){if(parentCtrl=this.findChild(defn[3]),!parentCtrl)throw jGetOmnisException(this.inst,"omn_form_addparent",defn[3]);if(!(parentCtrl instanceof ctrl_pagedpane))throw jGetOmnisException(this.inst,"omn_form_addbadparent",parentCtrl.objName);if(parentPageNum<1||parentPageNum>parentCtrl.pageCount)throw jGetOmnisException(this.inst,"omn_form_addbadpage",parentPageNum,parentCtrl.objName);for(var checkParent=parentCtrl.parentCtrl;checkParent;){if(checkParent instanceof ctrl_cgrid)throw jGetOmnisException(this.inst,"omn_form_addcg",parentCtrl.objName);checkParent=checkParent.parentCtrl}}this.mObjs=null;var tempDiv=document.createElement("DIV");tempDiv.innerHTML=sChangeIds(defn[6]);var elem=tempDiv.removeChild(tempDiv.firstChild);elem.setAttribute("name",defn[0]),elem.setAttribute("data-ident",defn[7]),parentCtrl?(parentCtrl.getClientElem().appendChild(elem),defn[5]&&parentCtrl.allPanes.push(defn[7])):this.isSubform?this.serverElem.appendChild(elem):this.serverElem.children[0].appendChild(elem);var ctrlClass=elem.getAttribute("data-ctrl");if("ctrl_pagedpane"==ctrlClass){var ce=elem.children[0];ce.removeChild(ce.childNodes[0])}var constructScript="new "+ctrlClass+"()",newCtrl=eval(constructScript);newCtrl.parentCtrl=parentCtrl,elem.setAttribute("data-ord","*"),newCtrl.objNumber=defn[2],newCtrl.inhLevel=srcObj.inhLevel,newCtrl.mHasClientEvent=srcObj.mHasClientEvent,newCtrl.origObjNumber=srcObjNumber,newCtrl.init_ctrl_inst(this,elem),newCtrl.post_init_ctrl_inst(),parentCtrl?(elem.setAttribute("data-objlink",(parentPageNum<<16)+defn[3]),parentCtrl.installChild(newCtrl)):this.installChild(newCtrl),newCtrl.setScreenSize(this.curScreenSize),parentCtrl&&parentCtrl.update(),newCtrl.update()},omnis_form.prototype.deleteControl=function(e,t){var s=t||this.findChildByName(e);s&&(s.parentCtrl?s.parentCtrl.removeChildCtrl(s):this.removeChildCtrl(s),t||(null==this.freeObjNumbers&&(this.freeObjNumbers=[]),this.freeObjNumbers.push(s.objNumber)),s.delete_class_inst())},omnis_form.prototype.getEvents=function(e,t){for(var s="",i=e.eventsToSend,n=0;n<i.length;++n){n>0&&(s+=",");var r=i[n],o=!1;for(var a in eBaseEvent)if(eBaseEvent[a]==r){s+=a,o=!0;break}if(!o&&t)for(var a in t)if(t[a]==r){s+=a;break}}return s},omnis_form.prototype.setEvents=function(e,t,s){t=t.split(",");for(var i=[],n=0;n<t.length;++n){var r=t[n];if(""!=r)if(eBaseEvent[r])i.push(eBaseEvent[r]);else{if(!s||!s[r])return!1;i.push(s[r])}}return e.eventsToSend=i,!0},omnis_form.prototype.$minimize=function(){this.subFormObj&&this.subFormObj.mSFS&&this.subFormObj.mSFS.minimize(this.subFormObj.mSFSuniqueId)},omnis_form.prototype.$maximize=function(){this.subFormObj&&this.subFormObj.mSFS&&this.subFormObj.mSFS.maximize(this.subFormObj.mSFSuniqueId)},omnis_form.prototype.setTempAlwaysEnabled=function(e){this.alwaysEnabledObject==e||e.mTempAlwaysEnabled||(this.savedAlwaysEnabledObject=this.alwaysEnabledObject,this.savedAlwaysEnabledZindex=this.alwaysEnabledZindex,this.alwaysEnabledObject=e,this.alwaysEnabledZindex=e.elem.style.zIndex,e.mTempAlwaysEnabled=!0,_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.mKeepKeysEnabled=!0)},omnis_form.prototype.clearTempAlwaysEnabled=function(e){this.alwaysEnabledObject==e&&e.mTempAlwaysEnabled&&(this.alwaysEnabledObject=this.savedAlwaysEnabledObject,this.alwaysEnabledZindex=this.savedAlwaysEnabledZindex,this.savedAlwaysEnabledObject=null,this.savedAlwaysEnabledZindex=null,e.mTempAlwaysEnabled=!1,_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.mKeepKeysEnabled=!1)},omnis_form.prototype.sendWrapperMessage=function(e,t,s){if(s)var i="var form = jOmnis.getOmnisForm(jOmnis.instIndexFromIdent("+this.ident+"), jOmnis.formIndexFromIdent("+this.ident+'));[].splice.call(arguments, 0, 0, "'+s+'");return form ? form.callMethod.apply(form, arguments) : null;';else i="";sendDeviceRequest(e,i,t)},omnis_form.prototype.xadd=function(e,t){var s=this.get(e);return this.set(e,s+t),this.get(e)},omnis_form.prototype.xsub=function(e,t){var s=this.get(e);return this.set(e,s-t),this.get(e)},omnis_form.prototype.xmul=function(e,t){var s=this.get(e);return this.set(e,s*t),this.get(e)},omnis_form.prototype.xdiv=function(e,t){var s=this.get(e);return this.set(e,s/t),this.get(e)},omnis_form.prototype.xaddep=function(e,t){var s=this.getep(e);return this.setep(e,s+t),this.getep(e)},omnis_form.prototype.xsubep=function(e,t){var s=this.getep(e);return this.setep(e,s-t),this.getep(e)},omnis_form.prototype.xmulep=function(e,t){var s=this.getep(e);return this.setep(e,s*t),this.getep(e)},omnis_form.prototype.xdivep=function(e,t){var s=this.getep(e);return this.setep(e,s/t),this.getep(e)},omnis_form.prototype.clearErrors=function(){for(var e in this.errorControls){this.errorControls[e].setErrorText("",!0)}},omnis_form.prototype.readFile=function(e,t,s){var i=this,n="";function r(t){t?setTimeout((function(){r()}),0):i.callMethodEx("$filereadcomplete",eDoMethodFlags.clientOnly|eDoMethodFlags.noLog,e,n)}if(e&&jOmnisFiles[e])if(t&&this.ivars[t]){var o=jOmnisFiles[e],a=new FileReader;a.onload=function(){if(s){var e=!1;if(_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.inIE11OrLater()){var n=this.result.indexOf(",");n&&(i.set(t,this.result.substr(n+1)),e=!0)}e||i.set(t,btoa(this.result))}else i.set(t,this.result);r()},a.onerror=function(){n=jGetOmnisString(i.inst,"omn_form_readfileerror",null,this.error.name,e),r()},s?_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.inIE11OrLater()?a.readAsDataURL(o):a.readAsBinaryString(o):a.readAsText(o)}else n=jGetOmnisString(this.inst,"omn_form_noinstvar",null,t),r(!0);else n=jGetOmnisString(this.inst,"omn_form_nofile",null,e),r(!0);delete jOmnisFiles[e]},omnis_form.prototype.createKnobs=function(e){if(this.mKnobColor=e,this.mKnobPositions){this.mKnobs=[];for(var t=_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.getColorString(e),s=0;s<this.mKnobPositions.length;++s){var i=document.createElement("DIV");i.style.boxSizing="border-box",i.style.border="solid 0.5px white",i.style.backgroundColor=t,i.style.position="absolute",i.style.zIndex=9999,this.mKnobs.push(i)}}else this.mKnobs=null},omnis_form.prototype.deleteKnobs=function(){this.hideKnobArray(this.mKnobs),this.mKnobs=null},omnis_form.prototype.showKnobs=function(e){if(this.mKnobs)for(var t=e.split(","),s=0;s<this.mKnobs.length;++s){var i=this.mKnobs[s];if(+t[s]){var n=this.mKnobPositions[s];i.style.left=n[0]+"px",i.style.top=n[1]+"px",i.style.width=n[2]+"px",i.style.height=n[3]+"px",i.parentElement||document.body.appendChild(i)}else i.parentElement&&i.parentElement.removeChild(i)}},omnis_form.prototype.hideKnobArray=function(e){if(e)for(var t=0;t<e.length;++t){var s=e[t];s.parentElement&&s.parentElement.removeChild(s)}},omnis_form.prototype.addMultiSelectKnobs=function(e){var t=this;function s(e,t,s,i,n,r,o,a){var l=document.createElement("DIV");l.boxSizing="border-box",l.style.position="absolute",l.style.backgroundColor=s,n&&(l.style.right=n),r&&(l.style.bottom=r),o&&(l.style.left=o),a&&(l.style.top=a),l.style.width="5px",l.style.height="5px",l.style.zIndex=9999,i&&(l.style.border=i),e.push(l),t.elem.appendChild(l)}function i(e,i,n){var r;if(e.length){r=[];for(var o=_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.getColorString(i),a=n?"solid 1px "+_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.getColorString(n):null,l=0;l<e.length;++l){var h=jDesignPushMessages.getObjectFromContext(t,e[l]);h&&(s(r,h,o,a,null,null,"0%","0%"),s(r,h,o,a,"0%",null,null,"0%"),s(r,h,o,a,null,"0%"),s(r,h,o,a,"0%","0%"))}}return r}this.removeMultiSelectKnobs(),this.mMultiKnobs=i(e.unlockedMulti,e.colorUnlocked),this.mMultiLockedKnobs=i(e.lockedMulti,e.colorLocked,e.colorLockedBorder)},omnis_form.prototype.removeMultiSelectKnobs=function(){this.hideKnobArray(this.mMultiKnobs),this.hideKnobArray(this.mMultiLockedKnobs),this.mMultiKnobs=null,this.mMultiLockedKnobs=null},omnis_form.prototype.setChildCtrlParent=function(e,t,s){if(e.parentCtrl){e.parentCtrl.removeChildCtrl(e);var i=-1;t&&(i=this.mChildren.indexOf(t)),-1==i?this.serverElem.children[0].appendChild(e.elem):t.elem.after(e.elem),e.parentCtrl=null,this.installChild(e)}},omnis_form.prototype.removeChildCtrl=function(e){this.removeChild(e),e.elem.parentNode&&e.elem.parentNode.removeChild(e.elem);var t=e.getEdgeFloat(this.form.curScreenSize);t>=WND_WC_MENUBAR&&this.form.removeComponent(e,t)},omnis_form.prototype.applyNewOrder=function(e){for(var t=e.containers,s=[],i=0;i<t.length;++i){t[i].addParentElements(s)}for(i=0;i<s.length;++i){for(var n=s[i],r=[],o=0;o<n.children.length;++o)r.push(n.children[o].omnisObject);r.sort((function(e,t){return e.objNumber>t.objNumber?1:e.objNumber<t.objNumber?-1:0})),n.innerHTML="";for(o=0;o<r.length;++o)n.appendChild(r[o].elem)}_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.mDesign&&this.sendTabOrderMessage()},omnis_form.prototype.addParentElements=function(e){e.push(this.serverElem.children[0])};var jDesignPushMessages={getObjectFromContext:function(e,t){if(Number.isInteger(t))return e.findChildByIdentAndInhLevel(16777215&t,t>>>24);for(var s=0;s<t.length;++s){var i=t[s],n=e.findChildByIdentAndInhLevel(16777215&i,i>>>24);if(s+1==t.length)return n;if(!n||n.subformIndex<0)return null;e=e.inst.formGet(n.subformIndex)}},removePropertyValueDiv:function(e){if(e.propertyValueDiv&&(e.propertyValueDiv.parentNode.removeChild(e.propertyValueDiv),e.propertyValueDiv=null),e.mChildren)for(var t=e.mChildren.length,s=0;s<t;++s)this.removePropertyValueDiv(e.mChildren[s])},cDMbatch:function(e,t){t.mNewOrder=null,e.properties&&t.inst.startRecordingUpdates(!0);for(var s=e.batch,i=0;i<s.length;++i){var n=s[i];if(jDesignPushMessages[n.messageType](n,t,e.properties),"cDMreload"==n.messageType){s.splice(0,i+1),t.stateMessages=s;break}}e.properties&&(t.inst.stopRecordingAndApplyUpdates(),t.inst.startBulkLoad(t.index)),t.mNewOrder&&(t.applyNewOrder(t.mNewOrder),t.mNewOrder=null)},cDMfieldScrolledVertically:function(e,t){document.documentElement.scrollTop=e.scrollPos},cDMfieldScrolledHorizontally:function(e,t){document.documentElement.scrollLeft=e.scrollPos},cDMsetDesignFormScrollInfo:function(e,t){var s=(e.scrollWidth<e.width?e.width:e.scrollWidth)+"px",i=(e.scrollHeight<e.height?e.height:e.scrollHeight)+"px";t.isResponsive?(document.body.style.width=e.width+"px",document.body.style.height=e.height+"px"):(document.body.style.width=s,document.body.style.height=i,t.serverElem.style.width=s,t.serverElem.style.height=i),document.body.style.overflowX=e.needHorz?"scroll":"hidden",document.body.style.overflowY=e.needVert?"scroll":"hidden",t.inst.elem.style.width=s,t.inst.elem.style.height=i},cDMsetLayoutHeight:function(e,t){_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.setOmnisHeight(t.serverElem,e.height)},cDMsetComplexGridScrollInfo:function(e,t){var s=this.getObjectFromContext(t,e.context);if(s){var i=s.getClientElem();i.style.overflowY=e.needVert?"scroll":"hidden",i.style.overflowX=e.needHorz?"scroll":"hidden";var n=e.scrollWidth+"px",r=i.firstChild;r&&(r.style.width=n,r.firstChild&&(r.firstChild.style.width=n)),s.mHHeaderElem&&s.mHHeaderElem.firstChild&&(s.mHHeaderElem.firstChild.style.width=n),s.mHFooterElem&&s.mHFooterElem.firstChild&&(s.mHFooterElem.firstChild.style.width=n)}},cDMcomplexGridScrolledHorizontally:function(e,t){var s=this.getObjectFromContext(t,e.context);s&&(s.getClientElem().scrollLeft=+e.scrollPos)},cDMsetPagedPaneInfo:function(e,t){var s=this.getObjectFromContext(t,e.context);if(s){s.setPageCount(e.pageCount),s.setCurrentPage(e.currentPage,!0);var i=s.pages[e.currentPage-1];i&&(s.pageParentDiv.style.overflowX=e.needHorz?"scroll":"hidden",s.pageParentDiv.style.overflowY=e.needVert?"scroll":"hidden",i.style.width=e.scrollWidth+"px",i.style.height=e.scrollHeight+"px")}},cDMpagedPaneScrolledVertically:function(e,t){var s=this.getObjectFromContext(t,e.context);s&&(s.pageParentDiv.scrollTop=e.scrollPos)},cDMpagedPaneScrolledHorizontally:function(e,t){var s=this.getObjectFromContext(t,e.context);s&&(s.pageParentDiv.scrollLeft=e.scrollPos)},cDMsetProperty:function(e,t,s){if(s||t.inst.startRecordingUpdates(!0),e.context){var i=this.getObjectFromContext(t,e.context);if(i&&(e.item?i.doSetItemProperty(e.item,e.anum,e.value):(i.doSetProperty(e.anum,e.value),_controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.textcolor==e.anum&&i.designNameDiv&&i.copyFont(i.getClientElem().style,i.designNameDiv.style,i.showDesignNameBackground)),e.all)){var n=PositionInfo.perBreakpointProperties[e.anum];if(n){var r=e.value;_controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.visibleinbreakpoint==e.anum&&(r=!r),i.cachedPositionInfo.updateLayoutInfo("*",n,r)}}}else t.doSetProperty(e.anum,e.value);s||t.inst.stopRecordingAndApplyUpdates()},cDMmoveSizeControl:function(e,t){var s=this.getObjectFromContext(t,e.context);s&&(s.mInLayout=!s.form.isSubform,null!=e.left&&(s.doSetProperty(_controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.left,e.left),s.doSetProperty(_controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.top,e.top)),null!=e.width&&(s.doSetProperty(_controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.width,e.width),s.doSetProperty(_controls_ctl_base__WEBPACK_IMPORTED_MODULE_23__.W9.height,e.height)),s.mInLayout=!1)},cDMsetControlScrollInfo:function(e,t){var s=this.getObjectFromContext(t,e.context);s&&s.setDesignScrollInfo(e.max,e.pos)},cDMsetKnobPositions:function(e,t){e.positions&&(!t.mKnobPositions||e.positions.length==t.mKnobPositions.length&&t.mKnobColor==e.color||t.deleteKnobs(),t.mKnobPositions=e.positions,t.mKnobs||t.createKnobs(e.color)),t.addMultiSelectKnobs(e)},cDMshowKnobs:function(e,t){t.showKnobs(e.visibility)},cDMhideKnobs:function(e,t){t.hideKnobArray(t.mKnobs),t.removeMultiSelectKnobs()},cDMchangeParent:function(e,t){var s=this.getObjectFromContext(t,e.context);if(s){var i=e.newparent?this.getObjectFromContext(t,e.newparent):t;if(i){var n=e.prevCtrl?this.getObjectFromContext(t,e.prevCtrl):null;i.setChildCtrlParent(s,n,e.section);var r={containers:[i]};t.applyNewOrder(r)}}},cDMsetVisibleWhileDragging:function(e,t){try{_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.mDesignCanChangeVis=!e.visible,t.mFormJustAppeared=!0;for(var s=0;s<e.controls.length;++s){var i=this.getObjectFromContext(t,e.controls[s]);i&&(i.elem.setAttribute("data-visible",e.visible?1:0),i.visibilityChanged())}}finally{_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.mDesignCanChangeVis=!1,t.mFormJustAppeared=!1}},cDMorderChanged:function(e,t){var s=this.getObjectFromContext(t,e.context);if(s){t.mNewOrder||(t.mNewOrder={containers:[]});var i=t.mNewOrder.containers;s.objNumber=e.order;var n=s.parentCtrl;n||(n=t),-1==i.indexOf(n)&&i.push(n)}},cDMreload:function(e,t){e.newLayoutBreakpoint&&(_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.mDesign=e.newLayoutBreakpoint),_omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.reload(e.theme,e.gradient)},cDMsetAllPanesList:function(e,t){var s=this.getObjectFromContext(t,e.context);s&&s.newAllPanesList(e.oldAllPanes,e.oldSourcePages,e.newAllPanes)},cDMshowTrackingLine:function(e,t){var s=this.getObjectFromContext(t,e.context);if(s){var i=s.mTrackingLineDiv;i||((i=document.createElement("DIV")).className=e.vert?"omnis-db-vert":"omnis-db-horz",s.clientElem.appendChild(i)),i.style.position="absolute",i.style.left=e.left+"px",i.style.top=e.top+"px",i.style.width=e.width+"px",i.style.height=e.height+"px",s.mTrackingLineDiv=i}},cDMhideTrackingLine:function(e,t){var s=this.getObjectFromContext(t,e.context);s&&s.mTrackingLineDiv&&(s.mTrackingLineDiv.parentNode.removeChild(s.mTrackingLineDiv),s.mTrackingLineDiv=null)},cDMshowPropertyValueText:function(e,t){var s=this.getObjectFromContext(t,e.context);if(s)if(e.text&&e.text.length){var i=s.propertyValueDiv||document.createElement("DIV");i.textContent=e.text,s.propertyValueDiv||(i.className="omnis-design-prop",s.elem.appendChild(i),s.propertyValueDiv=i)}else this.removePropertyValueDiv(s)},cDMremovePropertyValueText:function(e,t){this.removePropertyValueDiv(t)},cDMdeleteControl:function(e,t){var s=this.getObjectFromContext(t,e.context);s&&t.deleteControl(null,s)}};function gBeforeUnload(e){return _omnis__WEBPACK_IMPORTED_MODULE_25__.yZ.beforeUnload}},5459:function(e,t,s){"use strict";s.d(t,{Kv:function(){return b},$r:function(){return O},Pw:function(){return g},CQ:function(){return _},Y6:function(){return f},CK:function(){return y},SA:function(){return v},mB:function(){return P},zl:function(){return M},H_:function(){return w},Si:function(){return S},tm:function(){return E},PP:function(){return C}});s(2526),s(1817),s(2165),s(2222),s(7327),s(9826),s(4553),s(9554),s(1038),s(2772),s(6992),s(4986),s(1249),s(7042),s(561),s(6977),s(7941),s(1539),s(8674),s(4603),s(9714),s(189),s(8783),s(5306),s(3123),s(6755),s(8921),s(6248),s(3599),s(1477),s(4362),s(5389),s(401),s(5164),s(1238),s(4837),s(7485),s(465),s(6651),s(1437),s(5285),s(9865),s(4747),s(3948);!function(e){var t;if(!((t=window)&&t.document&&t.location&&t.alert&&t.setInterval))throw"The current version of Pollymer may only be used within the context of a browser.";var i=void 0!==window.console;"function"==typeof define&&s.amdO?define(["exports"],(function(t){e(t,window,i)})):e(window.Pollymer={},window,i)}((function(e,t,s){var i,n,r=function(){};s?(i=t.console.info?function(e){t.console.info(e)}:function(e){t.console.log(e)},n=t.console.error?function(e){t.console.error(e)}:function(e){t.console.log(e)}):(i=r,n=r);var o=function(e){var t=Array.prototype.slice.call(arguments,1);return Array.prototype.slice.apply(e,t)},a=function(e,t){for(var s=0,i=e.length;s<i;s++)if(e[s]===t)return s;return-1},l=function(e,t){for(var s=!0;s;){var i=a(e,t);-1!=i?e.splice(i,1):s=!1}},h="withCredentials"in new t.XMLHttpRequest,c=function(e,s){var i;if(e==d.Auto)i=h||function(e){var s=t.location,i=t.document.createElement("a");return i.href=e,!i.hostname||i.hostname==s.hostname&&i.port==s.port&&i.protocol==s.protocol}(s)?d.Xhr:d.Jsonp;else switch(e){case d.Xhr:i=d.Xhr;break;case d.Jsonp:i=d.Jsonp;break;default:i=null}return i},u=function(){this._events={}};u.prototype._getHandlersForType=function(e){return e in this._events||(this._events[e]=[]),this._events[e]},u.prototype.on=function(e,t){this._getHandlersForType(e).push(t)},u.prototype.off=function(e){if(arguments.length>1){var t=arguments[1],s=this._getHandlersForType(e);l(s,t)}else delete this._events[e]},u.prototype.trigger=function(e,t){for(var s=o(arguments,2),i=o(this._getHandlersForType(e)),n=0,r=i.length;n<r;n++){var a=i[n];a.apply(t,s)}};var m={TransportError:0,TimeoutError:1},d={Auto:0,Xhr:1,Jsonp:2},p=function e(){if(!(this instanceof e))throw new t.Error("Constructor called as a function");if(this._events=new u,this._tries=0,this._delayNext=!1,this._retryTime=0,this._timer=null,this._jsonp=null,this._xhr=null,this._method=null,this._url=null,this._headers=null,this._body=null,this._transport=null,this.transport=d.Auto,this.rawResponse=!1,this.maxTries=1,this.maxDelay=1e3,this.recurring=!1,this.withCredentials=!1,this.timeout=6e4,this.errorCodes="500-599",this.lastRequest=null,arguments.length>0){var s=arguments[0];"transport"in s&&(this.transport=s.transport),"rawResponse"in s&&(this.rawResponse=s.rawResponse),"maxTries"in s&&(this.maxTries=s.maxTries),"maxDelay"in s&&(this.maxDelay=s.maxDelay),"recurring"in s&&(this.recurring=s.recurring),"withCredentials"in s&&(this.withCredentials=s.withCredentials),"timeout"in s&&(this.timeout=s.timeout),"errorCodes"in s&&(this.errorCodes=s.errorCodes)}};p.prototype.start=function(e,t,s,i){null==this._timer?(this._method=e,this._url=t,this._headers=s,this._body=i,this._start()):n("pollymer: start() called on a Request object that is currently running.")},p.prototype._start=function(){var e;this._tries=0,this._delayNext?(this._delayNext=!1,e=Math.floor(Math.random()*this.maxDelay),i("pollymer: polling again in "+e+"ms")):e=0,this._initiate(e)},p.prototype.retry=function(){0!=this._tries?null==this._timer?this._retry():n("pollymer: retry() called on a Request object that is currently running."):n("pollymer: retry() called on a Request object that has never been started.")},p.prototype._retry=function(){1===this._tries?this._retryTime=1:this._tries<8&&(this._retryTime=2*this._retryTime);var e=1e3*this._retryTime;e+=Math.floor(Math.random()*this.maxDelay),i("pollymer: trying again in "+e+"ms"),this._initiate(e)},p.prototype._initiate=function(e){var s=this;s.lastRequest=null,s._timer=t.setTimeout((function(){s._startConnect()}),e)},p.prototype._startConnect=function(){var e=this;this._timer=t.setTimeout((function(){e._timeout()}),this.timeout),this._tries++;var s=this._method,r="function"==typeof this._url?this._url():this._url,o=this._headers,a=this._body;switch(this._transport=c(this.transport,r),e.lastRequest={method:s,uri:r,headers:o,body:a,transport:this._transport},this._transport){case d.Xhr:i("pollymer: Using XHR transport."),this._xhr=this._startXhr(s,r,o,a);break;case d.Jsonp:i("pollymer: Using JSONP transport."),this._jsonp=this._startJsonp(s,r,o,a);break;default:n("pollymer: Invalid transport.")}},p.prototype._cleanupConnect=function(e){switch(t.clearTimeout(this._timer),this._timer=null,this._transport){case d.Xhr:i("pollymer: XHR cleanup"),this._cleanupXhr(this._xhr,e),this._xhr=null;break;case d.Jsonp:i("pollymer: json-p "+this._jsonp.id+" cleanup"),this._cleanupJsonp(this._jsonp,e),this._jsonp=null}},p.prototype.abort=function(){this._cleanupConnect(!0)},p.prototype.on=function(e,t){this._events.on(e,t)},p.prototype.off=function(e){var t=o(arguments,1);t.unshift(e),this._events.off.apply(this._events,t)},p.prototype._startXhr=function(e,s,n,r){var o=new t.XMLHttpRequest;this.withCredentials&&h&&(o.withCredentials=!0);var a=this;for(var l in o.onreadystatechange=function(){a._xhrCallback()},o.open(e,s,!0),n)n.hasOwnProperty(l)&&o.setRequestHeader(l,n[l]);return o.send(r),i("pollymer: XHR start "+s),o},p.prototype._cleanupXhr=function(e,t){null!=e&&(e.onreadystatechange=r,t&&e.abort())},p.prototype._xhrCallback=function(){var e=this._xhr;if(null!=e&&4===e.readyState){i("pollymer: XHR finished");var t=e.status,s=e.statusText,n=function(e){var t={};if(!e)return t;for(var s=e.split("\r\n"),i=0;i<s.length;i++){var n=s[i];"\n"==n[0]&&(n=n.substring(1));var r=n.indexOf(": ");r>0&&(t[n.substring(0,r)]=n.substring(r+2))}return t}(e.getAllResponseHeaders()),r=e.responseText;this._handleResponse(t,s,n,r)}},p.prototype._jsonpGuid="D3DDFE2A-6E6D-47A7-8F3B-0A4A8E71A796",p.prototype._getJsonpCallbacks=function(){return this._jsonpGuid in t||(t[this._jsonpGuid]={id:0,requests:{},getJsonpCallback:function(e){var t,s=this.requests;return e in this.requests?t=function(t){s[e]._jsonpCallback(t)}:(i("no callback with id "+e),t=r),t},addJsonpCallback:function(e,t){this.requests[e]=t},removeJsonpCallback:function(e){delete this.requests[e]},newCallbackInfo:function(){var e={id:"cb-"+this.id,scriptId:"pd-jsonp-script-"+this.id};return this.id++,e}}),t[this._jsonpGuid]},p.prototype._startJsonp=function(e,s,n,r){var o=this._getJsonpCallbacks(),a=o.newCallbackInfo(),l=["callback="+encodeURIComponent('window["'+this._jsonpGuid+'"].getJsonpCallback("'+a.id+'")')];"GET"!=e&&l.push("_method="+encodeURIComponent(e)),n&&l.push("_headers="+encodeURIComponent(JSON.stringify(n))),r&&l.push("_body="+encodeURIComponent(r));var h=l.join("&"),c=-1!=s.indexOf("?")?s+"&"+h:s+"?"+h;return o.addJsonpCallback(a.id,this),function(e,s){var i=t.document.createElement("script");i.type="text/javascript",i.id=s,i.src=e,t.document.getElementsByTagName("head")[0].appendChild(i)}(c,a.scriptId),i("pollymer: json-p start "+a.id+" "+c),a},p.prototype._cleanupJsonp=function(e,s){var i,n,r=this._getJsonpCallbacks();null!=e&&(r.removeJsonpCallback(e.id),i=e.scriptId,(n=t.document.getElementById(i)).parentNode.removeChild(n))},p.prototype._jsonpCallback=function(e){i("pollymer: json-p "+this._jsonp.id+" finished");var t="code"in e?e.code:0,s="reason"in e?e.reason:null,n="headers"in e?e.headers:{},r="body"in e?e.body:null;this._handleResponse(t,s,n,r)},p.prototype._handleResponse=function(e,t,s,i){if(this._cleanupConnect(),(0==e||function(e,t){for(var s=e.split(","),i=0;i<s.length;i++){var n=s[i],r=n.indexOf("-");if(r>=0){var o=parseInt(n.substring(0,r),10),a=parseInt(n.substring(r+1),10);if(t>=o&&t<=a)return!0}else if(t==parseInt(n,10))return!0}return!1}(this.errorCodes,e))&&(-1==this.maxTries||this._tries<this.maxTries))this._retry();else if(e>0){var n;if(this.rawResponse)n=i;else try{n=JSON.parse(i)}catch(e){n=i}this._finished(e,n,s),this.recurring&&e>=200&&e<300&&this._start()}else this._error(m.TransportError)},p.prototype._timeout=function(){this._cleanupConnect(!0),-1==this.maxTries||this._tries<this.maxTries?this._retry():this._error(m.TimeoutError)},p.prototype._finished=function(e,t,s){this._delayNext=!0,this._events.trigger("finished",this,e,t,s)},p.prototype._error=function(e){this._delayNext=!0,this._events.trigger("error",this,e)},e.Request=p,e.TransportTypes=d,e.ErrorTypes=m}));var i=s(1341),n=s(6798),r=s(5315),o=s(6056),a=s(5304);function l(e,t){this.backupStore=t||{},this.inst=e}function h(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);"Object"===s&&e.constructor&&(s=e.constructor.name);if("Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,i=new Array(t);s<t;s++)i[s]=e[s];return i}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}l.prototype.setItem=function(e,t,s){var i;try{var n;return localStorage.setItem(e,t),void(null===(n=this.inst.cacheLogger)||void 0===n||n.addLogEntry(e,this.inst.cacheLogger.ACTIONS.ADD_TO_CACHE))}catch(t){var r;if(console.warn("Unable to store '".concat(e,"' in localStorage - it is probably full.")),s)throw null===(r=this.inst.cacheLogger)||void 0===r||r.addLogEntry(e,this.inst.cacheLogger.ACTIONS.FAILED_TO_CACHE),t}this.backupStore[e]=t,null===(i=this.inst.cacheLogger)||void 0===i||i.addLogEntry(e,this.inst.cacheLogger.ACTIONS.ADD_TO_MEMORY_CACHE)},l.prototype.getItem=function(e,t){var s,i,n=null;try{n=localStorage.getItem(e)}catch(e){}return null!==n||t?(null===(i=this.inst.cacheLogger)||void 0===i||i.addLogEntry(e,null===n?this.inst.cacheLogger.ACTIONS.FAILED_TO_READ:this.inst.cacheLogger.ACTIONS.READ_FROM_CACHE),n):(n=this.backupStore[e],null===(s=this.inst.cacheLogger)||void 0===s||s.addLogEntry(e,void 0===n?this.inst.cacheLogger.ACTIONS.FAILED_TO_READ:this.inst.cacheLogger.ACTIONS.READ_FROM_MEMORY_CACHE),n)},l.prototype.removeItem=function(e){var t;try{localStorage.removeItem(e)}catch(e){}delete this.backupStore[e],null===(t=this.inst.cacheLogger)||void 0===t||t.addLogEntry(e,this.inst.cacheLogger.ACTIONS.REMOVED_FROM_CACHE)};var m={yesnomessage:1,noyesmessage:2,okcancelmessage:3,soundbell:4,savepreference:5,loadpreference:6,javamessage:8,playsound:9,setcustomformat:10,lockui:11,subformset_add:12,subformset_remove:13,subformset_formadd:14,subformset_formremove:15,subformset_formtofront:16,showpdf:17,assignpdf:18,clearerrors:19,openpush:20,closepush:21,readfile:22,closefile:23,showloadingoverlay:24,enablepushnotifications:25,speakmessage:26,showtoast:27,subformdialogshow:28,subformdialogclose:29,setlocale:30,clearlocale:31,settheme:32},d=1;function p(e){var t=!1;try{t=new XMLHttpRequest}catch(e){try{t=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{t=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){t=!1}}}return t||n.yZ.okMessage((0,r.j3)(e,"error"),(0,r.j3)(e,"omn_inst_xmlhttp")),t}var _={None:0,Connect:1,RConnect:2,Disconnect:3,RDisconnect:4,Event:5,REvent:6,ReConnect:9,RReConnect:10,Method:11,MethodWithReturn:1011,RMethod:12,OpenAnotherForm:19,ROpenAnotherForm:20,OpenSubform:21,ROpenSubform:22,CloseSubform:23,RCloseSubform:24,BulkLoad:47,RBulkLoad:48,ClientSuspended:70,ClientResumed:71,RClientResumed:72,ErrorDisconnected:94,Error:99,ChangeForm:107},f={ConnectionID:1,Version:2,ConnectionParam:3,OpenForm:4,SubForm:5,InstanceVars:6,Bitmaps:7,Fonts:8,Styles:9,SetProperty:10,Redraw:11,EvBefore:12,EvAfter:13,EvGoto:14,EvNoAction:15,EvCustom:16,EvCustomR:17,SetInstVar:18,SetInstVarSel:19,ShowMessage:20,RedirectClient:21,Method:22,RMethod:23,ChangeForm:24,ControlDownloadList:29,SetInstVarSelState:32,SetInstVarCurSelState:33,MakeFormCurrent:34,OpenNamedForm:35,CloseForm:36,DesignDPI:39,CloseURL:40,OpeningContextMenu:41,SetFormMenus:42,ClientCommand:43,SetInstVarSelStateOnly:44,StringTables:45,SetInstVarColumn:46,SetInstVarSelStateAll:47,SetInstVarEmpty:48,ClientInfo:49,ClosedSubform:50,SFSmember:51,AddControl:52,StringTableVar:53,BulkLoad:54,CachedDataId:55,SetInstVarNestedCell:56,ClearExceptions:57,DeleteControl:58,OmnisClientID:59,RClientResumed:60,SuspendCondition:61,SuspendConditionsChanged:62,SessionID:63},g={Param:0,DataIndex:1,DataRow:2,Data:3,SelStateOrListRow:4,Column:5},y={standard:0,x15:1,retina:2,count:3};C.eTaskSuspendConditions={Cached:1,Inactive:2};var v,b=20,D=1;function C(e,t,s,i,r){this.index=e,this.elem=t,this.screenSizeOption=s,this.forms=[],this.visibleForm=-1,this.mNextVisOrder=0,this.inRequest=!1,this.inRequestForm=-1,this.lastMessage=_.None,this.commsParams=[],this.designReplace=r,this.coreLocalStorage=new l(this),this.omnislib="",this.url="",this.omnisserverandport="",this.connIndex=-1,this.connID=-1,this.messageQueue=[],this.clientScripts=[],this.libraryStyles={},this.mSFS={},this.mAnimationTimersRunning=0,this.mMessageSequenceNumber=1,this.commsTimeout=i?1*i:0,this.commsTimeout<0&&(this.commsTimeout=0),this.lastPushReceived=0,this.mNoOverlay=!1,this.restrictClassCaching(),this.liveRegion=this.createLiveRegion(),this.elem.appendChild(this.liveRegion),this.openedBrowserWindows={},this.theme=a.Q2.CreateInstance(),this.defaultTheme=t.getAttribute(a.O6),this.appID=t.getAttribute("data-appid"),this.mCanLayout=!n.yZ.mDesign,this.offlinemode="1"===t.getAttribute("data-offlinemode"),this.mustSendSyncDisconnect=n.yZ.inSafari()&&n.yZ.safariVersion()<12.1}function O(e){var t=JSON.parse(e);new Function("arg1",t.retID)(e)}function E(){this.mDragBorderObjects=[]}function S(e,t){this.mObj=e,this.mType=t;var s=document.createElement("DIV");s.style.position="absolute";var i=t==eBaseProperties.width||t==eBaseProperties.left;switch(s.className=i?"omnis-db-vert":"omnis-db-horz",e.elem.appendChild(s),this.resizeAreaSize=n.yZ.getStyle(s,i?"width":"height",!0),t){case eBaseProperties.height:s.style.left=0,s.style.width=n.yZ.getOmnisWidth(e.elem)+"px",s.style.bottom="0%",s.style.cursor="s-resize";break;case eBaseProperties.top:s.style.left=0,s.style.width=n.yZ.getOmnisWidth(e.elem)+"px",s.style.top=0,s.style.cursor="n-resize";break;case eBaseProperties.width:s.style.top=0,s.style.height=n.yZ.getOmnisHeight(e.elem)+"px",s.style.right="0%",s.style.cursor="e-resize";break;case eBaseProperties.left:s.style.top=0,s.style.height=n.yZ.getOmnisHeight(e.elem)+"px",s.style.left=0,s.style.cursor="w-resize"}n.yZ.touchDevice&&(s.ontouchstart=P),s.onmousedown=P,s.omnisDragBorder=this,s.tabIndex=-1,this.mDragBorderDiv=s}function P(e){var t=e.target;if(null==t)return!0;var s=t.omnisDragBorder;return null==s||(s.mouseDown(e),!1)}function M(e){return v.mouseMove(e)}function w(e){return v.mouseUp(e)}C.prototype.commsParamsClear=function(e){var t,s;return e&&(s=null===(t=this.commsParams)||void 0===t?void 0:t.slice()),this.commsParams=[],s||[]},C.prototype.commsParamsAdd=function(e,t,s,i,n,r,o){this.commsParams[this.commsParams.length]=[e,t,s,i,n,r,o]},C.prototype.commsParamsAddConnectionID=function(e){e=n.yZ.defaultParameter(e,this.visibleForm);var t=this.formGet(e);this.commsParams[this.commsParams.length]=[f.ConnectionID,this.connIndex,this.connID,t?t.number:0,n.yZ.version,0,this.mMessageSequenceNumber,this.creationTime,this.mSessionID],2147483647==this.mMessageSequenceNumber?this.mMessageSequenceNumber=1:++this.mMessageSequenceNumber},C.prototype.commsParamsAddConnectionParams=function(e,t,s){if(this.formGet(e)){this.commsParamsAdd(f.ConnectionParam,"OmnisLibrary",this.omnislib),this.commsParamsAdd(f.ConnectionParam,"OmnisClass",t),this.commsParamsAdd(f.ConnectionParam,"OmnisPlatform","JSU"),this.addScreenSizeParameters();var i,r=new Date;if(this.commsParamsAdd(f.ConnectionParam,"JStimezoneOffset",-r.getTimezoneOffset()),this.commsParamsAdd(f.ConnectionParam,"ClientLocale",n.yZ.getClientLocale()),n.yZ.mDeviceId.length>0)this.commsParamsAdd(f.ConnectionParam,"DeviceId",n.yZ.mDeviceId),(null===(i=window.wrapperInterface)||void 0===i?void 0:i.hasFeature(eWrapperFeature.DEVICE_SECURE))&&this.commsParamsAdd(f.ConnectionParam,"DeviceSecure",wrapperInterface.getDeviceSecure());if(s){var o=t.indexOf(".");if(-1!=o)return this.addVersionParameter(t.substr(0,o),t.substr(o+1))}return this.addVersionParameter(this.omnislib,t)}return null},C.prototype.addVersionParameter=function(e,t,s){var i,n,r,o={};if(this.libraryStyles[e])i="-";else if(this.canCacheClass(e+".#STYLES"))try{o.styles=this.coreLocalStorage.getItem(e+".#STYLES"),o.styles&&(i=o.styles.substr(0,b))}catch(e){}try{var a=e+"."+t;o.omnislib=e,o.omnisclass=t,this.canCacheClass(a)&&(o.form=this.coreLocalStorage.getItem(a),o.strings=this.coreLocalStorage.getItem(a+"~strings"),s&&(o.tstrings=this.coreLocalStorage.getItem(a+"~tstrings")),o.menus=this.coreLocalStorage.getItem(a+"~menus"),o.ivarDefs=this.coreLocalStorage.getItem(a+"~defs"),o.form&&null!=o.strings&&null!=o.menus&&null!=o.ivarDefs&&(n=o.form.substr(0,b)),o.tstrings&&(r=o.tstrings.substr(0,b)))}catch(e){}return(i||n||r)&&this.commsParamsAdd(f.Version,i,n,r),o},C.prototype.commsParamsAddInstanceVars=function(e){if(this.formGet(e))for(var t=0;t<this.forms.length;t++){var s=this.forms[t];if(s)for(;s.instanceVarsChanges.length;){var i=s.instanceVarsChanges.shift();this.commsParamsAdd(i[g.Param],s.number,i[g.DataIndex],i[g.Data],i[g.SelStateOrListRow],i[g.Column])}}},C.prototype.commsParamsToText=function(e){var t;this.mBulkSubformLoad?t=[f.BulkLoad,{lstRow:0,lstDef:[],lstData:this.commsParams,lstLSEL:[],lstL:0}]:(t={},""!=this.omnisserverandport&&(t.OMNISServer=this.omnisserverandport+""),t.ORFCMess=e==_.MethodWithReturn?_.Method:e,t.ORFCParam=this.commsParams);var s=JSON.stringify(t,(function(e,t){if(!(e.length>2&&e.startsWith("__")))return t}));return t=null,-1!=s.indexOf("\\")&&(s=s.replace(/\\./g,(function(e){return"\\n"==e?"\\r":e}))),s},C.prototype.commsParamsExec=function(e,t){var s=this.formGet(e);if(s){this.mCanBulkLoad=!0;var i,r,o,a,l,h,c=!0,m=0,d=0,p=0,g=null,y=null;for(this.deferredEventToSend=null,this.deferredEventSender=null,this.startRecordingUpdates(),this.firstChild=null;this.commsParams.length;){var v=this.commsParams.shift();switch(v[0]){case f.ConnectionID:this.connIndex=v[1],this.connID=v[2],this.creationTime=v[3];var D=v[5];this.designServer=0!=(32&D),n.yZ.useLocalTime=0!=(128&D),this.taskStrings=0!=(256&D),this.canPersist=0!=(512&D),this.alwaysSecure||(this.isSecure=0!=(64&D),this.isSecure&&-1!=this.url.toLowerCase().indexOf("http://")?this.url=this.url.replace(/http:\/\//gi,"https://"):this.isSecure||-1==this.url.toLowerCase().indexOf("https://")||(this.url=this.url.replace(/https:\/\//gi,"http://"))),this.mLocale=n.yZ.getPreferredClientLocale(),this.mLocale||(null!=(g=v[6])&&0!=g||(g=n.yZ.getClientLocale()),this.mLocale=g);var C=v[4];"object"==u(C)&&(Date.setStrings(C),n.yZ.setYesNoOkCancel(C.lstData[15])),this.suspendConditions=v[7],null!=this.mRepushURI&&(this.openPush(this.mRepushURI,!0,this.mRepushMaxPollDelay),this.mRepushURI=null);break;case f.OmnisClientID:this.coreLocalStorage.setItem("__OMNISCLIENTID",v[1]);break;case f.SessionID:this.lastMessage==_.Connect&&(this.mSessionID=v[1]);break;case f.RClientResumed:1===v[1]&&(this.suspended=!1);break;case f.SuspendConditionsChanged:this.suspendConditions=v[1];break;case f.Version:i=v[1],r=v[2],o=v[3],this.taskStrings&&(a=v[4]);break;case f.StringTableVar:h=v[1];break;case f.StringTables:y=v[1];break;case f.OpenForm:var O=v[2],E=v[6],S=v[4];if(1!=this.offlinemode){var P=this.cachedData.omnislib+"."+this.cachedData.omnisclass,M=this.canCacheClass(P);if(r&&O&&O.length>0){var w=this.bulkLoadAltCache||this.coreLocalStorage;if(M||this.bulkLoadAltCache)try{var L=w===this.coreLocalStorage;this.taskStrings||w.setItem(P+"~strings",JSON.stringify(y),L),w.setItem(P+"~menus",JSON.stringify(E),L),w.setItem(P+"~defs",JSON.stringify(S),L),w.setItem(P,r+O,L)}catch(e){try{w.removeItem(P+"~strings"),w.removeItem(P+"~menus"),w.removeItem(P+"~defs"),w.removeItem(P)}catch(e){}}}else(M||this.bulkLoadAltCache&&this.lastMessage===_.BulkLoad)&&(this.lastMessage===_.BulkLoad?(O=this.bulkLoadAltCache.getItem(P).substr(b),E=JSON.parse(this.bulkLoadAltCache.getItem(P+"~menus")),this.taskStrings||(y=JSON.parse(this.bulkLoadAltCache.getItem(P+"~strings"))),S=JSON.parse(this.bulkLoadAltCache.getItem(P+"~defs"))):(O=this.cachedData.form.substr(b),E=JSON.parse(this.cachedData.menus),this.taskStrings||(y=JSON.parse(this.cachedData.strings)),S=JSON.parse(this.cachedData.ivarDefs)));if(null==g&&(g=this.mLocale),h&&this.lastMessage==_.Connect)this.taskStringTable=new omnis_locale(h,g);else if(this.taskStrings&&this.lastMessage==_.Connect){if(a&&null!=y){if(this.taskStringTable=y,M)try{this.coreLocalStorage.setItem(this.cachedData.omnislib+"."+this.cachedData.omnisclass+"~tstrings",a+JSON.stringify(y),!0)}catch(e){}}else this.taskStringTable=this.cachedData.tstrings.substr(b);this.taskStringTable=new omnis_locale(this.taskStringTable,g),y=null}}else y&&(this.taskStringTable=y,this.taskStringTable=new omnis_locale(this.taskStringTable,g),y=null);var T={formNumber:v[1],formClassData:O,formInstanceVarsData:v[3],formInstanceVarsDef:S,formClassName:v[5],formMenus:E,formStringTable:y,formLocale:g,formScript:o};this.cachedData=null,0!=p&&p==v[1]?this.commsParamsExecOpenSubform(m,d,e,T):this.commsParamsExecOpenForm(e,T);break;case f.SubForm:if(d&&(this.stopRecordingAndApplyUpdates(),this.startRecordingUpdates()),m=v[1],d=v[2],p=v[3],this.mSfCreateInfo&&v[6]){var I=this.mSfCreateInfo[v[6]];if(I&&(this.cachedData=I.cachedData,delete this.mSfCreateInfo[v[6]],I.newFormElem&&I.newFormName)){var R=this.omnislib,A=I.newFormName.indexOf(".");-1!=A&&(R=I.newFormName.substr(0,A),I.newFormName=I.newFormName.substr(A+1)),e=this.formAdd(I.newFormElem,R,I.newFormName),s&&l&&(s.setTabOrder(),l=!1),s=this.formGet(e)}}break;case f.Styles:v[1]&&this.cacheLogger&&this.cacheLogger.addLogEntry(this.cachedData.omnislib+".#STYLES",this.cacheLogger.ACTIONS.GOT_FROM_SERVER),s.setOmnisStyles(v[1],i,this.cachedData.styles);break;case f.InstanceVars:this.commsParamsExecInstanceVars(e,v[1],v[2]);break;case f.SetProperty:var x=v[3];isNaN(x)||(x*=-1),this.commsParamsExecSetProperty(e,v[1],v[2],x,v[4],v[5]);break;case f.EvGoto:this.commsParamsExecEvGoto(e,v[1],v[2],v[3],v[5]);break;case f.OpeningContextMenu:jOmnisMenuHandler.handleEventResultParams(f.OpeningContextMenu,v[1],v[2],v[3]);break;case f.EvCustomR:var j=v[3];isNaN(j)||(j*=-1),this.commsParamsExecEvCustomR(e,v[1],v[2],j,v[4]);break;case f.RMethod:if(v[4]&&v[4].lstData&&v[4].lstData.length>0){var k=v[4].lstData[0];k.length>0&&(this.serverReturnValue=k[0])}break;case f.SetInstVar:this.commsParamsExecSetInstVar(e,v[1],v[2],v[3],v[4]);break;case f.SetInstVarEmpty:v[3]==eOmnisDataTypes.fftCharacter&&this.commsParamsExecSetInstVar(e,v[1],v[2],"",v[4]);break;case f.SetInstVarSel:this.commsParamsExecSetListCurline(e,v[1],v[2],v[3]);break;case f.SetInstVarSelStateAll:this.commsParamsExecSetListSelection(e,v[1],v[2],v[3]);break;case f.ShowMessage:this.commsParamsExecShowMessage(e,v[1],v[2]);break;case f.RedirectClient:this.commsParamsExecRedirectClient(v[1],v[2]||"",v[3]||"",v[4]);break;case f.CloseURL:s.$closeurl(v[1]);break;case f.ClientCommand:this.commsParamsClientCommand(e,v[1],v[2],v[3],v[4],v[5]);break;case f.ChangeForm:this.sendOpenForm(e,v[1],_.ReConnect);break;case f.MakeFormCurrent:this.commsParamsExecMakeFormCurrent(e,1*v[1]);break;case f.OpenNamedForm:var B=[].concat(this.commsParams);this.sendOpenForm(e,v[1],_.OpenAnotherForm),this.commsParams=B;break;case f.CloseForm:this.stopRecordingAndApplyUpdates(),this.commsParamsExecCloseForm(e,v[1]),this.startRecordingUpdates();break;case f.SetFormMenus:jOmnisMenuHandler.mergeMenus(s.ident,v[3]);break;case f.ClosedSubform:this.subformClosed(e,v[3]);break;case f.AddControl:var F=v[3].lstData;(null!=F[8]?this.commsParamsExecGetForm(F[8],f.AddControl,!1):s).addControl(v[3]),l=!0;break;case f.ClearExceptions:this.commsParamsExecClearExceptions(e,v[1],v[2],v[3]);break;case f.DeleteControl:this.commsParamsExecGetForm(v[3]).deleteControl(v[4]),l=!0;break;default:c=!1}}if(this.lastMessage==_.RReConnect&&(this.mRepushURI=null),this.stopRecordingAndApplyUpdates(),this.lastMessage==_.MethodWithReturn)if(null!=this.returnValueMethod){if(this.inRequest=!1,this.returnValueObjNumber){var W=s.findChild(this.returnValueObjNumber);if(W&&n.yZ.getMethod(W,this.returnValueMethod,-1)){W.callMethodEx(this.returnValueMethod,eDoMethodFlags.clientOnly|eDoMethodFlags.noOverlay,this.serverReturnValue);var N=!0}}N||s.callMethodEx(this.returnValueMethod,eDoMethodFlags.clientOnly|eDoMethodFlags.noOverlay,this.serverReturnValue),this.inRequest||(this.inRequest=!0,n.yZ.hideOverlay(!0),this.returnValueMethod=null)}else n.yZ.hideOverlay(!0);else this.designReplace&&this.afterDesignReload();if(this.serverReturnValue=null,l&&s.setTabOrder(),this.firstChild&&!n.yZ.mDesign){if(this.firstChild.canFocus())if(this.mAnimationTimersRunning>0)this.deferredFocusElem=this.firstChild;else{var U=this;this.deferFormInit=!0,setTimeout((function(){U.firstChild.focus(),U.deferFormInit=!1}),0)}s.subFormObj&&s.subFormObj.mSFS&&s.subFormObj.mSFS.isSubformOpen(s)&&!document.activeElement.closest("#"+this.firstChild.elem.id)&&s.subFormObj.clientElem.focus()}if(this.sendDeferredEvent(),this.mCanBulkLoad=!1,!t){for(var K=0;K<this.messageQueue.length;++K)if(this.messageQueue[K].message==_.BulkLoad){t=!0;break}t||(this.mSfCreateInfo={})}return this.startBulkLoad(e),c}return this.commsParamsClear(),!1},C.prototype.sendDeferredEvent=function(){null!=this.deferredEventToSend&&null!=this.deferredEventSender&&(this.deferredEventSender.sendEvent(this.deferredEventToSend),this.deferredEventToSend=null,this.deferredEventSender=null)},C.prototype.startRecordingUpdates=function(e){this.registeredPropertyObjects=[],this.recordUpdates=e||this.lastMessage==_.Event||this.lastMessage==_.MethodWithReturn||this.lastMessage==_.Method,this.updatesRequired=[],this.layoutComponents=[],n.yZ.mDeferApplyStyles=!0},C.prototype.stopRecordingAndApplyUpdates=function(e){for(var t=0;t<this.registeredPropertyObjects.length;++t)this.registeredPropertyObjects[t].applyPropertyChanges();for(this.registeredPropertyObjects=[],this.recordUpdates=!1,t=0;t<this.updatesRequired.length;++t){var s=this.updatesRequired[t];s.ctrl.update(s.what,s.row,s.col,!0)}this.doLayoutComponents(),n.yZ.mDeferApplyStyles=!1,n.yZ.applyStyles(),e&&this.sendDeferredEvent()},C.prototype.pushLayout=function(e){for(var t=0;t<this.layoutComponents.length;++t){var s=this.layoutComponents[t];if(s.ctrl==e.ctrl&&s.comps==e.comps&&s.elem==e.elem&&s.page==e.page)return}this.layoutComponents.push(e)},C.prototype.doLayoutComponents=function(e){function t(e,t,s){var i=e.getCoordProperty(eBaseProperties.height);if(-1==t.ht||!e.getDragBorder(e.form.curScreenSize))return i;if(i>4){var n=i-4>=t.ht?t.ht:i-4;i-=n,s&&(e.mInLayout=!0),e.setProperty(eBaseProperties.height,i),s&&(e.mInLayout=!1),t.ht-=n,0==t.ht&&(t.ht=-1)}return i}function s(e,t,s){var i=e.getCoordProperty(eBaseProperties.width);if(-1==t.wid||!e.getDragBorder(e.form.curScreenSize))return i;if(i>4){var n=i-4>=t.wid?t.wid:i-4;i-=n,s&&(e.mInLayout=!0),e.setProperty(eBaseProperties.width,i),s&&(e.mInLayout=!1),t.wid-=n,0==t.wid&&(t.wid=-1)}return i}for(;this.layoutComponents.length>0;){var i,r=this.layoutComponents.pop(),o=r.ctrl,a=r.comps,l=r.elem,h=n.yZ.getOmnisWidth(l,!0),c=n.yZ.getOmnisHeight(l,!0),u=0,m=0;for(var d in a)if(i=a[d],n.yZ.getObjectVisible(i.elem))switch(1*d){case WND_WC_MENUBAR:case WND_WC_TOOLBAR_TOP:case WND_WC_STATUSBAR:case WND_WC_TOOLBAR_BOTTOM:case WND_WC_MAIN_HEADER:case WND_WC_HORZ_HEADER:case WND_WC_HORZ_FOOTER:m+=i.getCoordProperty(eBaseProperties.height);break;case WND_WC_TOOLBAR_LEFT:case WND_WC_TOOLBAR_RIGHT:case WND_WC_VERT_HEADER:u+=i.getCoordProperty(eBaseProperties.width)}var p,_={ht:m=m>c?m-c+4:-1,wid:u=u>h?u-h+4:-1};o.removeDragBorderObjects(r,e),(this.mCanLayout||o.inhLevel)&&o instanceof ctrl_pagedpane&&(p=l.style.overflow,l.style.overflow="hidden");var f=0,g=c,y=0,v=h;(i=a[WND_WC_MENUBAR])&&n.yZ.getObjectVisible(i.elem)&&((this.mCanLayout||i.inhLevel)&&(i.mInLayout=!0,i.setProperty(eBaseProperties.left,0),i.setProperty(eBaseProperties.top,0),i.setProperty(eBaseProperties.width,h),f=t(i,_),i.mInLayout=!1),i.getDragBorder(i.form.curScreenSize)&&e!=WND_WC_MENUBAR&&o.addDragBorderObject(r,i,eBaseProperties.height)),(i=a[WND_WC_TOOLBAR_TOP])&&n.yZ.getObjectVisible(i.elem)&&((this.mCanLayout||i.inhLevel)&&(i.mInLayout=!0,i.setProperty(eBaseProperties.left,0),i.setProperty(eBaseProperties.top,f),i.setProperty(eBaseProperties.width,h),f+=t(i,_),i.mInLayout=!1),i.getDragBorder(i.form.curScreenSize)&&e!=WND_WC_TOOLBAR_TOP&&o.addDragBorderObject(r,i,eBaseProperties.height)),(i=a[WND_WC_STATUSBAR])&&n.yZ.getObjectVisible(i.elem)&&((this.mCanLayout||i.inhLevel)&&(i.mInLayout=!0,g-=t(i,_),i.setProperty(eBaseProperties.left,0),i.setProperty(eBaseProperties.top,g),i.setProperty(eBaseProperties.width,h),i.mInLayout=!1),i.getDragBorder(i.form.curScreenSize)&&e!=WND_WC_STATUSBAR&&o.addDragBorderObject(r,i,eBaseProperties.top)),(i=a[WND_WC_TOOLBAR_BOTTOM])&&n.yZ.getObjectVisible(i.elem)&&((this.mCanLayout||i.inhLevel)&&(i.mInLayout=!0,g-=t(i,_),i.setProperty(eBaseProperties.left,0),i.setProperty(eBaseProperties.top,g),i.setProperty(eBaseProperties.width,h),i.mInLayout=!1),i.getDragBorder(i.form.curScreenSize)&&e!=WND_WC_TOOLBAR_BOTTOM&&o.addDragBorderObject(r,i,eBaseProperties.top)),(i=a[WND_WC_TOOLBAR_LEFT])&&n.yZ.getObjectVisible(i.elem)&&((this.mCanLayout||i.inhLevel)&&(i.mInLayout=!0,i.setProperty(eBaseProperties.left,y),i.setProperty(eBaseProperties.top,f),i.setProperty(eBaseProperties.height,g-f),y+=s(i,_),i.mInLayout=!1),i.getDragBorder(i.form.curScreenSize)&&e!=WND_WC_TOOLBAR_LEFT&&o.addDragBorderObject(r,i,eBaseProperties.width)),(i=a[WND_WC_TOOLBAR_RIGHT])&&n.yZ.getObjectVisible(i.elem)&&((this.mCanLayout||i.inhLevel)&&(i.mInLayout=!0,v-=s(i,_),i.setProperty(eBaseProperties.left,v),i.setProperty(eBaseProperties.top,f),i.setProperty(eBaseProperties.height,g-f),i.mInLayout=!1),i.getDragBorder(i.form.curScreenSize)&&e!=WND_WC_TOOLBAR_RIGHT&&o.addDragBorderObject(r,i,eBaseProperties.left)),(i=a[WND_WC_MAIN_HEADER])&&n.yZ.getObjectVisible(i.elem)&&((this.mCanLayout||i.inhLevel)&&(i.mInLayout=!0,i.setProperty(eBaseProperties.top,f),f+=t(i,_),i.setProperty(eBaseProperties.left,y),i.setProperty(eBaseProperties.width,v-y),i.mInLayout=!1),i.getDragBorder(i.form.curScreenSize)&&e!=WND_WC_MAIN_HEADER&&o.addDragBorderObject(r,i,eBaseProperties.height)),i=a[WND_WC_HEADER_BUTTON];var b=a[WND_WC_HORZ_FOOTER],D=a[WND_WC_HORZ_HEADER],C=a[WND_WC_VERT_HEADER],O=C&&(this.mCanLayout||C.inhLevel)?s(C,_,!0):0,E=D&&(this.mCanLayout||D.inhLevel)?t(D,_,!0):0;b&&(this.mCanLayout||b.inhLevel)&&t(b,_,!0);if(D&&n.yZ.getObjectVisible(D.elem)&&((this.mCanLayout||D.inhLevel)&&(D.mInLayout=!0,D.setProperty(eBaseProperties.top,f),i||(f+=D.getCoordProperty(eBaseProperties.height)),D.setProperty(eBaseProperties.left,y+O),D.setProperty(eBaseProperties.width,v-(y+O)),D.mInLayout=!1),D.getDragBorder(D.form.curScreenSize)&&e!=WND_WC_HORZ_HEADER&&o.addDragBorderObject(r,D,eBaseProperties.height)),C&&n.yZ.getObjectVisible(C.elem)&&((this.mCanLayout||C.inhLevel)&&(C.mInLayout=!0,C.setProperty(eBaseProperties.left,y),i||(y+=C.getCoordProperty(eBaseProperties.width)),C.setProperty(eBaseProperties.top,f+(i?E:0)),C.setProperty(eBaseProperties.height,g-f-(i?E:0)),C.mInLayout=!1),C.getDragBorder(C.form.curScreenSize)&&e!=WND_WC_VERT_HEADER&&o.addDragBorderObject(r,C,eBaseProperties.width)),i&&D&&C&&n.yZ.getObjectVisible(i.elem)&&(this.mCanLayout||i.inhLevel)&&(i.mInLayout=!0,i.setProperty(eBaseProperties.top,f),f+=D.getCoordProperty(eBaseProperties.height),i.setProperty(eBaseProperties.left,y),y+=C.getCoordProperty(eBaseProperties.width),i.setProperty(eBaseProperties.width,C.getCoordProperty(eBaseProperties.width)),i.setProperty(eBaseProperties.height,D.getCoordProperty(eBaseProperties.height)),i.mInLayout=!1),b&&n.yZ.getObjectVisible(b.elem)&&((this.mCanLayout||b.inhLevel)&&(b.mInLayout=!0,b.setProperty(eBaseProperties.top,f),i||(f+=b.getCoordProperty(eBaseProperties.height)),b.setProperty(eBaseProperties.left,y+O),b.setProperty(eBaseProperties.width,v-(y+O)),b.mInLayout=!1),b.getDragBorder(b.form.curScreenSize)&&e!=WND_WC_HORZ_FOOTER&&o.addDragBorderObject(r,b,eBaseProperties.height)),(i=a[WND_WC_CLIENT])&&n.yZ.getObjectVisible(i.elem)&&(this.mCanLayout||i.inhLevel)){i.mInLayout=!0,i.setProperty(eBaseProperties.top,f),i.setProperty(eBaseProperties.left,y);var S=v-y;S<0&&(S=0),i.setProperty(eBaseProperties.width,S);var P=g-f;P<0&&(P=0),i.setProperty(eBaseProperties.height,P),i.mInLayout=!1}null!=p&&(l.style.overflow=p)}},C.prototype.commsParamsExecGetObj=function(e,t,s,i){var n=this.formFindByNumber(e,!1);if(!n)throw jGetOmnisException(this,"omn_inst_formnum",s);var r=n.findChild(t,s==f.SetProperty?-2:-1);if(r)return r;if(!i)throw jGetOmnisException(this,"omn_inst_objnum",s);return null},C.prototype.commsParamsExecGetForm=function(e,t,s){var i;if(-1==(i="number"==typeof e?this.formFindByNumber(e):this.formFindByName(e)))throw jGetOmnisException(this,"omn_inst_formnum",t);return s?i:this.formGet(i)},C.prototype.commsParamsTranslate=function(e,t,s){if("string"==typeof s&&(t&&(e=this.formFindByNumber(t)),e>=0)){var i=this.formGet(e);i&&i.stringTable&&(s=i.stringTable.translateText(s))}return s},C.prototype.commsParamsExecOpenForm=function(e,t){t.isSubform=n.yZ.defaultParameter(t.isSubform,!1);var s=this.formGet(e);if(s){var i;if(this.lastMessage==_.ReConnect&&this.formCloseAll(s),s.init_form_inst(t),!n.yZ.mDesign)(i=t.formScript&&t.formScript.length>0?t.formScript:s.serverElem.getAttribute("data-cs"))&&(s.hasClientScripts=!0,s.mHasClientEvent=1*i.substr(0,1)!=0,this.checkScripts(t.formClassName,s,i.substr(1)));t.isSubform||this.formSetVisible(e,!1,!0),s.mInstallingChildren=!0,s.setScreenSize(!1,!1);for(var r=s.elem.childNodes,o=r.length,a=0;a<o;a++)s.installChildren(null,r[a],null,0);var l=0;if(function e(t){for(var s=0;s<t.mChildren.length;s++){var i=t.mChildren[s];i instanceof ctrl_subform&&i.classname&&l++,i instanceof ctrl_pagedpane&&e(i)}}(s),s.pendingChildSubforms=l,0===l&&s.loadFinished(),!s.resizeMode||t.isSubform||this.screenSizeOption?s.setScreenSize(!0,s.isResponsive):s.applyResizeMode(!0),s.mInstallingChildren=!1,t.isSubform)if(t.subFormObj.mSFS){var h=t.subFormObj,c=this.getFirstChild(s)||h;h.sfsSavedFocus=c?c.objNumber:0,h.mSFS.isTopForm(h.mSFSuniqueId)&&(this.firstChild=c),h.resizeElem&&(h.resizeElem.style.display="block"),h.mSFSneedBringToFront?(h.mSFS.bringToFront(h.mSFSuniqueId),h.mSFSneedBringToFront=!1):s.setTabOrder(),0==--h.mSFS.mConstructing&&h.mSFS.buildOrderVar()}else s.setTabOrder();else s.setTabOrder(),this.resizeMode==eResizeModes.center&&s.center(),this.firstChild=this.getFirstChild(s),this.checkWindowScrollBars();return n.yZ.mDesign&&s.sendTabOrderMessage(),!0}return!1},C.prototype.commsParamsExecOpenSubform=function(e,t,s,i){var n=this.commsParamsExecGetObj(e,t,f.SubForm);if(n){var r=this.commsParamsExecGetForm(e,f.SubForm,!1);if(r)return n.setSubform(s),i.isSubform=!0,i.parentForm=r,i.subFormObj=n,this.commsParamsExecOpenForm(s,i)}return!1},C.prototype.commsParamsExecChangeForm=function(e,t){var s=this.commsParamsExecGetForm(t,f.ChangeForm,!0);return s>=0&&(this.formSetVisible(s,!0),!0)},C.prototype.commsParamsExecMakeFormCurrent=function(e,t){var s=this.commsParamsExecGetForm(t,f.MakeFormCurrent,!0);return s>=0&&(this.formSetVisible(s,!0),!0)},C.prototype.commsParamsExecCloseForm=function(e,t){var s=this.commsParamsExecGetForm(t,f.CloseForm,!0);return s>=0&&(this.formClose(s,this.lastMessage!=_.CloseSubform),!0)},C.prototype.subformClosed=function(e,t){var s=this.commsParamsExecGetForm(t,f.ClosedSubform,!1);if(s){var i=s.subFormObj;if(i){var n=this;setTimeout((function(){i.useMultipleClasses()&&(s.mMultipleClassRemove=s.index),n.formClose(s.index,!1,!0),i.classname==s.omnisclass&&(i.classname="")}),0)}return!0}return!1},C.prototype.commsParamsExecInstanceVars=function(e,t,s){var i=this.commsParamsExecGetForm(t,f.InstanceVars,!1);if(i)return s.lstRow?i.instanceVars=s:i.instanceVars.lstData=s,!0},C.prototype.commsParamsExecSetProperty=function(e,t,s,i,n,r){if(n=this.commsParamsTranslate(e,t,n),s){var o=this.commsParamsExecGetObj(t,s,f.SetProperty,!0);if(o)return o.rowNumber?o.rowCtrl.setPropertyChildControls(s,i,n,r):o.doSetProperty(i,n)}else{if(i==-eBaseProperties.beginanimations||i==-eBaseProperties.commitanimations){var a=this.formFindByNumber(t,!1);return a&&(i==-eBaseProperties.beginanimations?a.beginAnimations(n,r):a.commitAnimations()),!0}if(a=this.formFindByNumber(t,!1))return a.doSetProperty(i,n)}return!1},C.prototype.commsParamsExecClearExceptions=function(e,t,s,i){if(s){var n=this.commsParamsExecGetObj(t,s,f.SetProperty,!0);n&&n.$clearexceptions(i)}},C.prototype.commsParamsExecEvGoto=function(e,t,s,i,n){if(s){var r=this.commsParamsExecGetObj(t,s,f.EvGoto);r&&(r.focus(),n&&setTimeout((function(){try{r instanceof ctrl_combobox?r.edit.select():r.getClientElem().select()}catch(e){}}),0))}},C.prototype.commsParamsExecEvCustomR=function(e,t,s,i,n){try{if(s){var r=this.commsParamsExecGetObj(t,s,f.EvCustomR,!0);if(r)return r.handleEventResult(i,n)}else{var o=this.commsParamsExecGetForm(t,f.EvCustomR,!1);o&&o.handleEventResult&&o.handleEventResult(i,n)}}catch(e){}return!1},C.prototype.commsParamsClientCommand=function(e,t,s,i,r,o){var a;e&&e instanceof omnis_form?(a=e,i=m[i]):(e=this.formFindByNumber(t),a=this.formGet(e));var l=r?r.lstData:[],h=l.length;switch(i){case m.yesnomessage:var c=l[0],u=l[1],d=h>=3?l[2]:null,p=h>=4?l[3]:null,_=h>=5?l[4]:null,f=[new button(n.yZ.yesString,!0,d,n.yZ.yesAccel),new button(n.yZ.noString,!0,p,n.yZ.noAccel)];_&&f.push(new button(n.yZ.cancelString,!0,_,"esc")),n.yZ.showDialogEx(u,c,"query",0,0,null,!1,!0,!1,f,a);break;case m.noyesmessage:c=l[0],u=l[1],d=h>=3?l[2]:null,p=h>=4?l[3]:null,_=h>=5?l[4]:null,f=[new button(n.yZ.noString,!0,p,n.yZ.noAccel),new button(n.yZ.yesString,!0,d,n.yZ.yesAccel)],_&&f.push(new button(n.yZ.cancelString,!0,_,"esc")),n.yZ.showDialogEx(u,c,"query",0,0,null,!1,!0,!1,f,a);break;case m.okcancelmessage:c=l[0],u=l[1];var g=h>=3?l[2]:null;_=h>=4?l[3]:null,f=[new button(n.yZ.okString,!0,g)],_&&f.push(new button(n.yZ.cancelString,!0,_,"esc")),n.yZ.showDialogEx(u,c,"query",0,0,null,!1,!0,!1,f,a);break;case m.soundbell:this.playSound(["beep.wav","beep.mp3"]);break;case m.settheme:this.theme.setNewTheme(l[0],!0);break;case m.savepreference:try{if(h>=2){var y=l[2]?l[2].toLowerCase():n.kt.local;n.yZ.setPreference(y,l[0],l[1],this)}}catch(e){}break;case m.loadpreference:try{if(h>=2){var v=a.getDataIndex(l[1]);v&&(y=l[2]?l[2].toLowerCase():n.kt.local,n.yZ.loadPreference(y,l[0],this,a.index,v))}}catch(e){}break;case m.setlocale:n.yZ.setPreferredClientLocale(l[0],this),l[1]&&this.showLocaleChangedMessage(a);break;case m.clearlocale:n.yZ.clearPreferredClientLocale(this),l[0]&&this.showLocaleChangedMessage(a);break;case m.javamessage:var b=l[0];c=l[1],u=l[2];var D,C=l[3],O=l[4],E=l[5],S=l[6];f=null,(O||E||S)&&(f=[]),O&&(D=O.split(":"),f.push(new button(D[0],!0,D[1]))),E&&(D=E.split(":"),f.push(new button(D[0],!0,D[1]))),S&&(D=S.split(":"),f.push(new button(D[0],!0,D[1]))),n.yZ.showDialogEx(u,c,b,0,0,null,C?1:null,!0,!1,f,a,null,"message"!==b);break;case m.playsound:if(h>=1){for(var P=[],M=0;M<l.length;++M)P.push(l[M]);this.playSound(P)}break;case m.setcustomformat:h>=1&&n.yZ.setDefaultDateFormatCustom(l[0]);break;case 11:var w=0;h>=1&&(w=l[0]),n.yZ.lockOverlay(1*w!=0);break;case m.subformset_add:return this.subformsetAdd(a,r);case m.subformset_remove:return this.subformsetRemove(a,r);case m.subformset_formadd:var L=this.getSetFromName(r.lstData.shift(),"subformset_formadd");return this.subformsetFormAdd(L,r.lstData,null,!0,!0);case m.subformset_formremove:return this.subformsetFormRemove(a,r);case m.subformset_formtofront:return this.subformsetFormToFront(a,r);case m.subformdialogshow:return this.subformDialogShow(a,r);case m.subformdialogclose:return this.subformDialogClose();case m.showpdf:case m.assignpdf:return this.doPDF(a,i,r);case m.clearerrors:return!!a&&(a.clearErrors(),!0);case m.openpush:return this.openPush(o,!1,l&&l.length?+l[0]:0);case m.closepush:return this.closePush();case m.readfile:return!!a&&(a.readFile(l[0],l[1],l[2]),!0);case m.closefile:var T=l[0];return T?jOmnisFiles[T]&&delete jOmnisFiles[T]:jOmnisFiles={},!0;case m.showloadingoverlay:return l[0]?n.yZ.overlayManager.addOverlay(l[1],a,l[2],l[3],!0):n.yZ.overlayManager.removeOverlay(l[1],a,!0),!0;case m.enablepushnotifications:return!(!wrapperInterface||!wrapperInterface.wrapperFeatures[eWrapperFeature.PUSH_NOTIFICATIONS])&&(wrapperInterface.enablePushNotifications(l[0]),!0);case m.speakmessage:return this.updateLiveRegion(l[0],l[1]),!0;case m.showtoast:return function(){var e=l[0];if(""===e)return!1;e=n.yZ.cToChar(e).replace(/\\n/g,"\n"),l=l.map((function(e){return""===e?null:e})),OmnisToastMessage.showToast(e,{timeout:l[1],posX:"n"===l[2]?null:l[2],posY:"n"===l[3]?null:l[3],containerName:l[4],fixed:l[5],originX:l[6],originY:l[7],speakMessage:l[8],assertive:l[9]},a)}(),!0;default:return!1}return!0},C.prototype.showLocaleChangedMessage=function(e){var t=(0,r.W7)(this,"omn_cli_locale_change_title"),s=(0,r.W7)(this,"omn_cli_locale_change_msg"),i=[new button(n.yZ.noString,!0,null,n.yZ.noAccel),new button(n.yZ.yesString,!0,(function(){window.location.reload(!0)}),n.yZ.yesAccel)];n.yZ.showDialogEx(t,s,"query",0,0,null,!1,!0,!1,i,e)},C.prototype.playSound=function(e){if(0!=e.length){try{for(var t=new Audio,s=0;s<e.length;++s){var i=e[s],n=i.lastIndexOf(".");if(-1!=n){var r,o=i.substr(n+1).toLowerCase();if("wav"==o?r="audio/wav":"mp3"==o?r="audio/mpeg":"ogg"==o&&(r="audio/ogg"),r&&t.canPlayType(r))return t.src="sounds/"+i,void t.play()}}}catch(e){}this.soundElement&&document.body.removeChild(this.soundElement),this.soundElement=document.createElement("embed"),this.soundElement.setAttribute("autostart","true"),this.soundElement.setAttribute("hidden",!0),this.soundElement.setAttribute("src","sounds/"+e[0]),document.body.appendChild(this.soundElement)}},C.prototype.commsParamsExecSetInstVar=function(e,t,s,i,n){var r=this.commsParamsExecGetForm(t,f.SetInstVar,!1);if(r){if(n){var o=s%65536,a=Math.floor(s/65536);return r.setData(o,i,"#1COL",n,a,!1)}return r.setData(s,i,null,null,null,!1)}return!1},C.prototype.commsParamsExecSetListCurline=function(e,t,s,i){var n=this.commsParamsExecGetForm(t,f.SetInstVarSel,!1);return!!n&&n.setData(s,i,"#L",null,null,!1)},C.prototype.commsParamsExecSetListSelection=function(e,t,s,i){var n=this.commsParamsExecGetForm(t,f.SetInstVarSelStateAll,!1);if(!n)return!1;var r=n.getData(s,"#LCNT"),o=[];r>0&&(o[r-1]=0);for(var a=0;a<r;++a)o[a]=0;if(i&&i.length>0){var l=i.split(",");for(a=0;a<l.length;++a){var h=l[a],c=h.indexOf(":");if(-1==c)o[1*h-1]=1;else for(var u=1*h.substr(0,c)-1,m=1*h.substr(c+1)-1,d=u;d<=m;++d)o[d]=1}if(o.length>r)for(a=r;a<o.length;++a)null==o[a]&&(o[a]=0)}return n.setData(s,o,"#LSEL_ALL",null,null,!1)},C.prototype.commsParamsExecShowMessage=function(e,t,s){t=this.commsParamsTranslate(e,null,t),s="number"==typeof s&&0===s?"":this.commsParamsTranslate(e,null,s),setTimeout((function(){n.yZ.okMessage(s,t)}),0)},C.prototype.commsParamsExecRedirectClient=function(e,t,s,i){if(n.yZ.inAppWrapper()){var r={ID:"ShowUrl",Data:e},o=JSON.stringify(r);window.wrapperInterface.sendDeviceRequest(o)}else{var a=window.open(e,t,s,!1);a&&i&&(this.pruneDeadBrowserWindows(),this.openedBrowserWindows[i]=a)}},C.prototype.pruneDeadBrowserWindows=function(){for(var e in this.openedBrowserWindows)!1!==this.openedBrowserWindows[e].closed&&delete this.openedBrowserWindows[e]},C.prototype.commsHandleResultFromServer=function(e,t){if(-1==t.indexOf("ORFCMess")||-1==t.indexOf("ORFCParam")){if(t.length){var s=this;setTimeout((function(){n.yZ.okMessage((0,r.j3)(s,"error"),t)}),0),this.lastMessage==_.MethodWithReturn&&n.yZ.hideOverlay(!0)}}else try{var i=n.yZ.parseJSON(t);switch(null!=i.OMNISServer&&(this.omnisserverandport=i.OMNISServer),this.commsParams=i.ORFCParam,i.ORFCMess){case _.RConnect:if(this.lastMessage==_.Connect){if(n.yZ.mDesign){n.yZ.openDesignWebSocket();var o=document.getElementById("omnisobjectOld");o&&(o.parentNode.removeChild(o),n.yZ.clearStyleSheets())}return this.commsParamsExec(e,!0)}break;case _.RReConnect:if(this.lastMessage==_.ReConnect)return this.commsParamsExec(e);break;case _.RDisconnect:if(this.lastMessage==_.Disconnect)return this.commsParamsExec(e);break;case _.RClientResumed:if(this.lastMessage===_.ClientResumed)return this.commsParamsExec(e);break;case _.RMethod:if(this.lastMessage==_.MethodWithReturn||this.lastMessage==_.Method)return this.commsParamsExec(e);break;case _.REvent:if(this.lastMessage==_.Event){var a=this.commsParamsExec(e);return this.mEventResponseObject&&(this.mEventResponseObject.eventResponseHasBeenProcessed(),this.mEventResponseObject=null),a}break;case _.ROpenAnotherForm:if(this.lastMessage==_.OpenAnotherForm)return this.commsParamsExec(e);break;case _.ROpenSubform:if(this.lastMessage==_.OpenSubform)return this.commsParamsExec(e);break;case _.RCloseSubform:if(this.lastMessage==_.CloseSubform)return this.commsParamsExec(e);break;case _.RBulkLoad:if(this.lastMessage===_.BulkLoad){this.bulkLoadAltCache=new l(this);var h=this.commsParamsExec(e);return this.bulkLoadAltCache=null,h}break;case _.ErrorDisconnected:case _.Error:return n.yZ.mDesign||(this.serverError=!0),this.commsParamsClear(),this.lastMessage===_.MethodWithReturn&&n.yZ.hideOverlay(!0),this.onDisconnected(i.ORFCParam+"",e),!0}n.yZ.okMessage((0,r.j3)(this,"error"),(0,r.j3)(this,"omn_inst_respbad"))}catch(e){n.yZ.handleError(e,this),this.commsParamsClear()}return!1},C.prototype.clientHandledDisconnect=function(e,t){for(var s=this.formGet(e);s;){if(s.callMethodEx("$ondisconnected",eDoMethodFlags.clientOnly|eDoMethodFlags.noLog,t))return!0;s=s.parentForm}return-1!==this.visibleForm&&this.visibleForm!==e&&this.clientHandledDisconnect(this.visibleForm,t)},C.prototype.registerPropertyObject=function(e){for(var t=0;t<this.registeredPropertyObjects.length;++t)if(e.uniqueID==this.registeredPropertyObjects[t].uniqueID)return;this.registeredPropertyObjects.push(e)},C.prototype.registerEventResponseObject=function(e){this.mEventResponseObject=e},C.prototype.sendMessageCallback=function(e){for(var t=JSON.parse(e),s=t.ParamsText.ORFCParam,i=t.DataJson,n=0;n<s.length;n++)if(s[n][0]===f.SubForm){var r="[[5,"+s[n][1]+","+s[n][2]+","+D+",0,0,0],[";i=t.DataJson.replace("[[",r)}var o=JSON.parse(i);for(n=0;n<o.length;n++)if(o[n][0]===f.OpenForm)o[n][1]=D;var a={ORFCMess:_.ROpenSubform,ORFCParam:o},l=JSON.stringify(a);D++;var h=this.curFormIndex;if(this.newFormElem&&this.newFormName){var c=this.omnislib,u=this.newFormName.indexOf(".");-1!=u&&(c=this.newFormName.substr(0,u),this.newFormName=this.newFormName.substr(u+1)),h=this.formAdd(this.newFormElem,c,this.newFormName)}this.commsHandleResultFromServer(h,l)},C.prototype.sendMessage=function(e,t,s,i,o,a,l){if(this.serverError)return this.clientHandledDisconnect(t,null),!1;!l&&n.yZ.mDesign&&(l=!0);var h=a||this.commsParamsToText(e);if(this.commsParamsClear(),this.mBulkSubformLoad)return this.mBulkSubformLoad.push({message:e,paramsText:h,curFormIndex:t,newFormElem:s,newFormName:i,cachedData:o}),!0;if(this.inRequest)return this.messageQueue.push({message:e,paramsText:h,curFormIndex:t,newFormElem:s,newFormName:i,cachedData:o,noOverlay:l}),!0;this.lastMessage=e,this.cachedData=o;var c=this.formGet(t);if(1==this.offlinemode&&i){this.curFormIndex=t,this.newFormElem=s,this.newFormName=i;var u="var obj = jOmnis.getOmnisInst("+this.index+"); if (obj) obj.sendMessageCallback(arg1);",m=JSON.parse(h),d={ID:"GetFormAddress",retID:u,Data:i,ParamsText:m},f=JSON.stringify(d);window.wrapperInterface.sendDeviceRequest(f)}else{var g=p(this),y=this;if(g){if(this.inRequest=!0,this.inRequestForm=t,this.lastMessage==_.Disconnect)try{this.closePush(),this.sendBeaconOrPOST(this.url,h,!!this.mustSendSyncDisconnect||!n.yZ.asyncDisconnect,this.mustSendSyncDisconnect)}catch(e){console.log(e)}else _.MethodWithReturn==e?this.serverReturnValue=null:l||n.yZ.showOverlay(!0,!1,c),this.postRequestToServer(g,h,!0,(function e(){if(4==g.readyState){if(n.yZ.msgCanHideOverlay=!1,y.lastMessage==_.MethodWithReturn||l||(n.yZ.msgCanHideOverlay=!0),200==g.status){if(y.clearCommsTimerInterval(),s&&i){var o=y.omnislib,a=i.indexOf(".");-1!=a&&(o=i.substr(0,a),i=i.substr(a+1)),t=y.formAdd(s,o,i)}y.commsHandleResultFromServer(t,g.responseText)}else{if(y.messageTimedOut)return;if(void 0!==navigator.onLine&&!navigator.onLine)return;if(400==g.status)alert(g.responseText);else if(confirm((0,r.j3)(y,"comms_error")))return g.abort(),void y.postRequestToServer(g,h,!0,e,!0);y.clearCommsTimerInterval()}n.yZ.msgCanHideOverlay&&(n.yZ.msgCanHideOverlay=!1,n.yZ.hideOverlay(!0)),y.messageDone()}}));return!0}}return!1},C.prototype.sendBeaconOrPOST=function(e,t,s,i){var r=!1;if(!i)try{r=n.yZ.mDesign?navigator.sendBeacon(e,"!"+t):navigator.sendBeacon(e,t)}catch(e){r=!1}if(!r){var o=new XMLHttpRequest;this.postRequestToServer(o,t,!s,null,!1,e)}},C.prototype.messageDone=function(){if(this.inRequest=!1,this.inClientEvent=!1,0!=this.messageQueue.length){var e=this.messageQueue.shift();this.sendMessage(e.message,e.curFormIndex,e.newFormElem,e.newFormName,e.cachedData,e.paramsText,e.noOverlay)}},C.prototype.sendMethod=function(e,t,s,i){if(this.inRequest)throw jGetOmnisException(this,"omn_inst_badservmethcall");this.returnValueMethod=i,this.returnValueObjNumber=t;var n=this.formGet(e);return n?(this.commsParamsAddConnectionID(e),this.commsParamsAddInstanceVars(e),this.commsParamsAdd(f.Method,n.number,1*t,0,s),this.sendMessage(null!=i?_.MethodWithReturn:_.Method,e)):null},C.prototype.sendEvent=function(e,t,s,i,n){var r=this.formGet(t);return!!r&&(this.commsParamsAddConnectionID(t),this.commsParamsAddInstanceVars(t),this.commsParamsAdd(e,r.number,1*s,i,n),this.sendMessage(_.Event,t,null,null,null,null,this.mNoOverlay))},C.prototype.sendOpenSubform=function(e,t,s,i,n,r,o){var a=this.formGet(e);if(a){this.commsParamsAddConnectionID(e),this.commsParamsAddInstanceVars(e),i.omnisObject&&r&&!i.omnisObject.getProperty(eBaseProperties.userinfo)&&i.omnisObject.setProperty(eBaseProperties.userinfo,r.substr(1));var l=0;if(n!=cSubformNotLoaded){var h=this.formGet(n);h&&(l=h.number)}var c=this.commsParamsAddConnectionParams(e,s,!0);if(null!=o&&(null==this.mSfCreateInfo&&(this.mSfCreateInfo={}),this.mSfCreateInfo[o]={cachedData:c,newFormElem:i,newFormName:s},this.commsParamsAdd(f.CachedDataId,o)),this.commsParamsAdd(f.SubForm,a.number,1*t,l,r),i.omnisObject){var u=i.omnisObject.mSFS;u&&this.commsParamsAdd(f.SFSmember,u.mSetName,1*i.omnisObject.mSFSuniqueId)}return this.sendMessage(_.OpenSubform,e,i,s,c)}return!1},C.prototype.sendOpenForm=function(e,t,s){var i=this.inRequestForm,n=this.formGet(i);if(n){i=(n=n.$cwind()).index,this.commsParamsAddConnectionID(i);var r=this.commsParamsAddConnectionParams(i,t),o=n.elem.parentNode;return _.ReConnect==s&&this.mPush&&(this.mRepushURI=this.mPushURI,this.mRepushMaxPollDelay=this.mPush.maxDelay,this.closePush()),this.sendMessage(s,e,o,t,r)}return!1},C.prototype.sendCloseSubform=function(e,t){if(1!=this.offlinemode)return this.commsParamsAddConnectionID(t.index),this.commsParamsAddInstanceVars(t.index),this.commsParamsAdd(f.SubForm,e,0,t.number),this.sendMessage(_.CloseSubform,t.index);this.formClose(t.index,!1)},C.prototype.formAdd=function(e,t,s){for(var i=this.forms.length,n=0;n<this.forms.length;n++)null==this.forms[n]&&(i=n);var r=e.id;if(r.toLowerCase(),0==r.indexOf("omnisobject")){var o=document.createElement("div");e.appendChild(o),e=o}return this.forms[i]=new omnis_form(this,i,e,t,s),i},C.prototype.formClose=function(e,t,s){var i,r=this.formGet(e);if(r){if(this.updatesRequired)for(i=this.updatesRequired.length-1;i>=0;--i)this.updatesRequired[i].ctrl.form==r&&this.updatesRequired.splice(i,1);if(r.subFormObj){var o=r.subFormObj;if(null!=r.mMultipleClassRemove){for(o.form.deleteSubform(r.mMultipleClassRemove),i=0;i<o.formArray.length;i++)if(o.formArray[i].subformIndex==r.mMultipleClassRemove){r.delete_class_inst(),o.formArray.splice(i,1),s||o.subformIndex!=r.mMultipleClassRemove||(o.classname="");break}return n.yZ.applyStyles(),!0}if(o.subformIndex!=cSubformNotLoaded&&s){var a=o.getClientElem(),l=a.cloneNode(!1);return a.innerHTML="",a.parentNode.replaceChild(l,a),o.clientElem=l,o.form.deleteSubform(o.subformIndex),o.subformIndex=cSubformNotLoaded,r.delete_class_inst(),n.yZ.applyStyles(),!0}}r.mInClose=!0;var h=r.elem.parentNode;if(r.delete_class_inst(),this.formDelete(e),t&&this.visibleForm==e){var c=-1;for(i=0;i<this.forms.length;i++)this.forms[i]&&this.forms[i].elem.parentNode==h&&(-1==c||this.forms[i].mVisOrder>this.forms[c].mVisOrder)&&(c=i);-1!=c&&this.formSetVisible(c,!0)}if(r.subFormObj&&r.subFormObj.mSFS&&r.subFormObj.mSFSneedFinishRemove&&!t)r.subFormObj.mSFS.finishRemove(r.subFormObj);else for(var u in this.mSFS)this.mSFS[u].mForm==r&&this.mSFS[u].remove(!0);return n.yZ.applyStyles(),!0}return!1},C.prototype.formCloseAll=function(e){for(var t=0;t<this.forms.length;t++){var s=this.formGet(t);s&&s!=e&&!s.isSubform&&this.formClose(t)}return!0},C.prototype.formDelete=function(e){e>=0&&e<this.forms.length&&(this.forms[e]=null)},C.prototype.formGet=function(e){return e>=0&&e<this.forms.length?this.forms[e]:-1==e&&-1!=this.visibleForm?this.formGet(this.visibleForm):null},C.prototype.formFindByNumber=function(e,t){t=n.yZ.defaultParameter(t,!0);for(var s=0;s<this.forms.length;s++)if(this.forms[s]&&this.forms[s].number==e)return t?s:this.forms[s];return t?-1:null},C.prototype.formFindByName=function(e,t){t=n.yZ.defaultParameter(t,!0);for(var s=0;s<this.forms.length;s++)if(this.forms[s]&&this.forms[s].omnisclass==e)return t?s:this.forms[s];return t?-1:null},C.prototype.formSetVisible=function(e,t,s){for(var i=null,r=0;r<this.forms.length;r++)this.forms[r]&&!this.forms[r].isSubform&&(this.forms[r].elem.setAttribute("data-visible",e==r?1:0),this.forms[r].visibilityChanged(),e==r&&((i=this.forms[r]).mVisOrder=this.mNextVisOrder++));if(this.visibleForm=e,i){var o=n.yZ.mDesign&&i.isResponsive;document.body.style.overflow=i.resizeMode&&i.resizeMode!=eResizeModes.center?o?"visible":"hidden":n.yZ.savedBodyOverflow,s||i.applyResizeMode(),t&&i.canSendEvent(eBaseEvent.evFormToTop)&&i.sendEvent(0,eBaseEvent.evFormToTop,[["pScreenSize",i.curScreenSizeConst]])}},C.prototype.connectCallback=function(e){var t=JSON.parse(e),s=JSON.parse(t.DataJson);if("EMPTY"!=t.StringTableJson){var i=JSON.parse(t.StringTableJson);s.splice(1,0,i)}if(t.StyleData){var n=JSON.parse(t.StyleData);s.splice(1,0,n)}var r={ORFCMess:_.RConnect,ORFCParam:s},o=JSON.stringify(r),a=this.formAdd(this.elem,this.omnislib,this.omnisclass);this.commsHandleResultFromServer(a,o)},C.prototype.restrictClassCaching=function(){var e=this.elem.getAttribute("data-onlycacheclasses");if(null===e)this.classesCanCache=!0;else{this.classesCanCache={};for(var t=e.replace(/\s+/g,"").split(","),s=0;s<t.length;s++)this.classesCanCache[t[s]]=!0}if(this.elem.hasAttribute("data-logcaching")||n.yZ.forceClassCacheLogging){var i=function(e){var t={};this.printLocalStorage=function(){var e,t,s=0;for(t in localStorage)s+=e=2*(localStorage[t].length+t.length),console.log(t.substr(0,50)+" = "+(e/1024).toFixed(2)+" KB");console.log("Total = "+(s/1024).toFixed(2)+" KB")},this.addLogEntry=function(s,i){e&&console.log(i.message+": "+s,i.css),void 0===t[s]&&(t[s]={}),void 0===t[s][i]?t[s][i]=1:t[s][i]+=1},this.getCacheLog=function(){return function(e){for(var s in t)try{t[s].size=0}catch(e){}for(var i in localStorage){var n=i.split("~")[0];i.indexOf("#STYLES")>-1&&(n=i.substr(0,i.indexOf("#STYLES")-1)),t[n]&&(void 0===t[n].size&&(t[n].size=0),t[n].size+=2*(localStorage[i].length+i.length)/(e?1024:1))}for(s in t)try{t[s].size=t[s].size.toFixed(2)+(e?" KB":" B")}catch(e){}}(!0),t}};i.prototype.ACTIONS={ADD_TO_CACHE:{message:"%cCaching Data",css:"color: #1565C0;"},READ_FROM_CACHE:{message:"%cUsing Cached Data",css:"color: #4CAF50;"},FAILED_TO_READ:{message:"%cFailed to read from Cache",css:"color: #F44336;"},FAILED_TO_CACHE:{message:"%cFailed to Cache",css:"color: ##F44336;"},GOT_FROM_SERVER:{message:"%cFetched data from server",css:"color: #FF6F00"},ADD_TO_MEMORY_CACHE:{message:"%cCached to backup in-memory cache",css:"color: #8a15c0"},READ_FROM_MEMORY_CACHE:{message:"%cRead from in-memory cache",css:"color: #8fc23c"},REMOVED_FROM_CACHE:{message:"%cRemoved from cache",css:"color: #c91e35"}},this.cacheLogger=new i("verbose"===this.elem.getAttribute("data-logcaching"))}},C.prototype.canCacheClass=function(e){return!0===this.classesCanCache||!!this.classesCanCache[e]},C.prototype.getResourceContent=function(e,t){var s=this;return new Promise((function(i,n){if(s.offlinemode)wrapperInterface.getOfflineResourceContent(e).then((function(e){i(e)})).catch((function(){n()}));else{var r=new XMLHttpRequest;t&&r.overrideMimeType(t),r.open("GET","./".concat(e),!0),r.onload=function(){200===r.status||0===r.status&&"file:"===document.location.protocol?i(r.responseText):n()},r.onerror=function(){n()},r.send(null)}}))},C.prototype.connect=function(){var e=this;return new Promise((function(t,s){e.setTheme().then((function(){e.connectToOmnis()})).catch((function(){}))}))},C.prototype.setTheme=function(e){var t=this;return new Promise((function(s,i){var n=new Set([e,(0,a.q7)(t.elem.id),t.defaultTheme,a.fY]);(function e(t,n){var r=this,o=h(t).filter((function(e){return!!e})),a=n?o.indexOf(n)+1:0,l=function(){var t=o[a];if(t)return r.theme.setTheme(t,r.elem.id).then((function(){s()})).catch((function(){console.warn('Failed to load theme: "'.concat(t,'"')),e.call(r,o,t)})),{v:void 0};a++};for(;a<o.length;){var c=l();if("object"===u(c))return c.v}i()}).call(t,n)}))},C.prototype.connectToOmnis=function(){window.devicePixelRatio>=2?(this.resolution=y.retina,this.resSuffix="_2x"):window.devicePixelRatio>=1.5?(this.resolution=y.x15,this.resSuffix="_15x"):(this.resolution=y.standard,this.resSuffix="");var e=n.yZ.mQueryParams,t=null!=e&&e.omnisRemoteDebug?1*e.omnisRemoteDebug:0,s=this.coreLocalStorage.getItem("__OMNISCLIENTID");s||(s=""),this.commsParamsAdd(f.ClientInfo,m__d?1:0,s,this.resolution,t,n.yZ.mDesignUnq);var i,o=this.elem.attributes,a="",l="",h="";function c(){g&&"id"!=o[u].name&&"style"!=o[u].name&&"commstimeout"!=m&&"dss"!=m&&this.commsParamsAdd(f.ConnectionParam,m,d)}for(var u=0;u<o.length;u++){var m=o[u].name.toLowerCase(),d=o[u].value,g=!0;if(0==m.indexOf("data-")&&(m=m.slice(5)),"localstorage"!==m)if("window"!==m){if("webserverurl"==m)a=d.replace("_PS_",window.location.protocol+"//"+window.location.host),g=!1;else if("omnisserverandport"==m)this.omnisserverandport=d,g=!1;else if("omnislibrary"==m)m="OmnisLibrary",l=d;else if("omnisclass"==m)m="OmnisClass",h=d;else if("offlinemode"==m)m="offlineMode",this.offlinemode=d;else if("themename"===m)continue;c.call(this)}else for(var v in E=d.split(","))try{for(var b=E[v].split("."),D=window,C=0;C<b.length-1;C++){var O=b[C];if(void 0===D[O]){D=null;break}D=D[O]}D&&void 0!==D[b[b.length-1]]&&(d=D[b[b.length-1]],m="window_"+E[v].replace(/\./g,"_"),c.call(this))}catch(e){console.log(e)}else{var E=d.split(",");M=this,E.forEach((function(e){try{m="localpref_"+e,d=M.coreLocalStorage.getItem(e),c.call(M)}catch(e){console.log(e)}}))}}n.yZ.mDeviceId.length>0&&(this.commsParamsAdd(f.ConnectionParam,"DeviceId",n.yZ.mDeviceId),(null===(i=window.wrapperInterface)||void 0===i?void 0:i.hasFeature(eWrapperFeature.DEVICE_SECURE))&&this.commsParamsAdd(f.ConnectionParam,"DeviceSecure",wrapperInterface.getDeviceSecure()));if(!a.length||!l.length||!h.length)return alert("error invalid omnis form: one or more of the required Omnis Object parameters are missing. Unable to connect to form."),0;this.commsParamsAdd(f.ConnectionParam,"OmnisPlatform","JSU"),this.addScreenSizeParameters();var S=new Date;this.commsParamsAdd(f.ConnectionParam,"JStimezoneOffset",-S.getTimezoneOffset()),this.commsParamsAdd(f.ConnectionParam,"ClientLocale",n.yZ.getClientLocale()),this.commsParamsAdd(f.ConnectionParam,"theme",this.theme.name),e&&this.commsParamsAdd(f.ConnectionParam,"URLparams",JSON.stringify(e)),this.cachedData=this.addVersionParameter(l,h,!0),this.lastMessage=_.Connect;var P=this.commsParamsToText(this.lastMessage);this.commsParamsClear(),this.urlBase=a,this.alwaysSecure=-1!=a.toLowerCase().indexOf("https://"),this.url=a+"/jsclient",this.omnislib=l,this.omnisclass=h;var M=this;if(1==this.offlinemode){var w={ID:"GetFormAddress",retID:"var obj = jOmnis.getOmnisInst("+this.index+"); if (obj) obj.connectCallback(arg1);",Data:h,ParamsText:""},L=JSON.stringify(w);window.wrapperInterface.sendDeviceRequest(L)}else{var T=p(this);if(T){this.inRequest=!0,this.inRequestForm=-1,this.postRequestToServer(T,P,!0,(function e(){if(4==T.readyState){if(200==T.status){M.clearCommsTimerInterval();var t=M.formAdd(M.elem,l,h);M.commsHandleResultFromServer(t,T.responseText)}else{if(M.messageTimedOut)return;if(void 0!==navigator.onLine&&!navigator.onLine)return;if(400==T.status)alert(T.responseText);else if(confirm((0,r.j3)(M,"comms_error")))return T.abort(),void M.postRequestToServer(T,P,!0,e,!0);M.clearCommsTimerInterval()}M.messageDone()}}))}}},C.prototype.addScreenSizeParameters=function(){var e,t;if("undefined"!=typeof omnisandroid?(e=Math.round(window.wrapperInterface.getScreenWidth()/n.yZ.devicePixelRatio),t=Math.round(window.wrapperInterface.getScreenHeight()/n.yZ.devicePixelRatio)):gResponsiveDesign?(e=window.innerWidth,t=window.innerHeight):(e=screen.width,t=screen.height),n.yZ.curScreenSize!=eScreenSize.Desktop){var s,i=n.yZ.portraitSize(n.yZ.curScreenSize)==n.yZ.curScreenSize;(i&&e>t||!i&&e<t)&&(s=t,t=e,e=s)}this.commsParamsAdd(f.ConnectionParam,"JSscreenWidth",e),this.commsParamsAdd(f.ConnectionParam,"JSscreenHeight",t),this.commsParamsAdd(f.ConnectionParam,"JSscreenSize",n.yZ.curScreenSizeConst),this.commsParamsAdd(f.ConnectionParam,"JSDeviceInfo",(gResponsiveDesign?window.innerWidth:screen.width)+"x"+(gResponsiveDesign?window.innerHeight:screen.height)+" (devicePixelRatio:"+(window.devicePixelRatio?window.devicePixelRatio:n.yZ.devicePixelRatio)+")");var r=Object.keys(eClientPlatforms).find((function(e){return eClientPlatforms[e]===n.yZ.clientPlatform}));this.commsParamsAdd(f.ConnectionParam,"clientPlatform",r),null!=navigator.userAgent&&this.commsParamsAdd(f.ConnectionParam,"userAgent",navigator.userAgent),null!=navigator.appName&&this.commsParamsAdd(f.ConnectionParam,"appName",navigator.appName),this.commsParamsAdd(f.ConnectionParam,"Flags","1")},C.prototype.postRequestToServer=function(e,t,s,i,o,a){function l(e,t,s,i,r){t.onreadystatechange=r,t.open("POST",e,i),t.setRequestHeader("content-type",n.yZ.mDesign?"application/omnisdesign;charset=utf-8":"application/json;charset=utf-8"),t.send(s)}if(this.messageTimedOut=!1,a||(a=this.url),l(a,e,t,s,i),s&&!o){var h=this;this.currentCommsTimeout=this.commsTimeout;var c=void 0!==navigator.onLine&&!navigator.onLine;this.runningCommsInterval=setInterval((function(){h.commsTimeout&&0==--h.currentCommsTimeout&&(confirm((0,r.j3)(h,"comms_timeout"))?h.currentCommsTimeout=h.commsTimeout:(h.messageTimedOut=!0,e.abort(),h.clearCommsTimerInterval(),n.yZ.msgCanHideOverlay=h.lastMessage!=_.MethodWithReturn,n.yZ.msgCanHideOverlay&&(n.yZ.msgCanHideOverlay=!1,n.yZ.hideOverlay(!0)),h.messageQueue=[],h.messageDone()));var o=void 0!==navigator.onLine&&!navigator.onLine,u=!1;o!=c&&((c=o)||(u=!0)),c&&(u=!0),u&&(e.abort(),l(a,e,t,s,i))}),1e3)}},C.prototype.clearCommsTimerInterval=function(){this.runningCommsInterval&&(clearInterval(this.runningCommsInterval),this.runningCommsInterval=null)},C.prototype.disconnect=function(e){return this.commsParamsAddConnectionID(this.visibleForm),this.commsParamsAddInstanceVars(this.visibleForm),this.sendMessage(_.Disconnect,this.visibleForm),e||this.formCloseAll(),!0},C.prototype.onDisconnected=function(e,t){if(t||(t=0),e||(e=(0,r.j3)(this,"disconnected")),this.inRequest=!1,!n.yZ.mDesign&&!this.clientHandledDisconnect(t,e)){n.yZ.setOpacity(this.elem,50);var s=this;setTimeout((function(){n.yZ.okMessage((0,r.j3)(s,"error"),e)}),0)}},C.prototype.suspend=function(e){if(!n.yZ.mDesign){if(e&this.suspendConditions){this.suspended=!0,e===C.eTaskSuspendConditions.Cached&&(this.suspendedToCache=!0),this.commsParamsAddConnectionID(this.visibleForm),this.commsParamsAdd(f.SuspendCondition,e);var t=this.commsParamsToText(_.ClientSuspended);this.commsParamsClear(),this.sendBeaconOrPOST(this.url,t)}var s=this.formGet(-1);s&&s.callMethodEx("$suspended",eDoMethodFlags.clientOnly|eDoMethodFlags.noLog,e,this.suspended)}},C.prototype.resume=function(e){if(!n.yZ.mDesign){e&this.suspendConditions&&(e===C.eTaskSuspendConditions.Cached&&(this.suspendedToCache=!1),this.commsParamsAddConnectionID(this.visibleForm),this.commsParamsAdd(f.SuspendCondition,e),this.sendMessage(_.ClientResumed,this.visibleForm));var t=this.formGet(-1);t&&t.callMethodEx("$resumed",eDoMethodFlags.clientOnly|eDoMethodFlags.noLog,e,this.suspended)}},C.prototype.handleOrientationChange=function(e){if(this.mAnimationTimersRunning>0)this.mDeferredOrientationChange=!0;else{this.mInOrientationChange=!0,this.layoutComponents=[];for(var t=0;t<this.forms.length;t++){var s=this.forms[t];if(s&&(s.isResponsive&&!s.isSubform||(s.getTrueVisibility()?s.setScreenSize(!0,!0):s.handleOrientationChangeOnceVisible=!0),s.canSendEvent(eBaseEvent.evScreenOrientationChanged))){var i=n.yZ.getScreenOrientation();s.sendEvent(0,eBaseEvent.evScreenOrientationChanged,[["pScreenSize",s.curScreenSizeConst],["pOrientation",i]])}}this.doLayoutComponents(),this.mInOrientationChange=!1}},C.prototype.animationsStarted=function(e){this.mAnimationTimersRunning+=e},C.prototype.animationsFinished=function(e){if(this.mAnimationTimersRunning-=e,this.mDeferredOrientationChange&&0==this.mAnimationTimersRunning&&(this.mDeferredOrientationChange=!1,this.handleOrientationChange()),this.deferredFocusElem){this.deferredFocusElem.focus();var t=this.deferredFocusElem.form;t&&t.subFormObj&&t.subFormObj.mSFS&&!document.activeElement.closest("#"+this.deferredFocusElem.elem.id)&&t.subFormObj.clientElem.focus(),this.deferredFocusElem=null}},C.prototype.checkScripts=function(e,t,s){function i(e){return e.replace(/[^a-zA-Z0-9_$]/g,"_").toLowerCase()}var n,r=e.indexOf(".");1==this.offlinemode&&(s=DetectWindowsPhone()?e+".js":e+".js?IOSCACHEBUG="+(new Date).getTime());s=-1==r?i(t.omnislib)+"/"+s:i(e.substr(0,r))+"/"+s;for(var o=0;o<this.clientScripts.length;++o){var a=this.clientScripts[o];if(a.name==s)return t.clientScriptsIndex=o,void(a.loaded?t.prepareForScripts():a.forms.push(t))}n=this.offlinemode?"formscripts/"+s:""==this.omnisserverandport?this.urlBase+"/jschtml/formscripts/"+s:this.urlBase+"/formscripts/"+s+"?OmnisServer="+this.omnisserverandport;var l=document.createElement("script");l.setAttribute("type","text/javascript"),l.setAttribute("charset","utf-8"),l.setAttribute("src",n),t.clientScriptsIndex=this.clientScripts.length,this.clientScripts.push({name:s,elem:l,loaded:!1,forms:[t]});var h="var inst = jOmnis.getOmnisInst("+this.index+"); if (inst) inst.clientScriptLoaded("+t.clientScriptsIndex;l.readyState?l.onreadystatechange=new Function(h+",true);"):l.onload=new Function(h+",false);"),(document.head||document.getElementsByTagName("head")[0]||document.documentElement).appendChild(l)},C.prototype.clientScriptLoaded=function(e,t){var s=this.clientScripts[e];if(t){if("complete"!=s.elem.readyState&&"loaded"!=s.elem.readyState)return;s.onreadystatechange=null}if(s.forms){s.loaded=!0;for(var i=0;i<s.forms.length;++i)s.forms[i].prepareForScripts();s.forms=null}},C.prototype.subformsetAdd=function(e,t){if(5!=t.lstData.length)return!1;var s=t.lstData[0];if(null==s||"string"!=typeof s||0==s.length)throw jGetOmnisException(this,"omn_inst_badsfsname","subformset_add");if(this.mSFS[s]){if(this.mSFS[s].mRemovingSet){var i=this;return void setTimeout((function(){i.subformsetAdd(e,t)}),100)}throw jGetOmnisException(this,"omn_inst_dupsfsname","subformset_add",s)}var r,o=t.lstData[1];if(null!=o&&0!=o){if("string"!=typeof o)throw jGetOmnisException(this,"omn_inst_badparent","subformset_add");if(0==o.length)o=e;else{var a;if(o.length<3||-1==(a=o.indexOf(":")))throw jGetOmnisException(this,"omn_inst_badparent","subformset_add");var l=o.substr(0,a),h=o.substr(a+1);if(null==(o=e.findChildByName(l))||!(o instanceof ctrl_pagedpane))throw jGetOmnisException(this,"omn_inst_badpp","subformset_add",l);if(!n.yZ.isInteger(h))throw jGetOmnisException(this,"omn_inst_badparent","subformset_add");if(!(r=parseInt(h,10))||r<1||r>o.pageCount)throw jGetOmnisException(this,"omn_inst_badpn","subformset_add")}}else o=e;var c=1*t.lstData[2],u=t.lstData[3],m=t.lstData[4],d=m.lstDef&&(m.lstDef.length>7||m.lstDef.length>4&&eOmnisDataTypes.fftList===m.lstDef[4][1]);if(!(m instanceof omnis_raw_list)||m.lstData.length>0&&!d||m.lstRow)throw jGetOmnisException(this,"omn_inst_badformlist","subformset_add");return this.mSFS[s]=new omnis_sfs(this,s,o,r,c,u,m),!0},C.prototype.subformsetRemove=function(e,t){if(1!=t.lstData.length)return!1;var s=this.getSetFromName(t.lstData[0],"subformset_remove",!0);return s&&s.remove(s.mForm&&s.mForm.mDoneDelete),!0},C.prototype.subformsetFormAdd=function(e,t,s,i,r){var o=!!e.mForm.isResponsive,a=[],l={usesResponsiveBreakpoints:o&&"object"===u(t[4])};if(t[4]instanceof omnis_raw_list){var h=t[4].lstData;for(var c in h){a=a.concat(h[c]);var m=h[c].splice(0,1)[0];l[m]=h[c]}var d=t[5]}else{if(t.length<8||t.length>13)return!1;d=t[8];l.portrait=[],[4,5,6,7].forEach((function(e){l.portrait=l.portrait.concat(t[e])})),o?l.landscape=n.yZ.deepCopy(l.portrait):(l.landscape=[],[9,10,11,12].forEach((function(e,s){null!=t[e]?l.landscape[s]=t[e]:l.landscape[s]=l.portrait[s]})))}var p=e.addSubform(t[0],t[1],t[2],t[3],l,d,s,i);return p.setModalSavedFocus(),r&&(p.mSFSneedBringToFront=!0),!0},C.prototype.subformsetFormRemove=function(e,t){if(2!=t.lstData.length&&3!=t.lstData.length)return!1;t=t.lstData;var s=this.getSetFromName(t[0],"subformset_formremove"),i=t[1],n=t[2],r=this.commsParamsClear(!0);return s.removeSubform(i,n),this.commsParams=r,!0},C.prototype.subformsetFormToFront=function(e,t){if(2!=t.lstData.length)return!1;t=t.lstData;var s=this.getSetFromName(t[0],"subformset_formadd"),i=t[1];return s.formToFront(i)},C.prototype.getSetFromName=function(e,t,s){if(null==e||"string"!=typeof e||0==e.length)throw jGetOmnisException(this,"omn_inst_badsfsname",t);if(!this.mSFS[e]){if(s&&this.mRemovedSFS&&this.mRemovedSFS[e])return null;throw jGetOmnisException(this,"omn_inst_sfsnotthere",t,e)}return this.mSFS[e]},C.prototype.getTopModalSubform=function(){if(this.modalSubformOrder){for(var e=!1;!e&&this.modalSubformOrder.length>0;){var t=this.modalSubformOrder[this.modalSubformOrder.length-1];s=t.clientElem.id,(e=!!document.getElementById(s))||this.removeFromModalSubformOrder(t)}if(e)return t}var s},C.prototype.addToModalSubformOrder=function(e){this.modalSubformOrder||(this.modalSubformOrder=[]),this.modalSubformOrder.push(e)},C.prototype.removeFromModalSubformOrder=function(e){if(e&&this.modalSubformOrder)for(var t=this.modalSubformOrder.length;t>0;)if(t--,e===this.modalSubformOrder[t])return e.restoreModalSavedFocus(),void this.modalSubformOrder.splice(t,1)},C.prototype.isChildOfTopModalSubform=function(e){var t=this.getTopModalSubform();if(e&&t)return!!e.closest("#"+t.clientElem.id)},C.prototype.subformDialogShow=function(e,t){var s=this;var n=(s.modalDialogSubformSets||(s.modalDialogSubformSets=[]),s.modalDialogSubformSets.push(i.R0+(s.modalDialogSubformSets.length+1)),s.modalDialogSubformSets[s.modalDialogSubformSets.length-1]),r=t.lstData,o=0;o|=r[5]||null==r[5]||""===r[5]?i.Yr.closebutton:0,r[6]&&(o|=i.Yr.resize,r[7]&&(o|=i.Yr.maxbutton),r[8]&&(o|=i.Yr.openmax)),this.mSFS[n]=new omnis_sfs(this,n,e,null,o,null,(new omnis_list).list);var a=[1,r[0],r[1],r[2],i.Nz,i.Nz,r[3],r[4],!0];this.subformsetFormAdd(this.mSFS[n],a,!0,!0,!0)},C.prototype.subformDialogClose=function(){if(this.modalDialogSubformSets&&!(this.modalDialogSubformSets.length<1)){var e={lstData:[this.modalDialogSubformSets.pop()]},t=this.commsParamsClear(!0);this.subformsetRemove(null,e),this.commsParams=t}},C.prototype.checkWindowScrollBars=function(){var e=!1;if(n.yZ.getScrollbarWidth()>0)for(var t=0;t<this.forms.length;t++){var s=this.forms[t];s&&!s.isSubform&&"none"!=s.elem.style.display&&s.needWindowScroll&&(e=!0)}else e=!0;document.body.style.overflow=e?"auto":"hidden"},C.prototype.getFirstChild=function(e){var t,s=+e.serverElem.getAttribute("data-startfield");return s&&(t=e.findChild(s))&&t.canFocus()?t:this.getNextFocusableControl(t,e.elem)},C.prototype.getNextFocusableControl=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.elem,s=Array.prototype.slice.call(t.querySelectorAll("[data-ctrl]")),i=e?s.findIndex((function(t){return t.omnisObject===e})):-1,n=i+1;n<s.length;n++){var r=s[n].omnisObject;if(r&&r.canFocus())return r}return null},C.prototype.doPDF=function(e,t,s){s=s.lstData;var i,r,o,a,l=t==m.assignpdf;if(l){var h=s.shift();if(null==(i=e.findChildByName(h)))throw jGetOmnisException(this,"omn_inst_assignpdf",h);null==(r=s.shift())||"string"==typeof r&&0!=r.length||(r=null)}if(s.length>2&&(o=s[2]+""),n.yZ.inAppWrapper()&&window.wrapperInterface.wrapperFeatures[eWrapperFeature.SHOW_PDF])a=this.url;else{var c=this.url.toUpperCase(),u=0,d=c.indexOf("HTTP://");-1!=d?u=7:-1!=(d=c.indexOf("HTTPS://"))&&(u=8);var p=(a=u?this.url.substr(u):this.url).indexOf("/");a=-1!=p?a.substr(p):a}a+=o?"/pdf/"+o+"?":"?",this.omnisserverandport.length>0&&(a+="OmnisServer="+this.omnisserverandport+"&"),a+="__OmnisCmd=getpdf,"+this.connIndex+","+this.connID+","+this.creationTime+","+this.mSessionID+","+e.number;for(var _=0;_<2;++_)a+=","+s[_];if(null!=r&&(a+="#"+r),!l&&n.yZ.inAppWrapper()&&window.wrapperInterface.wrapperFeatures[eWrapperFeature.SHOW_PDF])window.wrapperInterface.showPDF(a);else if(n.yZ.browserHasPoorPdfSupport&&(a="scripts/pdfjs/web/viewer.htm?file="+encodeURIComponent(a)),l){var f=i.getClientElem();if(i.pdf)if(D=f.firstChild,n.yZ.browserHasPoorPdfSupport)D.src=a;else{var g=D.cloneNode(!0);g.data=a,f.replaceChild(g,D)}else{if(n.yZ.browserHasPoorPdfSupport){var y=document.createElement("iframe");y.src=a,y.style.width="100%",y.style.height="100%",f.appendChild(y)}else{var v=document.createElement("DIV");v.id=f.id,v.style.position=f.style.position,v.style.left=f.style.left,v.style.top=f.style.top,v.style.width=f.style.width,v.style.height=f.style.height,n.yZ.inFirefox()?(v.style.borderLeft=f.style.borderLeft,v.style.borderRight=f.style.borderRight,v.style.borderTop=f.style.borderTop,v.style.borderBottom=f.style.borderBottom):v.style.border=f.style.border;var b=f.parentNode;b.removeChild(f),i.clientElem=v,b.appendChild(v);var D=document.createElement("OBJECT");D.data=a,D.width="100%",D.height="100%",D.type="application/pdf",v.appendChild(D)}i.pdf=!0}}else window.open(a,"","",!1)},C.prototype.$sfsmember=function(e,t,s){var i=this.mSFS[t];if(i){var n=i.mSubforms[s];return n.form.getSubform(n.subformIndex)}return null},C.prototype.willLoadSubform=function(e){var t=this.mSubformLoadQueue;if(t)for(var s=0;s<t.length;++s)if(t[s]==e)return!0;return!1},C.prototype.queueLoadSubform=function(e){this.mSubformLoadQueue||(this.mSubformLoadQueue=[]),this.mSubformLoadQueue.push(e)},C.prototype.loadQueuedSubforms=function(e,t){if(1==e.length)e[0].handleLoadSubform();else{this.mBulkSubformLoad=[];for(var s=0;s<e.length;++s)e[s].handleLoadSubform(d++);var i=this.mBulkSubformLoad;if(this.mBulkSubformLoad=null,0==i.length)return;this.commsParamsAddConnectionID(t);var n=JSON.stringify(this.commsParams);this.commsParamsClear(),n=n.substr(0,n.length-1);var r="";""!=this.omnisserverandport&&(r='"OMNISServer":"'+this.omnisserverandport+'",');var o="{"+r+'"ORFCMess":'+_.BulkLoad+',"ORFCParam":'+n;for(s=0;s<i.length;++s)o+=","+i[s].paramsText;o+="]}",this.sendMessage(_.BulkLoad,t,null,"",null,o)}},C.prototype.startBulkLoad=function(e){if(this.mSubformLoadQueue&&this.mSubformLoadQueue.length){var t=this.mSubformLoadQueue;this.mSubformLoadQueue=null;var s=this;setTimeout((function(){s.loadQueuedSubforms(t,e)}),0)}},C.prototype.openPush=function(e,t,s){if(!(t||e&&e.length)){var i=function(t,s){var i=new RegExp(t,"ig"),n=0;e.replace(i,(function(e){return++n,e}));var r=0;e=e.replace(i,(function(e){return++r==n?s:e}))};e=this.urlBase,i("/omnis","/omnisrest"),i("/nph-omnis","/nph-omnisrest"),i("/omnisrestapi","/omnisrestisapi"),e+="/push"}this.mPushURI=e;var o=this,a=this.mPush;a?a.abort():(a=new Pollymer.Request,this.mPush=a,a.on("finished",(function(t,s,i){500!==t||0!==i["omnis-error"].indexOf("Cannot locate remote task using omnis-connection header")?t<200||t>299?n.yZ.okMessage((0,r.j3)(this,"error"),(0,r.j3)(this,"omn_cli_openpush",null,e)):(s=n.yZ.parseJSON(s,(function(e,t){if(!(e.length>2&&"__"==e.substr(0,2)))return t})),o.mPushedItems||(o.mPushedItems=[]),o.mPushedItems=o.mPushedItems.concat(s),o.mPushQueueInterval||(o.mPushQueueInterval=setInterval((function(){if(!o.inRequest){for(var e=0;e<o.mPushedItems.length;++e){(t=o.mPushedItems[e]).id>o.lastPushReceived&&(o.lastPushReceived=t.id)}for(;o.mPushedItems.length;){var t=o.mPushedItems.shift(),s=o.formFindByNumber(t.form,!1);if(s&&(s.callMethodEx("$pushed",eDoMethodFlags.clientOnly,t.row),o.inRequest))break}o.mPushedItems.length||(clearInterval(o.mPushQueueInterval),o.mPushQueueInterval=null)}}),1))):o.onDisconnected()})),a.on("error",(function(t){setTimeout((function(){o.openPush(e)}),0)})));var l={};""!=this.omnisserverandport&&(l["omnis-server"]=this.omnisserverandport),l["omnis-connection"]=this.connIndex+","+this.connID+","+this.creationTime+","+this.mSessionID;a.maxTries=10,a.recurring=!0,a.rawResponse=!0,s&&s>0&&(a.maxDelay=s),a.start("POST",(function(){return e+"?lastreceived="+o.lastPushReceived}),l,"")},C.prototype.closePush=function(){this.mPush&&(this.mPush.abort(),this.mPush=null,this.mPushURI=null)},C.prototype.createLiveRegion=function(){var e=document.createElement("div");return e.className="sr-only",e.setAttribute("aria-live","polite"),e},C.prototype.updateLiveRegion=function(e,t){this.liveRegion.setAttribute("aria-live",t?"assertive":"polite"),this.liveRegion.innerHTML="<p>"+n.yZ.escapeHTML(e)+"</p>"},C.prototype.afterDesignReload=function(){var e=n.yZ.omnisInsts[0].forms[0],t=this.forms[0];t.mKnobs=e.mKnobs,t.mKnobPositions=e.mKnobPositions,t.mKnobColor=e.mKnobColor,n.yZ.omnisInsts.splice(0,1),this.index=0,t.ident=0,this.designReplace=null;var s=e.stateMessages;if(s){for(var i=0;i<s.length;++i){var r=s[i];o.V[r.messageType](r,t)}e.stateMessages=null}},E.prototype.removeObjects=function(e){for(var t,s=0;s<this.mDragBorderObjects.length;++s){var i=this.mDragBorderObjects[s];e&&i.mObj.getEdgeFloat(i.mObj.form.curScreenSize)==e?t=i:i.remove()}this.mDragBorderObjects=[],t&&this.mDragBorderObjects.push(t)},E.prototype.addObject=function(e,t){this.mDragBorderObjects.push(new S(e,t))},S.prototype.remove=function(){this.mDragBorderDiv.omnisDragBorder=null,this.mObj.elem.removeChild(this.mDragBorderDiv)},S.prototype.addDBOverlay=function(e){var t=n.yZ.eventIsTouchEvent(e);v=this;var s=document.createElement("div");s.className="drag-border-overlay",s.style.width="100%",s.style.height="100%",s.style.zIndex="1000000",s.style.position="absolute",t?(this.touchEventTarget=e.target,e.target.addEventListener("touchmove",M,!0),e.target.addEventListener("touchend",w,!0)):(s.addEventListener("mouseup",w,!0),s.addEventListener("mousemove",M,!0)),document.body.appendChild(s)},S.prototype.mouseDown=function(e){v&&v.mouseUp(null),n.yZ.eventIsTouchEvent(e)?(this.mInitialMouseX=e.changedTouches[0].pageX,this.mInitialMouseY=e.changedTouches[0].pageY):(this.mInitialMouseX=e.clientX,this.mInitialMouseY=e.clientY);var t,s,i,r=null,o=document.activeElement;if(null!=o){for(;null!=o.parentNode&&null==o.omnisObject;)o=o.parentNode;r=o.omnisObject}if(null!=r){for(var a=this.mObj,l=!1;a;){if(a instanceof ctrl_subform){a.mSFS&&(l=!0);break}a=null==a.parentCtrl?a.form.subFormObj?a.form.subFormObj:null:a.parentCtrl}l||(this.savedFocus=document.activeElement)}this.addDBOverlay(e),document.onselectstart=function(){return!1},this.mOldTextSelection=n.yZ.disableTextSelection(document.body),this.mInitialLeft=this.mObj.getCoordProperty(eBaseProperties.left),this.mInitialTop=this.mObj.getCoordProperty(eBaseProperties.top),this.mInitialWidth=this.mObj.getCoordProperty(eBaseProperties.width),this.mInitialHeight=this.mObj.getCoordProperty(eBaseProperties.height),this.mInitialDivLeft=n.yZ.getOmnisLeft(this.mDragBorderDiv),this.mInitialDivTop=n.yZ.getOmnisTop(this.mDragBorderDiv);var h=this.mObj.parentCtrl;if(h&&h instanceof ctrl_pagedpane)t=h.getPageComponents(h.currentPage),s=h.pages[h.currentPage-1].clientWidth-2*h.borderWidth,i=h.pages[h.currentPage-1].clientHeight-2*h.borderWidth;else{var c=this.mObj.form;t=c.getComponents(),s=c.serverElem.clientWidth,i=c.serverElem.clientHeight}var u=s,m=i;for(var d in t){var p=t[d];if(n.yZ.getObjectVisible(p.elem))switch(1*d){case WND_WC_MENUBAR:case WND_WC_TOOLBAR_TOP:case WND_WC_STATUSBAR:case WND_WC_TOOLBAR_BOTTOM:case WND_WC_MAIN_HEADER:case WND_WC_HORZ_HEADER:case WND_WC_HORZ_FOOTER:m-=p.getCoordProperty(eBaseProperties.height);break;case WND_WC_TOOLBAR_LEFT:case WND_WC_TOOLBAR_RIGHT:case WND_WC_VERT_HEADER:u-=p.getCoordProperty(eBaseProperties.width)}}this.mMaxWidth=u+this.mInitialWidth-this.resizeAreaSize,this.mMaxHeight=m+this.mInitialHeight-this.resizeAreaSize,this.mMinWidth=2*this.resizeAreaSize,this.mMinHeight=2*this.resizeAreaSize,n.yZ.appendResizeDiv(this,this.mDragBorderDiv)},S.prototype.mouseMove=function(e){var t,s;if(n.yZ.eventIsTouchEvent(e)?(t=e.changedTouches[0].pageX-this.mInitialMouseX,s=e.changedTouches[0].pageY-this.mInitialMouseY):(t=e.clientX-this.mInitialMouseX,s=e.clientY-this.mInitialMouseY),this.lastDx=t,this.lastDy=s,!this.mSizeTimeout){var i=this;this.mSizeTimeout=setTimeout((function(){i.doMouseMove(!0)}),50)}return!0},S.prototype.doMouseMove=function(e){var t=this.mObj;switch(t.mInLayout=!0,this.mType){case eBaseProperties.height:var s=this.mInitialHeight+this.lastDy;s>this.mMaxHeight?s=this.mMaxHeight:s<this.mMinHeight&&(s=this.mMinHeight);var i=s-this.mInitialHeight;t.setProperty(eBaseProperties.height,s),this.mDragBorderDiv.style.top=this.mInitialDivTop+i+"px";break;case eBaseProperties.top:(s=this.mInitialHeight-this.lastDy)>this.mMaxHeight?s=this.mMaxHeight:s<this.mMinHeight&&(s=this.mMinHeight),t.setProperty(eBaseProperties.height,s);break;case eBaseProperties.width:var n=this.mInitialWidth+this.lastDx;n>this.mMaxWidth?n=this.mMaxWidth:n<this.mMinWidth&&(n=this.mMinWidth);var r=n-this.mInitialWidth;t.setProperty(eBaseProperties.width,n),this.mDragBorderDiv.style.left=this.mInitialDivLeft+r+"px";break;case eBaseProperties.left:(n=this.mInitialWidth-this.lastDx)>this.mMaxWidth?n=this.mMaxWidth:n<this.mMinWidth&&(n=this.mMinWidth),t.setProperty(eBaseProperties.width,n)}t.mInLayout=!1,this.mSizeTimeout=null,e&&(t.parentCtrl?t.parentCtrl.checkLayout(t):t.form.checkLayout(t),this.mInDragBorder=!0,t.form.inst.doLayoutComponents(t.getEdgeFloat(t.form.curScreenSize)),this.mInDragBorder=!1)},S.prototype.mouseUp=function(e){this.mSizeTimeout&&(clearTimeout(this.mSizeTimeout),this.mSizeTimeout=null),this.doMouseMove(!1);var t,s=this.mObj;return s.parentCtrl?s.parentCtrl.checkLayout(s):s.form.checkLayout(s),this.mObj.form.inst.doLayoutComponents(),(t=document.querySelector(".drag-border-overlay"))&&t.parentElement.removeChild(t),v&&v.touchEventTarget&&(v.touchEventTarget.removeEventListener("touchmove",M,!0),v.touchEventTarget.removeEventListener("touchend",w,!0)),document.onselectstart=null,n.yZ.disableTextSelection(document.body,!0,this.mOldTextSelection),n.yZ.removeResizeDiv(this),v=null,this.savedFocus&&(n.yZ.restoreFocus(this.savedFocus),this.savedFocus=null),(this.lastDx&&(this.mType==eBaseProperties.width||this.mType==eBaseProperties.left)||this.lastDy&&(this.mType==eBaseProperties.height||this.mType==eBaseProperties.top))&&this.mObj.canSendEvent(eBaseEvent.evDragBorder)&&this.mObj.sendEvent(eBaseEvent.evDragBorder),!0}},5315:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{AW:function(){return omnis_locale},j3:function(){return jGetOmnisString},W7:function(){return jGetOmnisLocalizedValue},nW:function(){return jGetOmnisException},gU:function(){return jGetExceptionText},eO:function(){return jOmnisStrings}});var core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2772),core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7042),core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(561),core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5306),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3123),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_4__),eStrTblColumn={id:1,defLang:2},localeStartTokens="\"'>[",localeEndTokens="\"'<]";function omnis_locale(e,t){this.setLocale(e,t)}function jGetOmnisString(e,t,s,i){try{var n=jGetOmnisLocalizedValue(e,t,s)}catch(e){return"String lookup failed: "+t}for(var r=3;r<arguments.length;++r){var o=(arguments[r]+"").replace(/\x2F\x2F/g,"/\ufeff/");n=n.replace("",o)}return n}function jGetOmnisLocalizedValue(e,t,s,i){s||(s=e.mLocale?e.mLocale.toLowerCase():"_x");var n,r=jOmnisStrings[s];if((r&&void 0!==r[t]||s.length>2&&(r=jOmnisStrings[s.substr(0,2)])&&void 0!==r[t])&&(n=r[t]),void 0===n&&void 0===(n=(r=jOmnisStrings.base)[t])){if(void 0!==i)return i;throw new Error("Could not find ID '"+t+"' in localization table")}return n}function jGetOmnisException(e,t,s){Array.prototype.splice.call(arguments,2,0,null);var i=jGetOmnisString.apply(this,Array.prototype.slice.call(arguments,0));return new Error(i)}function jGetExceptionText(e,t){var s=jGetOmnisString(e,t.omnisClient?"omn_inst_cliexcep":"omn_inst_excep");return null!=t.line&&null!=t.sourceURL&&(s+=jGetOmnisString(e,"omn_inst_excepfile",null,t.sourceURL,t.line)),s+="//"+t.message}omnis_locale.prototype.setLocale=function(stringTable,locale){if(null!=locale&&0!=locale||(locale=jOmnis.getClientLocale()),"string"!=typeof stringTable){var lst=new omnis_list(stringTable),col=lst.findColumn(locale,!1);null==col&&(col=lst.findColumn(locale.substring(0,2),!0)),null==col&&lst.getColumnCount()>=eStrTblColumn.defLang&&(col=eStrTblColumn.defLang),this.table={__locale:locale};for(var row=1;row<=lst.getRowCount();row++)this.table[lst.getChar(eStrTblColumn.id,row)]=lst.getChar(col,row)}else{var obj=eval(stringTable);if(obj){if(this.tableColIndex=obj.cols.indexOf(locale.toLowerCase()),-1==this.tableColIndex&&2==locale.length)for(var i=0;i<obj.cols.length;i++)if(obj.cols[i].substring(0,2)==locale.toLowerCase()&&(-1==this.tableColIndex||5==obj.cols[i].length&&obj.cols[i].substring(3)==locale.toLowerCase())){this.tableColIndex=i;break}-1==this.tableColIndex&&(this.tableColIndex=obj.cols.indexOf(locale.substring(0,2).toLowerCase()),-1==this.tableColIndex&&(this.tableColIndex=0)),this.table=obj.data}}},omnis_locale.prototype.getNextStringID=function(e,t,s){do{if(s.repStart=e[t].indexOf("$st.",s.srchStart),0==s.repStart){s.repEnd=e[t].length;var i=e[t].substring(s.repStart,s.repEnd);return s.stringID=i.split(","),!0}if(s.repStart>0){var n=e[t][s.repStart-1],r=localeEndTokens[localeStartTokens.indexOf(n)];if(r&&1==r.length){s.repEnd=e[t].indexOf(r,s.repStart+4);i=e[t].substring(s.repStart,s.repEnd);return s.stringID=i.split(","),"]"==r&&(s.repStart--,s.repEnd++),!0}s.srchStart=s.repStart+4}}while(-1!=s.repStart);return!1},omnis_locale.prototype.translateParam=function(e,t){for(var s=!1,i={srchStart:0};this.getNextStringID(e,t,i);){for(var n="",r=0;r<i.stringID.length;r++){var o=i.stringID[r];if(o.length>4&&0==o.indexOf("$st.")){var a=o.substr(4);if(a in this.table){var l=null!=this.tableColIndex?this.table[a][this.tableColIndex]:this.table[a];n=n.length?n+","+l:l;continue}}o=o.replace("$","＄"),n=n.length?n+","+o:o}e[t]=e[t].substring(0,i.repStart)+n+e[t].substring(i.repEnd),i.srchStart=i.repStart,s=!0}return s},omnis_locale.prototype.translateText=function(e){var t={text:e};return this.translateParam(t,"text"),t.text};var jOmnisStrings={base:{}}},4305:function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null})}},function(e){e.O(0,[216,597],(function(){return t=5161,e(e.s=t);var t}));e.O()}]);